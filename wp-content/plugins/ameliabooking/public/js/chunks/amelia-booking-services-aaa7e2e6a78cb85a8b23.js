wpJsonpAmeliaBookingPlugin([16],{1018:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(702),a=i.n(n),o=i(1019),s=i.n(o),r=i(1022),l=i.n(r),c=i(718),u=i.n(c),d=i(793),p=i.n(d),m=i(687),g=i(714),v=i(337),f=i(692),h=i(689),b=i(691),y=i(882),_=i.n(y),x=i(716),C=i(756),w=i.n(C),k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default={mixins:[m.a,v.a,f.a,h.a,b.a,g.a,x.a],data:function(){return{countTotal:0,countFiltered:0,paginationParams:{page:1,show:this.$root.settings.general.servicesPerPage},typeTab:"services",package:null,packages:[],dialogPackage:!1,activeCategory:{},categories:[],categoryToDeleteId:null,count:0,dialogService:!1,deleteConfirmation:!1,draggableOptions:{handle:".am-drag-handle",animation:150},editedCategoryId:0,editedCategoryName:"",editedCategoryOldName:"",fetched:!1,fetchedFiltered:!1,form:new a.a,futureAppointments:{},loadingAddCategory:!1,loadingDeleteCategory:!1,options:{employees:[],settings:{payments:{wc:[]},general:{usedLanguages:[]}}},service:null,services:[],sortingServices:this.$root.settings.general.sortingServices,sortingPackages:this.$root.settings.general.sortingPackages,sortingSelection:[{sortName:this.$root.labels.services_sorting_name_asc,sortValue:"nameAsc"},{sortName:this.$root.labels.services_sorting_name_desc,sortValue:"nameDesc"},{sortName:this.$root.labels.services_sorting_price_asc,sortValue:"priceAsc"},{sortName:this.$root.labels.services_sorting_price_desc,sortValue:"priceDesc"},{sortName:this.$root.labels.services_sorting_custom,sortValue:"custom"}],svgLoaded:!1,dialogTranslate:!1,dialogTranslateExtra:!1,dialogTranslateCategory:!1,dialogTranslateType:"name",dialogTranslateTab:"service",dialogTranslateData:{},dialogTranslateName:"",extrasTranslateIndex:0,languagesData:[],newExtraTranslations:null}},created:function(){this.getOptions(),this.getServices()},mounted:function(){},updated:function(){this.svgLoaded&&this.inlineSVG(),this.svgLoaded=!0},methods:{changeServiceSorting:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.fetchedFiltered=!1,this.updateServicesPositions(e,!0,!0)},changePackagesSorting:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(this.sortingPackages){case"nameAsc":this.packages=this.packages.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1});break;case"nameDesc":this.packages=this.packages.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:-1});break;case"priceAsc":this.packages=this.packages.sort(function(e,t){return e.price-e.price*(e.discount/100)>t.price-t.price*(t.discount/100)?1:-1});break;case"priceDesc":this.packages=this.packages.sort(function(e,t){return e.price-e.price*(e.discount/100)<t.price-t.price*(t.discount/100)?1:-1})}this.updatePackagesPositions(e)},updateServicesPositions:function(e,t,i){var n=this,a=[];this.services.forEach(function(e){var t=e.settings?JSON.parse(JSON.stringify(e.settings)):null;t&&t.payments&&t.payments.wc.productId===n.$root.settings.payments.wc.productId&&delete t.payments.wc,a.push(Object.assign(JSON.parse(JSON.stringify(e)),{settings:t?JSON.stringify(t):null}))}),this.$http.post(this.$root.getAjaxUrl+"/services/positions",{services:a,sorting:this.sortingServices}).then(function(){e&&n.notify(n.$root.labels.success,n.$root.labels.services_positions_saved,"success"),t&&n.updateStashEntities({}),i&&n.getServices()}).catch(function(){n.notify(n.$root.labels.error,n.$root.labels.services_positions_saved_fail,"error")})},updatePackagesPositions:function(e){var t=this;this.packages.forEach(function(e,t){e.position=t+1}),this.$http.post(this.$root.getAjaxUrl+"/packages/positions",{packages:this.packages,sorting:this.sortingPackages}).then(function(){e&&t.notify(t.$root.labels.success,t.$root.labels.packages_positions_saved,"success"),t.updateStashEntities({})}).catch(function(){t.notify(t.$root.labels.error,t.$root.labels.packages_positions_saved_fail,"error")})},getServices:function(){var e=this;this.fetchedFiltered=!1,this.$http.get(this.$root.getAjaxUrl+"/services",{params:{page:this.paginationParams.page,categoryId:this.activeCategory?this.activeCategory.id:null}}).then(function(t){e.services=t.data.data.services,e.countTotal=t.data.data.countTotal,e.countFiltered=t.data.data.countFiltered,e.services.forEach(function(t){t.visible=!0,e.setEntitySettings(t,"service")}),e.fetchedFiltered=!0}).catch(function(t){console.log(t.message),e.fetchedFiltered=!0})},getOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$http.get(this.$root.getAjaxUrl+"/entities",{params:{types:["employees","categories","packages","locations","settings"]}}).then(function(n){e.options.settings.general.usedLanguages=n.data.data.settings.general.usedLanguages,e.options.employees=n.data.data.employees,e.options.locations=n.data.data.locations,e.options.entitiesRelations=n.data.data.entitiesRelations,e.packages=n.data.data.packages,e.packages.sort(function(e,t){return e.position>t.position?1:-1}),e.languagesData=n.data.data.settings.languages,e.categories=n.data.data.categories,e.categories.sort(function(e,t){return e.position>t.position?1:-1}),e.packages.forEach(function(t){e.setEntitySettings(t,"package")}),e.fetched=!0,t&&(e.options.settings.general.usedLanguages=t),!0===i&&e.changePackagesSorting(!1)}).catch(function(t){console.log(t.message),e.fetched=!0})},addCategory:function(){var e=this;this.loadingAddCategory=!0;var t={status:"visible",name:this.$root.labels.new_category,position:this.categories.length+1};this.form.post(this.$root.getAjaxUrl+"/categories",t).then(function(t){e.categories.push(t.data.category),e.editedCategoryId=t.data.category.id,e.editedCategoryName=t.data.category.name,e.loadingAddCategory=!1;var i=e;window.setTimeout(function(){i.$refs.input[i.categories.indexOf(t.data.category)].focus()},0),e.updateStashEntities({})}).catch(function(t){e.notify(e.$root.labels.error,e.$root.labels.category_add_fail,"error"),e.loadingAddCategory=!1})},updateCategory:function(e){var t=this;this.form.post(this.$root.getAjaxUrl+"/categories/"+e.id,e).then(function(){t.notify(t.$root.labels.success,t.$root.labels.category_saved,"success"),t.updateStashEntities({})}).catch(function(){e.name=t.editedCategoryOldName,t.notify(t.$root.labels.error,t.$root.labels.category_saved_fail,"error")})},updateCategoriesPositions:function(e){var t=this;this.$http.post(this.$root.getAjaxUrl+"/categories/positions",{categories:this.categories}).then(function(){e&&t.notify(t.$root.labels.success,t.$root.labels.categories_positions_saved,"success"),t.updateStashEntities({})}).catch(function(){t.notify(t.$root.labels.error,t.$root.labels.categories_positions_saved_fail,"error")})},editCategoryName:function(e,t){if(this.hideDeleteCategoryDialog(),""===t.currentTarget.className){this.editedCategoryId=e.id,this.editedCategoryName=e.name;var i=this;window.setTimeout(function(){i.$refs.input[i.categories.indexOf(e)].focus()},0)}else{if(this.editedCategoryName=this.editedCategoryName.trim(),""===this.editedCategoryName)return;this.editedCategoryOldName=e.name,e.name!==this.editedCategoryName&&(e.name=this.editedCategoryName,this.updateCategory(e)),this.editedCategoryId=this.editedCategoryName=null}},dropCategory:function(e){if(e.newIndex!==e.oldIndex){var t=this;this.categories.forEach(function(e){e.position=t.categories.indexOf(e)+1}),this.updateCategoriesPositions(!0)}},dropService:function(e){e.newIndex!==e.oldIndex&&(this.sortingServices="custom",this.updateServicesPositions(!0,!0,!1))},dropPackage:function(e){e.newIndex!==e.oldIndex&&(this.sortingPackages="custom",this.updatePackagesPositions(!0))},duplicateCategory:function(e){var t=this,i=JSON.parse(JSON.stringify(e));delete i.id,i.position=this.categories.length+1,this.svgLoaded=!1,i.serviceList.forEach(function(e){delete e.id,e.extras.forEach(function(e){delete e.id}),"object"===k(e.settings)&&null!==e.settings?e.settings=JSON.stringify(e.settings):e.settings=null}),this.form.post(this.$root.getAjaxUrl+"/categories",i).then(function(e){t.categories.push(e.data.category),t.services=t.services.concat(e.data.category.serviceList),t.activeCategory=t.categories[t.categories.length-1],t.filterServices(t.activeCategory),t.notify(t.$root.labels.success,t.$root.labels.category_duplicated,"success"),t.updateStashEntities({})}).catch(function(e){t.notify(t.$root.labels.error,t.$root.labels.category_add_fail,"error")})},handleCategoryDeleteConfirmation:function(e){this.categoryToDeleteId=e.id,this.deleteConfirmation=!0,this.editedCategoryId=null,this.editedCategoryName=""},hideDeleteCategoryDialog:function(){this.categoryToDeleteId=null,this.deleteConfirmation=!1},getService:function(e){var t=this;this.$http.get(this.$root.getAjaxUrl+"/services/"+e).then(function(e){var i=e.data.data.service;null===i.timeBefore&&(i.timeBefore=""),null===i.timeAfter&&(i.timeAfter=""),t.setEntitySettings(i,"service"),t.futureAppointments={},t.futureAppointments[i.id]=e.data.data.futureAppointmentsProvidersIds,t.service=i}).catch(function(e){console.log(e.message)})},deleteCategory:function(e){var t=this;this.loadingDeleteCategory=!0,this.$http.post(this.$root.getAjaxUrl+"/categories/delete/"+this.categoryToDeleteId).then(function(){var i=t.categories.indexOf(e);t.categories.splice(i,1),t.services=t.services.filter(function(e){return e.categoryId!==t.categoryToDeleteId}),t.activeCategory.id===t.categoryToDeleteId&&(t.activeCategory={});for(var n=0;n<t.categories.length;n++)t.categories[n].position=n+1;t.updateCategoriesPositions(!1),t.loadingDeleteCategory=!1,t.notify(t.$root.labels.success,t.$root.labels.category_deleted,"success")}).catch(function(){t.loadingDeleteCategory=!1,t.notify(t.$root.labels.error,t.$root.labels.categories_delete_fail,"error")})},filterServices:function(e){this.activeCategory=e,this.paginationParams.page=1,this.getServices()},showDialogNewService:function(){this.service=this.getInitServiceObject(),this.dialogService=!0},showDialogNewPackage:function(){this.package=this.getInitPackageObject(),this.package.position=this.packages.length+1,this.dialogPackage=!0},showDialogEditService:function(e){var t=this;this.service=null,setTimeout(function(){t.getService(e)},500),this.dialogService=!0},showDialogEditPackage:function(e){this.package=this.packages[e],this.dialogPackage=!0},duplicateServiceCallback:function(e){var t=this;this.service=e,this.service.id=0,this.service.duplicated=!0,setTimeout(function(){t.dialogService=!0},300)},duplicatePackageCallback:function(e){var t=this;this.package=e,this.package.id=0,this.package.duplicated=!0,setTimeout(function(){t.dialogPackage=!0},300)},bgColor:function(e){return{"background-color":e}},saveServiceCallback:function(e){this.getOptions(),this.$http.post(this.$root.getAjaxUrl+"/settings",{usedLanguages:this.options.settings.general.usedLanguages}).catch(function(e){console.log(e)}),"custom"===this.sortingServices&&e.position||this.updateServicesPositions(!1,!1,!0),this.dialogService=!1},savePackageCallback:function(){this.$http.post(this.$root.getAjaxUrl+"/settings",{usedLanguages:this.options.settings.general.usedLanguages}).catch(function(e){console.log(e)}),this.dialogPackage=!1,this.getOptions(this.options.settings.general.usedLanguages,!0)},getInitPackageObject:function(){return{id:0,bookable:[],color:"#1788FB",description:"",name:"",pictureFullPath:"",pictureThumbPath:"",price:0,calculatedPrice:!0,discount:0,status:"visible",gallery:[],position:0,settings:this.getInitEntitySettings("package"),endDate:null,durationCount:null,durationType:null,deposit:0,depositPayment:"disabled",translations:null}},getInitServiceObject:function(){return{id:0,categoryId:"",color:"#1788FB",description:"",duration:"",providers:[],extras:[],maxCapacity:1,minCapacity:1,name:"",pictureFullPath:"",pictureThumbPath:"",price:0,status:"visible",timeAfter:"",timeBefore:"",bringingAnyone:!0,show:!0,applyGlobally:!1,gallery:[],aggregatedPrice:!0,settings:this.getInitEntitySettings("service"),recurringCycle:"disabled",recurringSub:"future",recurringPayment:0,position:0,deposit:0,depositPayment:"disabled",depositPerPerson:1,translations:null,minSelectedExtras:null,mandatoryExtra:!1}},showDialogTranslate:function(e,t,i){switch(this.dialogTranslateTab=t,this.dialogTranslateType=e,t){case"service":this.dialogTranslateData=this.service.translations,this.dialogTranslateName=this.service.name,this.dialogTranslate=!0;break;case"extra":this.extrasTranslateIndex=i,this.dialogTranslateData=this.service.extras[i]?this.service.extras[i].translations:this.newExtraTranslations,this.dialogTranslateName=this.service.extras[i]?this.service.extras[i].name:null,this.dialogTranslate=!0;break;case"category":this.dialogTranslateName=this.activeCategory.name,this.dialogTranslate=!0;break;case"package":this.dialogTranslateData=this.package.translations,this.dialogTranslateName=this.package.name,this.dialogTranslate=!0}},showDialogTranslateCategory:function(e){this.activeCategory=e,this.dialogTranslateType="name",this.dialogTranslateTab="category",this.dialogTranslateName=this.activeCategory.name,this.dialogTranslateData=this.activeCategory.translations,this.dialogTranslate=!0},saveDialogTranslate:function(e,t,i){switch(this.options.settings.general.usedLanguages=this.options.settings.general.usedLanguages.concat(t),this.dialogTranslate=!1,i){case"service":this.service.translations=e;break;case"extra":if(this.service.extras[this.extrasTranslateIndex])this.service.extras[this.extrasTranslateIndex].translations=e;else if(this.newExtraTranslations){var n=JSON.parse(this.newExtraTranslations);JSON.parse(e).name&&(n.name=JSON.parse(e).name),JSON.parse(e).description&&(n.description=JSON.parse(e).description),this.newExtraTranslations=JSON.stringify(n)}else this.newExtraTranslations=e;break;case"category":this.activeCategory.translations=e,this.updateCategory(this.activeCategory),this.$http.post(this.$root.getAjaxUrl+"/settings",{usedLanguages:this.options.settings.general.usedLanguages}).catch(function(e){console.log(e)});break;case"package":this.package.translations=e}},closeDialogTranslate:function(){this.dialogTranslate=!1},extraSaved:function(e,t){this.newExtraTranslations=null,this.service.extras[t]=e}},components:{PageHeader:u.a,Draggable:p.a,PaginationBlock:w.a,DialogPackage:l.a,DialogService:s.a,DialogTranslate:_.a}}},1019:function(e,t,i){var n=i(685)(i(1020),i(1021),!1,null,null,null);e.exports=n.exports},1020:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(687),a=i(337),o=i(692),s=i(689),r=i(686),l=i(714),c=i(794),u=i.n(c),d=i(702),p=i.n(d),m=i(793),g=i.n(m),v=i(755),f=(i.n(v),i(691)),h=i(713),b=i.n(h),y=i(881),_=i.n(y),x=i(882),C=i.n(x);t.default={mixins:[n.a,a.a,o.a,s.a,f.a,r.a,l.a],props:{categories:null,passedService:null,employees:null,settings:null,futureAppointments:null,newExtraTranslations:null},data:function(){var e=this,t=function(t,i,n){i<0?n(new Error(e.$root.labels.enter_non_negative_price_warning)):n()};return{depositEnabled:!1,mandatoryExtraEnabled:!1,depositPayment:"fixed",depositOptions:[{value:"fixed",label:this.$root.labels.fixed_amount},{value:"percentage",label:this.$root.labels.percentage}],executeUpdate:!0,dialogLoading:!0,appointmentsEmployees:[],colorPopover:!1,draggableOptions:{animation:150,group:"people",handle:".am-drag-handle"},editedExtra:null,editedExtraOld:null,extraEditDialog:!1,extraToDelete:null,extraToDeleteLoading:!1,form:new p.a,rulesExtra:{name:[{required:!0,message:this.$root.labels.enter_extra_name_warning,trigger:"submit"}],price:[{validator:t,trigger:"submit"},{required:!0,message:this.$root.labels.enter_extra_price_warning,trigger:"submit",type:"number"}]},rulesService:{name:[{required:!0,message:this.$root.labels.enter_name_warning,trigger:"submit"}],categoryId:[{required:!0,message:this.$root.labels.select_service_category_warning,trigger:"submit",type:"number"}],duration:[{required:!0,message:this.$root.labels.select_service_duration_warning,trigger:"submit",type:"number"}],price:[{validator:t,trigger:"submit"},{required:!0,message:this.$root.labels.enter_service_price_warning,trigger:"submit",type:"number"}],providers:[{required:!0,message:this.$root.labels.select_service_employee_warning,trigger:"submit"}]},recurringCycles:[{label:this.$root.labels.disabled,value:"disabled"},{label:this.$root.labels.all,value:"all"},{label:this.$root.labels.recurring_type_daily,value:"daily"},{label:this.$root.labels.recurring_type_weekly,value:"weekly"},{label:this.$root.labels.recurring_type_monthly,value:"monthly"}],recurringSubs:[{label:this.$root.labels.disabled,value:"disabled"},{label:this.$root.labels.service_recurring_sub_future,value:"future"},{label:this.$root.labels.service_recurring_sub_past,value:"past"},{label:this.$root.labels.service_recurring_sub_both,value:"both"}],recurringPayments:[{label:this.$root.labels.service_recurring_payment_none,value:0},{label:this.$root.labels.service_recurring_payment_all,value:999}],service:null,serviceColors:["1788FB","4BBEC6","FBC22D","FA3C52","D696B8","689BCA","26CC2B","FD7E35","E38587","774DFB"],serviceTabs:"service_details",style:""}},created:function(){this.instantiateDialog()},updated:function(){this.instantiateDialog()},methods:{minSelectedExtrasChanged:function(){this.service.minSelectedExtras>this.service.extras.length&&(this.service.minSelectedExtras=this.service.extras.length)},depositEnabledChanged:function(){this.depositEnabled?this.service.depositPayment=this.depositPayment:this.service.depositPayment="disabled"},depositChanged:function(){this.service.deposit>this.service.price&&"fixed"===this.depositPayment&&(this.service.deposit=this.service.price)},priceChanged:function(){this.service.deposit>this.service.price&&"fixed"===this.depositPayment&&(this.service.deposit=this.service.price)},instantiateDialog:function(){if(null!==this.passedService&&!0===this.executeUpdate){this.service=JSON.parse(JSON.stringify(this.passedService)),"disabled"===this.service.depositPayment?this.depositEnabled=!1:(this.depositEnabled=!0,this.depositPayment=this.service.depositPayment),!0!==this.service.duplicated&&this.$set(this.service,"providers",this.selectedVisibleEmployees);for(var e=0;e<this.service.extras.length;e++)null===this.service.extras[e].duration&&(this.service.extras[e].duration="");this.service.id in this.futureAppointments&&(this.appointmentsEmployees=this.futureAppointments[this.service.id]),this.service.extras.sort(function(e,t){return e.position>t.position?1:-1}),this.dialogLoading=!1,this.executeUpdate=!1}},validationFailCallback:function(){0===this.service.providers.length&&(this.serviceTabs="service_details",this.scrollViewInModal("providersElement"))},galleryUpdated:function(e){this.service.gallery=e},closeDialog:function(){this.$emit("closeDialog")},getParsedEntity:function(e){var t=this;if(void 0!==this.$refs.extra)for(var i=function(e){t.$refs.extra[e].validate(function(i){return i?(t.$refs.extra[e].clearValidate(),!0):(t.serviceTabs="extras",!1)})},n=0;n<this.$refs.extra.length;n++)i(n);var a=this.prepareEntitySettingsForSave(this.service);return this.service.providers=this.service.providers.map(function(e){return e.id}),this.service.applyGlobally=e,this.depositEnabled?this.service.depositPayment=this.depositPayment:this.service.depositPayment="disabled",this.service.aggregatedPrice||(this.service.depositPerPerson=0),Object.assign(JSON.parse(JSON.stringify(this.service)),{settings:a?JSON.stringify(a):null})},haveSaveConfirmation:function(){return this.service.id&&(this.passedService.price!==this.service.price||this.passedService.minCapacity!==this.service.minCapacity||this.passedService.maxCapacity!==this.service.maxCapacity)},bgColor:function(e){return{"background-color":e}},servicePictureSelected:function(e,t){this.service.pictureFullPath=e,this.service.pictureThumbPath=t},galleryPictureSelected:function(e,t){this.clearValidation(),this.service.gallery.push({id:0,pictureFullPath:e,pictureThumbPath:t,position:this.service.gallery.length+1})},deleteGalleryImage:function(e){this.service.gallery.splice(e,1);for(var t=0;t<this.service.gallery.length;t++)this.service.gallery[t].position=t+1},dropGalleryImage:function(e){if(e.newIndex!==e.oldIndex){var t=this;this.service.gallery.forEach(function(e){e.position=t.service.gallery.indexOf(e)+1})}},changeServiceColor:function(e){Array.from(e.target.parentNode.children).forEach(function(e){e.className.includes("color-active")&&e.classList.remove("color-active")}),e.target.className=e.target.className+" color-active",this.service.color=e.target.getAttribute("data-color")},checkCapacityLimits:function(){this.clearValidation(),this.service.minCapacity>this.service.maxCapacity&&(this.service.maxCapacity=this.service.minCapacity)},showEditExtraDialog:function(e){null===e.aggregatedPrice&&(e.aggregatedPrice=this.service.aggregatedPrice),this.handleExtraForm(),this.editedExtra=e,this.editedExtraOld=Object.assign({},e),this.extraToDelete=null,this.extraEditDialog=!0},cancelExtra:function(e){null!==this.editedExtraOld&&(e.name=this.editedExtraOld.name,e.duration=this.editedExtraOld.duration,e.price=this.editedExtraOld.price,e.maxQuantity=this.editedExtraOld.maxQuantity,e.description=this.editedExtraOld.description),this.editedExtra=null,this.editedExtraOld=null,this.extraEditDialog=!1,void 0===e.id&&!0===e.isNew&&this.service.extras.splice(-1,1)},addExtra:function(){this.handleExtraForm(),this.extraEditDialog=!0,this.editedExtra={name:"",duration:"",price:"",maxQuantity:1,description:"",serviceId:this.service.id,position:this.service.extras.length+1,isNew:!0},this.service.extras.push(this.editedExtra),this.scrollViewInModal("extra"+(this.service.extras.length-1))},saveExtra:function(e){var t=this,i=this.service.extras.indexOf(e);this.passedService.extras[i]?this.service.extras[i].translations=this.passedService.extras[i].translations:this.service.extras[i].translations=this.newExtraTranslations,this.$refs.extra[i].validate(function(e){if(!e)return!1;t.editedExtra=null,t.editedExtraOld=null,t.extraEditDialog=!1,t.$refs.extra[i].clearValidate()}),this.service.extras[i].isNew=!1,this.$emit("extraSaved",this.service.extras[i],i)},showDeleteExtraDialog:function(e){this.handleExtraForm(),this.extraToDelete=e,this.editedExtra=null,this.extraEditDialog=!1},handleExtraForm:function(){null!==this.editedExtra&&void 0===this.editedExtra.id&&this.service.extras.splice(-1,1),null!==this.editedExtraOld&&this.cancelExtra(this.editedExtra)},hideDeleteExtraDialog:function(){this.extraToDelete=null,this.extraEditDialog=!0},deleteExtra:function(e){var t=this;if(void 0===e.id){var i=this.service.extras.indexOf(e);this.service.extras.splice(i,1)}else this.extraToDeleteLoading=!0,this.$http.post(this.$root.getAjaxUrl+"/extras/delete/"+e.id).then(function(){var i=t.service.extras.indexOf(e);t.service.extras.splice(i,1),t.passedService.extras.splice(i,1),t.passedService.minSelectedExtras>t.passedService.extras.length&&(t.passedService.minSelectedExtras=t.passedService.extras.length),t.service.minSelectedExtras>t.service.extras.length&&(t.service.minSelectedExtras=t.service.extras.length),0!==t.service.minSelectedExtras&&0!==t.passedService.minSelectedExtras||(t.service.mandatoryExtra=!1,t.passedService.mandatoryExtra=!1),t.extraToDeleteLoading=!1}).catch(function(){t.extraToDeleteLoading=!1,t.notify(t.$root.labels.error,t.$root.labels.extra_delete_fail,"error")});for(var n=0;n<this.service.extras.length;n++)this.service.extras[n].position=n+1},dropExtra:function(e){if(e.newIndex!==e.oldIndex){var t=this;this.service.extras.forEach(function(e){e.position=t.service.extras.indexOf(e)+1})}},clearValidation:function(){void 0!==this.$refs.service&&this.$refs.service.clearValidate()},changeEmployees:function(){var e=this.service.providers.map(function(e){return e.id}),t=this.appointmentsEmployees.filter(function(t){return!e.includes(t)});if(t.length){var i=this,n=[];t.forEach(function(e){n.push(i.visibleEmployees.filter(function(t){return t.id===e})[0]),i.notify(i.$root.labels.error,i.$root.labels.service_provider_remove_fail,"error")}),this.service.providers=this.service.providers.concat(n).sort(function(e,t){return(e.firstName+" "+e.lastName).localeCompare(t.firstName+" "+t.lastName)})}},showDialogTranslate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(e){case"serviceName":this.$emit("showDialogTranslate","name","service");break;case"serviceDescription":this.$emit("showDialogTranslate","description","service");break;case"extraName":this.$emit("showDialogTranslate","name","extra",t);break;case"extraDescription":this.$emit("showDialogTranslate","description","extra",t)}}},computed:{visibleCategories:function(){return this.categories.filter(function(e){return"visible"===e.status})},visibleEmployees:function(){var e=this;return this.employees.filter(function(t){return"visible"===t.status||"hidden"===t.status&&-1!==t.serviceList.map(function(e){return e.id}).indexOf(e.service.id)})},selectedVisibleEmployees:function(){var e=this;return this.employees.filter(function(t){return-1!==t.serviceList.map(function(e){return e.id}).indexOf(e.service.id)})}},watch:{"service.price":function(){this.clearValidation()},"passedService.translations":function(){this.service&&(this.service.translations=this.passedService.translations)}},components:{DialogTranslate:C.a,PictureUpload:u.a,Draggable:g.a,Money:v.Money,EntitySettings:_.a,DialogActions:b.a}}},1021:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:null===e.passedService||e.dialogLoading,expression:"passedService === null || dialogLoading"}],staticClass:"am-dialog-loader"},[i("div",{staticClass:"am-dialog-loader-content"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/spinner.svg"}}),e._v(" "),i("p",[e._v(e._s(e.$root.labels.loader_message))])])]),e._v(" "),null===e.passedService||e.dialogLoading?e._e():i("div",{staticClass:"am-dialog-scrollable",class:{"am-edit":0!==e.service.id}},[i("div",{staticClass:"am-dialog-header"},[i("el-row",[i("el-col",{attrs:{span:18}},[0!==e.service.id?i("h2",[e._v(e._s(e.$root.labels.edit_service))]):i("h2",[e._v(e._s(e.$root.labels.new_service))])]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:6}},[i("el-button",{staticClass:"am-dialog-close",attrs:{size:"small",icon:"el-icon-close"},on:{click:e.closeDialog}})],1)],1)],1),e._v(" "),i("el-form",{ref:"service",attrs:{model:e.service,rules:e.rulesService,"label-position":"top"}},[i("el-tabs",{model:{value:e.serviceTabs,callback:function(t){e.serviceTabs=t},expression:"serviceTabs"}},[i("el-tab-pane",{attrs:{label:e.$root.labels.service_details,name:"service_details"}},[i("div",{staticClass:"am-service-profile"},[i("picture-upload",{attrs:{"edited-entity":this.service,"entity-name":"service"},on:{pictureSelected:e.servicePictureSelected}}),e._v(" "),i("el-popover",{ref:"color-popover",attrs:{placement:"bottom",width:"160",trigger:"click","popper-class":"am-color-popover"},model:{value:e.colorPopover,callback:function(t){e.colorPopover=t},expression:"colorPopover"}},[e._l(e.serviceColors,function(t){return i("span",{key:t,staticClass:"am-service-color",class:{"color-active":"#"+t===e.service.color},style:"background-color:#"+t,attrs:{"data-color":"#"+t},on:{click:e.changeServiceColor}})}),e._v(" "),i("el-form-item",{attrs:{label:e.$root.labels.hex+":"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.service.color,callback:function(t){e.$set(e.service,"color",t)},expression:"service.color"}})],1),e._v(" "),i("div",{staticClass:"align-right"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.colorPopover=!1}}},[e._v(e._s(e.$root.labels.ok))])],1)],2),e._v(" "),i("span",{directives:[{name:"popover",rawName:"v-popover:color-popover",arg:"color-popover"}],staticClass:"am-service-color",style:e.bgColor(e.service.color)}),e._v(" "),i("h2",[e._v(e._s(e.service.name))])],1),e._v(" "),i("el-form-item",{attrs:{prop:"name"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n              "+e._s(e.$root.labels.name+":")+"\n              "),i("div",{staticClass:"am-service-translate",on:{click:function(t){return e.showDialogTranslate("serviceName")}}},[i("img",{staticClass:"am-dialog-translate-svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}}),e._v("\n                "+e._s(e.$root.labels.translate)+"\n              ")])]),e._v(" "),i("el-input",{attrs:{"auto-complete":"off"},on:{input:function(t){return e.clearValidation()},change:function(t){return e.trimProperty(e.service,"name")}},model:{value:e.service.name,callback:function(t){e.$set(e.service,"name",t)},expression:"service.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$root.labels.category+":",prop:"categoryId"}},[i("el-select",{attrs:{placeholder:""},on:{change:function(t){return e.clearValidation()}},model:{value:e.service.categoryId,callback:function(t){e.$set(e.service,"categoryId",t)},expression:"service.categoryId"}},e._l(e.visibleCategories,function(e){return i("el-option",{key:e.id,attrs:{disabled:e.disabled,label:e.name,value:e.id}})}),1),e._v(" "),i("img",{staticClass:"svg is-spinner",attrs:{src:e.$root.getUrl+"public/img/oval-spinner.svg"}})],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$root.labels.duration+":",prop:"duration"}},[i("el-select",{attrs:{placeholder:""},on:{change:function(t){return e.clearValidation()}},model:{value:e.service.duration,callback:function(t){e.$set(e.service,"duration",t)},expression:"service.duration"}},e._l(e.getPossibleDurationsInSeconds(e.service.duration),function(t){return i("el-option",{key:t,attrs:{label:e.secondsToNiceDuration(t),value:t}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$root.labels.price+":",prop:"price"}},[i("div",{staticClass:"el-input"},[i("money",e._b({staticClass:"el-input__inner",on:{input:e.priceChanged},model:{value:e.service.price,callback:function(t){e.$set(e.service,"price",t)},expression:"service.price"}},"money",e.moneyComponentData,!1))],1)])],1)],1),e._v(" "),parseFloat(e.service.price)>0?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                "+e._s(e.$root.labels.deposit_enabled)+"\n              ")]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:e.depositEnabledChanged},model:{value:e.depositEnabled,callback:function(t){e.depositEnabled=t},expression:"depositEnabled"}})],1)],1),e._v(" "),e.depositEnabled?i("el-row",{staticClass:"am-service-deposit",attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.$root.labels.deposit_payment)+":\n                    "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.deposit_payment_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{placeholder:""},on:{change:function(t){return e.depositChanged()}},model:{value:e.depositPayment,callback:function(t){e.depositPayment=t},expression:"depositPayment"}},e._l(e.depositOptions,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$root.labels.deposit_amount+("fixed"===e.depositPayment?" ("+e.getCurrencySymbol()+")":"")+("percentage"===e.depositPayment?" (%)":"")+":"}},["fixed"===e.depositPayment?i("div",{staticClass:"el-input"},[i("money",e._b({staticClass:"el-input__inner",on:{input:e.depositChanged},model:{value:e.service.deposit,callback:function(t){e.$set(e.service,"deposit",t)},expression:"service.deposit"}},"money",e.moneyComponentData,!1))],1):e._e(),e._v(" "),"percentage"===e.depositPayment?i("el-input-number",{attrs:{min:0,max:100},on:{input:function(t){return e.depositChanged()}},model:{value:e.service.deposit,callback:function(t){e.$set(e.service,"deposit",t)},expression:"service.deposit"}}):e._e()],1)],1)],1):e._e(),e._v(" "),e.depositEnabled&&e.service.aggregatedPrice&&e.service.maxCapacity>1&&"fixed"===e.depositPayment?i("el-row",[i("el-col",[i("el-checkbox",{model:{value:e.service.depositPerPerson,callback:function(t){e.$set(e.service,"depositPerPerson",t)},expression:"service.depositPerPerson"}},[e._v(e._s(e.$root.labels.deposit_per_person))]),e._v(" "),i("hr")],1)],1):e._e(),e._v(" "),e.depositEnabled?i("el-row",{staticClass:"am-service-deposit",attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("i",{staticClass:"el-icon-warning-outline"}),e._v(" "),i("label",[e._v(e._s(e.$root.labels.deposit_info))])])],1):e._e()],1):e._e(),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.$root.labels.service_buffer_time_before)+":\n                  "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.service_buffer_time_before_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{placeholder:"",clearable:""},on:{change:function(t){return e.clearValidation()}},model:{value:e.service.timeBefore,callback:function(t){e.$set(e.service,"timeBefore",t)},expression:"service.timeBefore"}},e._l(e.getPossibleDurationsInSeconds(e.service.timeBefore),function(t){return i("el-option",{key:t,attrs:{label:e.secondsToNiceDuration(t),value:t}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.$root.labels.service_buffer_time_after)+":\n                  "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.service_buffer_time_after_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{placeholder:"",clearable:""},on:{change:function(t){return e.clearValidation()}},model:{value:e.service.timeAfter,callback:function(t){e.$set(e.service,"timeAfter",t)},expression:"service.timeAfter"}},e._l(e.getPossibleDurationsInSeconds(e.service.timeAfter),function(t){return i("el-option",{key:t,attrs:{label:e.secondsToNiceDuration(t),value:t}})}),1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.$root.labels.minimum_capacity)+":\n                  "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.minimum_capacity_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input-number",{attrs:{min:1},on:{input:function(t){return e.checkCapacityLimits()}},model:{value:e.service.minCapacity,callback:function(t){e.$set(e.service,"minCapacity",t)},expression:"service.minCapacity"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.$root.labels.maximum_capacity)+":\n                  "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.maximum_capacity_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input-number",{attrs:{min:e.service.minCapacity},on:{input:function(t){return e.clearValidation()}},model:{value:e.service.maxCapacity,callback:function(t){e.$set(e.service,"maxCapacity",t)},expression:"service.maxCapacity"}})],1)],1)],1),e._v(" "),e.service.maxCapacity>1?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                "+e._s(e.$root.labels.bringing_anyone)+"\n                "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.bringing_anyone_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.service.bringingAnyone,callback:function(t){e.$set(e.service,"bringingAnyone",t)},expression:"service.bringingAnyone"}})],1)],1)],1):e._e(),e._v(" "),e.service.maxCapacity>1&&e.service.bringingAnyone?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                "+e._s(e.$root.labels.aggregated_price)+"\n                "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.aggregated_price_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.service.aggregatedPrice,callback:function(t){e.$set(e.service,"aggregatedPrice",t)},expression:"service.aggregatedPrice"}})],1)],1)],1):e._e(),e._v(" "),i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                "+e._s(e.$root.labels.service_show_on_site)+"\n                "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.service_show_on_site_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.service.show,callback:function(t){e.$set(e.service,"show",t)},expression:"service.show"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-form-item",{attrs:{label:"placeholder",label:e.$root.labels.service_recurring_cycle+":"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                "+e._s(e.$root.labels.service_recurring_cycle)+":\n                "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.service_recurring_cycle_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{on:{change:function(t){return e.clearValidation()}},model:{value:e.service.recurringCycle,callback:function(t){e.$set(e.service,"recurringCycle",t)},expression:"service.recurringCycle"}},e._l(e.recurringCycles,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),"disabled"!==e.service.recurringCycle?i("el-row",[i("el-form-item",{attrs:{label:"placeholder",label:e.$root.labels.service_recurring_sub+":"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                "+e._s(e.$root.labels.service_recurring_sub)+":\n                "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.service_recurring_sub_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{on:{change:function(t){return e.clearValidation()}},model:{value:e.service.recurringSub,callback:function(t){e.$set(e.service,"recurringSub",t)},expression:"service.recurringSub"}},e._l(e.recurringSubs,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1):e._e(),e._v(" "),"disabled"!==e.service.recurringCycle?i("el-row",[i("el-form-item",{attrs:{label:"placeholder",label:e.$root.labels.service_recurring_payment+":"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                "+e._s(e.$root.labels.service_recurring_payment)+":\n                "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.service_recurring_payment_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{on:{change:function(t){return e.clearValidation()}},model:{value:e.service.recurringPayment,callback:function(t){e.$set(e.service,"recurringPayment",t)},expression:"service.recurringPayment"}},e._l(e.recurringPayments,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:e.$root.labels.employees+":",prop:"providers",id:"providersElement"}},[i("el-select",{attrs:{"value-key":"id",placeholder:"",multiple:"","collapse-tags":""},on:{change:e.changeEmployees},model:{value:e.service.providers,callback:function(t){e.$set(e.service,"providers",t)},expression:"service.providers"}},e._l(e.visibleEmployees,function(e){return i("el-option",{key:e.id,attrs:{label:e.firstName+" "+e.lastName,value:e}})}),1)],1),e._v(" "),i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n              "+e._s(e.$root.labels.description+":")+"\n              "),i("div",{staticClass:"am-service-translate",on:{click:function(t){return e.showDialogTranslate("serviceDescription")}}},[i("img",{staticClass:"am-dialog-translate-svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}}),e._v("\n                "+e._s(e.$root.labels.translate)+"\n              ")])]),e._v(" "),i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:""},on:{input:function(t){return e.clearValidation()}},model:{value:e.service.description,callback:function(t){e.$set(e.service,"description",t)},expression:"service.description"}})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.gallery,name:"gallery"}},[i("div",{staticClass:"am-gallery-images"},[i("el-row",{attrs:{gutter:24}},[i("draggable",{attrs:{options:e.draggableOptions},on:{end:e.dropGalleryImage},model:{value:e.service.gallery,callback:function(t){e.$set(e.service,"gallery",t)},expression:"service.gallery"}},e._l(e.service.gallery,function(t,n){return i("el-col",{key:n,attrs:{sm:12}},[i("div",{staticClass:"am-gallery-image-wrapper"},[i("div",{staticClass:"am-gallery-image",style:{"background-image":"url("+t.pictureFullPath+")"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteGalleryImage(n)}}})]),e._v(" "),i("div",{staticClass:"am-gallery-image-title"},[i("span",{staticClass:"am-drag-handle"},[i("img",{staticClass:"svg",attrs:{width:"20px",src:e.$root.getUrl+"public/img/burger-menu.svg"}})]),e._v(" "),i("span",[e._v(e._s(t.pictureFullPath.substring(t.pictureFullPath.lastIndexOf("/")+1)))])])])])}),1),e._v(" "),i("el-col",{attrs:{sm:12}},[i("div",{staticClass:"am-gallery-image-add"},[i("div",[i("picture-upload",{attrs:{multiple:!0,"edited-entity":null,"entity-name":"gallery"},on:{pictureSelected:e.galleryPictureSelected}})],1)])])],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.extras,name:"extras"}},[e.service.extras.length>0?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                "+e._s(e.$root.labels.mandatory_extra_enable)+"\n              ")]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.service.mandatoryExtra,callback:function(t){e.$set(e.service,"mandatoryExtra",t)},expression:"service.mandatoryExtra"}})],1)],1),e._v(" "),e.service.mandatoryExtra?i("el-row",{staticClass:"am-service-deposit",attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.$root.labels.min_required_extras)+":\n                  ")]),e._v(" "),i("el-input-number",{attrs:{min:1,max:e.service.extras.length},on:{input:function(t){return e.minSelectedExtrasChanged()}},model:{value:e.service.minSelectedExtras,callback:function(t){e.$set(e.service,"minSelectedExtras",t)},expression:"service.minSelectedExtras"}})],1)],1)],1):e._e()],1):e._e(),e._v(" "),i("div",{staticClass:"am-extra-list"},[i("el-button",{staticClass:"am-dialog-create",attrs:{size:"large",type:"primary"},on:{click:e.addExtra}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_extra))])]),e._v(" "),i("draggable",{attrs:{options:e.draggableOptions},on:{end:e.dropExtra},model:{value:e.service.extras,callback:function(t){e.$set(e.service,"extras",t)},expression:"service.extras"}},[i("transition-group",{attrs:{name:"list-complete"}},e._l(e.service.extras,function(t,n){return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.extraToDeleteLoading&&n===e.service.extras.indexOf(e.extraToDelete),expression:"extraToDeleteLoading && index === service.extras.indexOf(extraToDelete)"}],key:n+1,staticClass:"am-extra-item",attrs:{id:"extra"+n}},[i("el-row",{attrs:{type:"flex",align:"top"}},[i("el-col",{attrs:{span:2}},[i("span",{staticClass:"am-drag-handle"},[i("img",{staticClass:"svg",attrs:{width:"20px",src:e.$root.getUrl+"public/img/burger-menu.svg"}})])]),e._v(" "),i("el-col",{attrs:{span:22}},[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:18}},[i("h3",[e._v(e._s(t.name))])]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:n!==e.service.extras.indexOf(e.editedExtra)||null!==e.editedExtraOld,expression:"index !== service.extras.indexOf(editedExtra) || editedExtraOld !== null"}],staticClass:"extra-item-actions align-right",attrs:{span:6}},[i("span",{on:{click:function(i){return e.showEditExtraDialog(t)}}},[i("img",{staticClass:"svg edit",attrs:{width:"16px",src:e.$root.getUrl+"public/img/edit.svg"}})]),e._v(" "),!0===e.$root.settings.capabilities.canDelete?i("span",{on:{click:function(i){return e.showDeleteExtraDialog(t)}}},[i("img",{staticClass:"svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/delete.svg"}})]):e._e()])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!(null!==e.editedExtra&&n===e.service.extras.indexOf(e.editedExtra)||null!==e.extraToDelete&&n===e.service.extras.indexOf(e.extraToDelete)),expression:"(editedExtra === null || index !== service.extras.indexOf(editedExtra)) && (extraToDelete === null || index !== service.extras.indexOf(extraToDelete))"}],staticClass:"am-extra-item-data"},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{sm:7}},[i("span",{staticClass:"data-title"},[e._v(e._s(e.$root.labels.duration)+":")]),e._v(" "),i("span",{staticClass:"data-value"},[e._v("\n                              "+e._s(t.duration?e.secondsToNiceDuration(t.duration):"/")+"\n                            ")])]),e._v(" "),i("el-col",{attrs:{sm:7}},[i("span",{staticClass:"data-title"},[e._v(e._s(e.$root.labels.price)+":")]),e._v(" "),i("span",{staticClass:"data-value"},[e._v(e._s(e.getFormattedPrice(t.price)))])]),e._v(" "),i("el-col",{attrs:{sm:10}},[i("span",{staticClass:"data-title"},[e._v(e._s(e.$root.labels.maximum_quantity)+":")]),e._v(" "),i("span",{staticClass:"data-value"},[e._v(e._s(t.maxQuantity))])])],1)],1)],1)],1),e._v(" "),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.extraToDelete&&n===e.service.extras.indexOf(e.extraToDelete),expression:"extraToDelete !== null && index === service.extras.indexOf(extraToDelete)"}],staticClass:"am-confirmation"},[i("p",[e._v(e._s(e.$root.labels.delete_extra_confirmation)+"?")]),e._v(" "),i("div",{staticClass:"align-right"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.hideDeleteExtraDialog()}}},[e._v(e._s(e.$root.labels.cancel))]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return e.deleteExtra(t)}}},[e._v(e._s(e.$root.labels.delete)+"\n                        ")])],1)])]),e._v(" "),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.extraEditDialog&&n===e.service.extras.indexOf(e.editedExtra),expression:"extraEditDialog === true && index === service.extras.indexOf(editedExtra)"}]},[i("el-form",{ref:"extra",refInFor:!0,attrs:{model:t,rules:e.rulesExtra,"label-position":"top"}},[i("el-form-item",{attrs:{prop:"name"}},[i("label",{staticClass:"am-service-name-label",attrs:{slot:"label"},slot:"label"},[e._v("\n                            "+e._s(e.$root.labels.name+":")+"\n                            "),i("div",{staticClass:"am-service-translate",on:{click:function(t){return e.showDialogTranslate("extraName",n)}}},[i("img",{staticClass:"am-dialog-translate-svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}}),e._v("\n                              "+e._s(e.$root.labels.translate)+"\n                            ")])]),e._v(" "),i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"extra.name"}})],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{sm:8,xs:12}},[i("el-form-item",{attrs:{label:e.$root.labels.duration+":"}},[i("el-select",{attrs:{clearable:"",placeholder:""},model:{value:t.duration,callback:function(i){e.$set(t,"duration",i)},expression:"extra.duration"}},e._l(e.getPossibleDurationsInSeconds(t.duration),function(t){return i("el-option",{key:t,attrs:{label:e.secondsToNiceDuration(t),value:t}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{sm:8,xs:12}},[i("el-form-item",{attrs:{label:e.$root.labels.price+":",prop:"price"}},[i("div",{staticClass:"el-input"},[i("money",e._b({staticClass:"el-input__inner",model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"extra.price"}},"money",e.moneyComponentData,!1))],1)])],1),e._v(" "),i("el-col",{attrs:{sm:8,xs:24}},[i("el-form-item",{attrs:{label:e.$root.labels.maximum_quantity+":"}},[i("el-input-number",{attrs:{min:1},model:{value:t.maxQuantity,callback:function(i){e.$set(t,"maxQuantity",i)},expression:"extra.maxQuantity"}})],1)],1)],1),e._v(" "),e.service.maxCapacity>1&&null!==t.aggregatedPrice&&e.service.bringingAnyone?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                              "+e._s(e.$root.labels.aggregated_price)+"\n                              "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.aggregated_price_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:t.aggregatedPrice,callback:function(i){e.$set(t,"aggregatedPrice",i)},expression:"extra.aggregatedPrice"}})],1)],1)],1):e._e(),e._v(" "),i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                            "+e._s(e.$root.labels.description+":")+"\n                            "),i("div",{staticClass:"am-service-translate",on:{click:function(t){return e.showDialogTranslate("extraDescription",n)}}},[i("img",{staticClass:"am-dialog-translate-svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}}),e._v("\n                              "+e._s(e.$root.labels.translate)+"\n                            ")])]),e._v(" "),i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:""},model:{value:t.description,callback:function(i){e.$set(t,"description",i)},expression:"extra.description"}})],1),e._v(" "),i("div",{staticClass:"align-right"},[i("el-button",{attrs:{size:"small"},on:{click:function(i){return e.cancelExtra(t)}}},[e._v(e._s(e.$root.labels.cancel)+"\n                          ")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return e.saveExtra(t)}}},[e._v(e._s(e.$root.labels.save)+"\n                          ")])],1)],1)],1)])],1)}),0)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.settings,name:"settings"}},[i("entity-settings",{attrs:{settings:e.settings,paymentsSettings:e.service.settings.payments,generalSettings:e.service.settings.general,zoomSettings:e.service.settings.zoom,providers:e.service.providers}})],1)],1)],1)],1),e._v(" "),e.dialogLoading?e._e():i("dialog-actions",{attrs:{formName:"service",urlName:"services",isNew:0===e.service.id,entity:e.service,getParsedEntity:e.getParsedEntity,haveSaveConfirmation:e.haveSaveConfirmation,hasIcons:!0,updateStash:!0,status:{on:"visible",off:"hidden"},buttonText:{confirm:{save:{yes:e.$root.labels.update_for_all,no:e.$root.labels.no},status:{yes:"visible"===e.service.status?e.$root.labels.visibility_hide:e.$root.labels.visibility_show,no:e.$root.labels.visibility_show}}},action:{haveAdd:!0,haveEdit:!0,haveStatus:!0,haveRemove:!0===e.$root.settings.capabilities.canDelete,haveRemoveEffect:!0,haveDuplicate:!0},message:{success:{save:e.$root.labels.service_saved,remove:e.$root.labels.service_deleted,show:e.$root.labels.service_visible,hide:e.$root.labels.service_hidden},confirm:{save:e.$root.labels.confirm_global_change_service,remove:e.$root.labels.confirm_delete_service,show:e.$root.labels.confirm_show_service,hide:e.$root.labels.confirm_hide_service,duplicate:e.$root.labels.confirm_duplicate_service}}},on:{validationFailCallback:e.validationFailCallback}})],1)},staticRenderFns:[]}},1022:function(e,t,i){var n=i(685)(i(1023),i(1024),!1,null,null,null);e.exports=n.exports},1023:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(687),a=i(337),o=i(692),s=i(689),r=i(686),l=i(714),c=i(690),u=i(794),d=i.n(u),p=i(702),m=i.n(p),g=i(793),v=i.n(g),f=i(755),h=(i.n(f),i(0)),b=i.n(h),y=i(691),_=i(713),x=i.n(_),C=i(881),w=i.n(C);t.default={mixins:[n.a,a.a,o.a,s.a,y.a,r.a,l.a,c.a],props:{categories:null,passedPackage:null,options:null,settings:null,futureAppointments:null},data:function(){return{depositEnabled:!1,depositPayment:"fixed",depositOptions:[{value:"fixed",label:this.$root.labels.fixed_amount},{value:"percentage",label:this.$root.labels.percentage}],durationOptions:[{label:this.$root.labels.unlimited,value:"unlimited"},{label:this.$root.labels.days,value:"day"},{label:this.$root.labels.weeks,value:"week"},{label:this.$root.labels.months,value:"month"},{label:this.$root.labels.date_specific,value:"date"}],customPrice:0,colorPopover:!1,draggableOptions:{animation:150,group:"people",handle:".am-drag-handle"},form:new m.a,rulesPackage:{name:[{required:!0,message:this.$root.labels.enter_name_warning,trigger:"submit"}],bookable:[{required:!0,message:this.$root.labels.select_package_service_warning,trigger:"submit"}]},package:{},packageColors:["1788FB","4BBEC6","FBC22D","FA3C52","D696B8","689BCA","26CC2B","FD7E35","E38587","774DFB"],packageTabs:"details",style:""}},mounted:function(){this.package.calculatedPrice||(this.customPrice=this.package.price),null!==this.package.endDate?(this.package.durationType="date",this.package.endDate=b()(this.package.endDate).toDate()):null===this.package.durationType&&(this.package.durationType="unlimited"),"disabled"===this.package.depositPayment?this.depositEnabled=!1:(this.depositEnabled=!0,this.depositPayment=this.package.depositPayment),this.calculatePrice()},created:function(){var e=this;this.package=JSON.parse(JSON.stringify(this.passedPackage)),this.package.bookable.forEach(function(t){var i={providerArray:[],locationArray:[]},n=e.getProvidersForService(t,!0),a=e.getLocationsForService(t,!0);t.providers.forEach(function(e){i.providerArray.push(n.filter(function(t){return t.id===e.id})[0])}),t.locations.forEach(function(e){i.locationArray.push(a.filter(function(t){return t.id===e.id})[0])}),t.providers=i.providerArray,t.locations=i.locationArray})},methods:{depositEnabledChanged:function(){this.depositEnabled?this.package.depositPayment=this.depositPayment:this.package.depositPayment="disabled"},depositChanged:function(){var e=this,t=0;this.package.calculatedPrice?this.package.bookable.forEach(function(e){t+=e.service.price*e.quantity}):(t=this.package.price,t-=t/100*this.package.discount),this.package.deposit>=t&&"fixed"===this.depositPayment&&setTimeout(function(){e.package.deposit=t},200)},getLocationsForService:function(e){var t=this.getServiceLocations(e.service.id,!0),i=t.map(function(e){return e.id});return e.locations.forEach(function(e){-1===i.indexOf(e.id)&&t.push(e)}),t},getProvidersForService:function(e){var t=this.getServiceProviders(e.service.id,!0),i=t.map(function(e){return e.id});return e.providers.forEach(function(e){-1===i.indexOf(e.id)&&t.push(e)}),t},removeBookable:function(e){this.package.bookable.splice(e,1)},getPackageServicePrice:function(e,t){var i=null,n=null;return this.options.entities.employees.forEach(function(t){t.serviceList.forEach(function(t){e.id===t.id&&((null===i||t.price<i)&&(i=t.price),(null===n||t.price>n)&&(n=t.price))})}),n!==i?this.getFormattedPrice(e.price*t):this.getFormattedPrice(i*t)},changedServices:function(){this.calculatePrice()},changeQuantity:function(e){e.quantity<e.minimumScheduled&&(e.minimumScheduled=e.quantity),e.quantity<e.maximumScheduled&&(e.maximumScheduled=e.quantity),this.calculatePrice()},changeMinimum:function(e){e.minimumScheduled>=e.maximumScheduled&&(e.maximumScheduled=e.minimumScheduled)},calculatePrice:function(){if(this.package.calculatedPrice){var e=0;this.package.bookable.forEach(function(t){e+=t.service.price*t.quantity}),this.package.price=e}else 0!==this.package.id&&(this.package.price=this.customPrice);this.depositChanged()},validationFailCallback:function(){0===this.package.bookable.length&&(this.packageTabs="services",this.scrollViewInModal("servicesElement"))},galleryUpdated:function(e){this.package.gallery=e},closeDialog:function(){this.$emit("closeDialog")},getParsedEntity:function(e){switch(this.package.durationType){case"unlimited":this.package.endDate=null,this.package.durationCount=null;break;case"day":case"week":case"month":this.package.endDate=null}var t=this.prepareEntitySettingsForSave(this.package),i=this.package.endDate?b()(this.package.endDate).format("YYYY-MM-DD"):null,n=this.package.durationType,a=this.package.durationCount;return"date"!==this.package.durationType&&"unlimited"!==this.package.durationType||(n=null,a=null),this.depositEnabled?this.package.depositPayment=this.depositPayment:this.package.depositPayment="disabled",Object.assign(JSON.parse(JSON.stringify(this.package)),{endDate:i,durationType:n,durationCount:a,settings:t?JSON.stringify(t):null})},bgColor:function(e){return{"background-color":e}},packagePictureSelected:function(e,t){this.package.pictureFullPath=e,this.package.pictureThumbPath=t},galleryPictureSelected:function(e,t){this.clearValidation(),this.package.gallery.push({id:0,pictureFullPath:e,pictureThumbPath:t,position:this.package.gallery.length+1})},deleteGalleryImage:function(e){this.package.gallery.splice(e,1);for(var t=0;t<this.package.gallery.length;t++)this.package.gallery[t].position=t+1},dropGalleryImage:function(e){if(e.newIndex!==e.oldIndex){var t=this;this.package.gallery.forEach(function(e){e.position=t.package.gallery.indexOf(e)+1})}},changePackageColor:function(e){Array.from(e.target.parentNode.children).forEach(function(e){e.className.includes("color-active")&&e.classList.remove("color-active")}),e.target.className=e.target.className+" color-active",this.package.color=e.target.getAttribute("data-color")},clearValidation:function(){void 0!==this.$refs.package&&this.$refs.package.clearValidate()},showDialogTranslate:function(e){this.$emit("showDialogTranslate",e,"package")}},computed:{},watch:{"passedPackage.translations":function(){this.package.translations=this.passedPackage.translations},"package.price":function(){this.depositChanged()},"package.deposit":function(){this.depositChanged()},"package.discount":function(){this.depositChanged()}},components:{PictureUpload:d.a,Draggable:v.a,Money:f.Money,EntitySettings:w.a,DialogActions:x.a}}},1024:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"am-dialog-scrollable",class:{"am-edit":0!==e.package.id}},[i("div",{staticClass:"am-dialog-header"},[i("el-row",[i("el-col",{attrs:{span:18}},[0!==e.package.id?i("h2",[e._v(e._s(e.$root.labels.edit_package))]):i("h2",[e._v(e._s(e.$root.labels.new_package))])]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:6}},[i("el-button",{staticClass:"am-dialog-close",attrs:{size:"small",icon:"el-icon-close"},on:{click:e.closeDialog}})],1)],1)],1),e._v(" "),i("el-form",{ref:"package",attrs:{model:e.package,rules:e.rulesPackage,"label-position":"top"}},[i("el-tabs",{model:{value:e.packageTabs,callback:function(t){e.packageTabs=t},expression:"packageTabs"}},[i("el-tab-pane",{attrs:{label:e.$root.labels.package_details,name:"details"}},[i("div",{staticClass:"am-service-profile"},[i("picture-upload",{attrs:{"edited-entity":e.package,"entity-name":"package"},on:{pictureSelected:e.packagePictureSelected}}),e._v(" "),i("el-popover",{ref:"color-popover",attrs:{placement:"bottom",width:"160",trigger:"click","popper-class":"am-color-popover"},model:{value:e.colorPopover,callback:function(t){e.colorPopover=t},expression:"colorPopover"}},[e._l(e.packageColors,function(t){return i("span",{key:t,staticClass:"am-service-color",class:{"color-active":"#"+t===e.package.color},style:"background-color:#"+t,attrs:{"data-color":"#"+t},on:{click:e.changePackageColor}})}),e._v(" "),i("el-form-item",{attrs:{label:e.$root.labels.hex+":"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.package.color,callback:function(t){e.$set(e.package,"color",t)},expression:"package.color"}})],1),e._v(" "),i("div",{staticClass:"align-right"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.colorPopover=!1}}},[e._v(e._s(e.$root.labels.ok))])],1)],2),e._v(" "),i("span",{directives:[{name:"popover",rawName:"v-popover:color-popover",arg:"color-popover"}],staticClass:"am-service-color",style:e.bgColor(e.package.color)}),e._v(" "),i("h2",[e._v(e._s(e.package.name))])],1),e._v(" "),i("el-form-item",{attrs:{prop:"name"}},[i("label",{staticClass:"am-service-name-label",attrs:{slot:"label"},slot:"label"},[e._v("\n              "+e._s(e.$root.labels.name+":")+"\n              "),i("div",{staticClass:"am-service-translate",on:{click:function(t){return e.showDialogTranslate("name")}}},[i("img",{staticClass:"am-dialog-translate-svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}}),e._v("\n                "+e._s(e.$root.labels.translate)+"\n              ")])]),e._v(" "),i("el-input",{attrs:{"auto-complete":"off"},on:{input:function(t){return e.clearValidation()}},model:{value:e.package.name,callback:function(t){e.$set(e.package,"name",t)},expression:"package.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$root.labels.duration+":"}},[i("el-select",{attrs:{placeholder:""},model:{value:e.package.durationType,callback:function(t){e.$set(e.package,"durationType",t)},expression:"package.durationType"}},e._l(e.durationOptions,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),"day"===e.package.durationType||"week"===e.package.durationType||"month"===e.package.durationType?i("el-form-item",{attrs:{label:e.$root.labels[e.package.durationType+"s"]+":"}},[i("el-input-number",{attrs:{min:1,"auto-complete":"off"},on:{input:function(t){return e.clearValidation()}},model:{value:e.package.durationCount,callback:function(t){e.$set(e.package,"durationCount",t)},expression:"package.durationCount"}})],1):e._e(),e._v(" "),"date"===e.package.durationType?i("el-form-item",{attrs:{label:e.$root.labels.date_specific+":"}},[i("v-date-picker",{attrs:{mode:"single","popover-visibility":"focus","popover-direction":"top","tint-color":"#1A84EE","show-day-popover":!1,"input-props":{class:"el-input__inner"},"is-expanded":!1,"input-class":"el-input__inner",formats:e.vCalendarFormats},on:{input:function(t){return e.clearValidation()}},model:{value:e.package.endDate,callback:function(t){e.$set(e.package,"endDate",t)},expression:"package.endDate"}})],1):e._e(),e._v(" "),i("el-form-item",[i("label",{staticClass:"am-service-name-label",attrs:{slot:"label"},slot:"label"},[e._v("\n              "+e._s(e.$root.labels.description+":")+"\n              "),i("div",{staticClass:"am-service-translate",on:{click:function(t){return e.showDialogTranslate("description")}}},[i("img",{staticClass:"am-dialog-translate-svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}}),e._v("\n                "+e._s(e.$root.labels.translate)+"\n              ")])]),e._v(" "),i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:""},on:{input:function(t){return e.clearValidation()}},model:{value:e.package.description,callback:function(t){e.$set(e.package,"description",t)},expression:"package.description"}})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.services,name:"services"}},[i("el-form-item",[i("el-select",{attrs:{"value-key":"service.id",multiple:"",filterable:"",placeholder:e.$root.labels.services,"collapse-tags":""},on:{change:e.changedServices},model:{value:e.package.bookable,callback:function(t){e.$set(e.package,"bookable",t)},expression:"package.bookable"}},e._l(e.categories,function(t){return i("div",{key:t.id},[i("div",{staticClass:"am-drop-parent"},[i("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.serviceList,function(e){return i("el-option",{key:e.id,staticClass:"am-drop-child",attrs:{label:e.name,value:{service:e,providers:[],locations:[],quantity:1,minimumScheduled:1,maximumScheduled:1}}})})],2)}),0)],1),e._v(" "),e._l(e.package.bookable,function(t,n){return i("div",{key:t.service.id,staticClass:"am-package-service"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"am-package-service-heading"},[i("div",{staticClass:"am-package-service-heading-inner"},[i("div",{staticClass:"am-package-service-photo"},[i("img",{attrs:{src:e.pictureLoad(t.service,!1)},on:{error:function(i){return e.imageLoadError(t.service,!1)}}}),e._v(" "),i("span",{style:e.bgColor(t.service.color)})]),e._v(" "),i("div",{staticClass:"am-package-service-text"},[i("p",{staticClass:"am-strong"},[e._v(e._s(t.service.name))]),e._v(" "),i("p",[e._v(e._s(e.$root.labels.price)+": "+e._s(e.getPackageServicePrice(t.service,t.quantity)))])])]),e._v(" "),i("el-button",{staticClass:"am-button-icon",attrs:{type:"remove"},on:{click:function(t){return e.removeBookable(n)}}},[i("img",{staticClass:"svg",attrs:{alt:e.$root.labels.delete,src:e.$root.getUrl+"public/img/delete.svg"}})])],1)])],1),e._v(" "),i("el-row",{attrs:{type:"flex",gutter:8}},[i("el-col",{staticClass:"am-package-service__booking-range",attrs:{sm:24}},[i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.$root.labels.schedule_package_total)+":\n                    "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.schedule_package_total_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input-number",{attrs:{min:0},on:{change:function(i){return e.changeQuantity(t)}},model:{value:t.quantity,callback:function(i){e.$set(t,"quantity",i)},expression:"bookable.quantity"}})],1)],1),e._v(" "),i("el-col",{staticClass:"am-package-service__booking-range am-package-service__booking-range-custom",attrs:{sm:24}},[i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.$root.labels.schedule_package_minimum)+":\n                    "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.schedule_package_minimum_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input-number",{attrs:{min:0,max:t.quantity},on:{change:function(i){return e.changeMinimum(t)}},model:{value:t.minimumScheduled,callback:function(i){e.$set(t,"minimumScheduled",i)},expression:"bookable.minimumScheduled"}})],1),e._v(" "),i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.$root.labels.schedule_package_maximum)+":\n                    "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.schedule_package_maximum_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input-number",{attrs:{min:t.minimumScheduled,max:t.quantity},model:{value:t.maximumScheduled,callback:function(i){e.$set(t,"maximumScheduled",i)},expression:"bookable.maximumScheduled"}})],1)],1)],1),e._v(" "),e.getProvidersForService(t).length>1?i("el-row",[i("el-col",{attrs:{xs:24}},[i("el-collapse",[i("el-collapse-item",{attrs:{name:t.service.id}},[i("template",{slot:"title"},[e._v("\n                      "+e._s(e.$root.labels.employees+" ("+t.providers.length+")")+"\n                    ")]),e._v(" "),i("el-form-item",[i("el-checkbox-group",{model:{value:t.providers,callback:function(i){e.$set(t,"providers",i)},expression:"bookable.providers"}},e._l(e.getProvidersForService(t),function(t){return i("el-checkbox",{key:t.id,staticClass:"am-package-service__checkbox",attrs:{label:t}},[i("div",{staticClass:"am-package-service__checkbox-text"},[i("div",{staticClass:"am-package-service-photo"},[i("img",{attrs:{src:e.pictureLoad(t,!0)},on:{error:function(i){return e.imageLoadError(t,!0)}}})]),e._v(" "),i("span",[e._v("\n                              "+e._s(t.firstName+" "+t.lastName)+"\n                            ")])])])}),1)],1)],2)],1)],1)],1):e._e(),e._v(" "),e.getLocationsForService(t).length>1?i("el-row",[i("el-col",{attrs:{xs:24}},[i("el-collapse",[i("el-collapse-item",{attrs:{name:t.service.id}},[i("template",{slot:"title"},[e._v("\n                      "+e._s(e.$root.labels.locations+" ("+t.locations.length+")")+"\n                    ")]),e._v(" "),i("el-form-item",[i("el-checkbox-group",{model:{value:t.locations,callback:function(i){e.$set(t,"locations",i)},expression:"bookable.locations"}},e._l(e.getLocationsForService(t),function(t){return i("el-checkbox",{key:t.id,staticClass:"am-package-service__checkbox",attrs:{label:t}},[i("div",{staticClass:"am-package-service__checkbox-text"},[i("div",{staticClass:"am-package-service-photo"},[i("img",{attrs:{src:e.pictureLoad(t,!1)},on:{error:function(i){return e.imageLoadError(t,!1)}}})]),e._v(" "),i("span",[e._v("\n                              "+e._s(t.name)+"\n                            ")])])])}),1)],1)],2)],1)],1)],1):e._e()],1)})],2),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.price,name:"price"}},[i("el-form-item",[i("el-select",{on:{change:e.calculatePrice},model:{value:e.package.calculatedPrice,callback:function(t){e.$set(e.package,"calculatedPrice",t)},expression:"package.calculatedPrice"}},[i("el-option",{key:"0",attrs:{label:e.$root.labels.package_price_custom,value:!1}}),e._v(" "),i("el-option",{key:"1",attrs:{label:e.$root.labels.package_price_calculated,value:!0}})],1)],1),e._v(" "),e.package.calculatedPrice&&e.package.bookable.length?i("el-row",{staticClass:"am-package-price"},[i("el-col",{attrs:{span:12}},e._l(e.package.bookable,function(t){return i("p",{key:t.service.id},[e._v("\n                "+e._s(t.service.name)+"\n              ")])}),0),e._v(" "),i("el-col",{attrs:{span:12}},e._l(e.package.bookable,function(t){return i("p",{key:t.service.id,staticClass:"am-semi-strong am-align-right"},[e._v("\n                "+e._s(e.getFormattedPrice(t.service.price)+" x "+t.quantity)+"\n              ")])}),0)],1):e._e(),e._v(" "),e.package.calculatedPrice&&e.package.bookable.length?i("el-row",{staticClass:"am-package-price-total"},[i("el-col",{attrs:{span:12}},[i("p",[e._v("\n                "+e._s(e.$root.labels.package_price_calculated_text)+"\n              ")])]),e._v(" "),i("el-col",{attrs:{span:12}},[i("p",{staticClass:"am-semi-strong am-align-right"},[e._v("\n                "+e._s(e.getFormattedPrice(e.package.price))+"\n              ")])])],1):e._e(),e._v(" "),!e.package.calculatedPrice&&e.package.bookable.length?i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$root.labels.price+":"}},[i("div",{staticClass:"el-input"},[i("money",e._b({staticClass:"el-input__inner",model:{value:e.package.price,callback:function(t){e.$set(e.package,"price",t)},expression:"package.price"}},"money",e.moneyComponentData,!1))],1)])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$root.labels.discount+":"}},[i("el-input-number",{attrs:{min:0,max:100},on:{input:function(t){return e.clearValidation()}},model:{value:e.package.discount,callback:function(t){e.$set(e.package,"discount",t)},expression:"package.discount"}})],1)],1)],1):e._e(),e._v(" "),i("div",{staticClass:"am-package-price-calculated"},[!e.package.calculatedPrice&&e.package.bookable.length?i("p",[e._v("\n              "+e._s(e.$root.labels.package_price_calculated_text)+": "+e._s(e.getFormattedPrice(e.package.calculatedPrice?e.package.price:e.package.price-e.package.price/100*e.package.discount))+"\n            ")]):e._e()]),e._v(" "),parseFloat(e.package.price)>0?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:19}},[e._v("\n                "+e._s(e.$root.labels.deposit_enabled)+"\n              ")]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:5}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:e.depositEnabledChanged},model:{value:e.depositEnabled,callback:function(t){e.depositEnabled=t},expression:"depositEnabled"}})],1)],1),e._v(" "),e.depositEnabled?i("el-row",{staticClass:"am-service-deposit",attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.$root.labels.deposit_payment)+":\n                    "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.deposit_payment_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{placeholder:""},on:{change:function(t){return e.depositChanged()}},model:{value:e.depositPayment,callback:function(t){e.depositPayment=t},expression:"depositPayment"}},e._l(e.depositOptions,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$root.labels.deposit_amount+("fixed"===e.depositPayment?" ("+e.getCurrencySymbol()+")":"")+("percentage"===e.depositPayment?" (%)":"")+":"}},["fixed"===e.depositPayment?i("div",{staticClass:"el-input"},[i("money",e._b({staticClass:"el-input__inner",on:{input:e.depositChanged},model:{value:e.package.deposit,callback:function(t){e.$set(e.package,"deposit",t)},expression:"package.deposit"}},"money",e.moneyComponentData,!1))],1):e._e(),e._v(" "),"percentage"===e.depositPayment?i("el-input-number",{attrs:{min:0,max:100},on:{input:function(t){return e.depositChanged()}},model:{value:e.package.deposit,callback:function(t){e.$set(e.package,"deposit",t)},expression:"package.deposit"}}):e._e()],1)],1)],1):e._e(),e._v(" "),e.depositEnabled?i("el-row",{staticClass:"am-service-deposit",attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("i",{staticClass:"el-icon-warning-outline"}),e._v(" "),i("label",[e._v(e._s(e.$root.labels.deposit_info))])])],1):e._e()],1):e._e()],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.gallery,name:"gallery"}},[i("div",{staticClass:"am-gallery-images"},[i("el-row",{attrs:{gutter:24}},[i("draggable",{attrs:{options:e.draggableOptions},on:{end:e.dropGalleryImage},model:{value:e.package.gallery,callback:function(t){e.$set(e.package,"gallery",t)},expression:"package.gallery"}},e._l(e.package.gallery,function(t,n){return i("el-col",{key:n,attrs:{sm:12}},[i("div",{staticClass:"am-gallery-image-wrapper"},[i("div",{staticClass:"am-gallery-image",style:{"background-image":"url("+t.pictureFullPath+")"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteGalleryImage(n)}}})]),e._v(" "),i("div",{staticClass:"am-gallery-image-title"},[i("span",{staticClass:"am-drag-handle"},[i("img",{staticClass:"svg",attrs:{width:"20px",src:e.$root.getUrl+"public/img/burger-menu.svg"}})]),e._v(" "),i("span",[e._v(e._s(t.pictureFullPath.substring(t.pictureFullPath.lastIndexOf("/")+1)))])])])])}),1),e._v(" "),i("el-col",{attrs:{sm:12}},[i("div",{staticClass:"am-gallery-image-add"},[i("div",[i("picture-upload",{attrs:{multiple:!0,"edited-entity":null,"entity-name":"gallery"},on:{pictureSelected:e.galleryPictureSelected}})],1)])])],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.$root.labels.settings,name:"settings"}},[i("entity-settings",{attrs:{settings:e.settings,generalSettings:null,paymentsSettings:e.package.settings.payments}})],1)],1)],1)],1),e._v(" "),i("dialog-actions",{attrs:{formName:"package",urlName:"packages",isNew:0===e.package.id,entity:e.package,getParsedEntity:e.getParsedEntity,hasIcons:!0,updateStash:!0,status:{on:"visible",off:"hidden"},buttonText:{confirm:{status:{yes:"visible"===e.package.status?e.$root.labels.visibility_hide:e.$root.labels.visibility_show,no:e.$root.labels.visibility_show}}},action:{haveAdd:!0,haveEdit:!0,haveStatus:!0,haveRemove:!0===e.$root.settings.capabilities.canDelete,haveRemoveEffect:!0,haveDuplicate:!0},message:{success:{save:e.$root.labels.package_saved,remove:e.$root.labels.package_deleted,show:e.$root.labels.package_visible,hide:e.$root.labels.package_hidden},confirm:{remove:e.$root.labels.confirm_delete_package,show:e.$root.labels.confirm_show_package,hide:e.$root.labels.confirm_hide_package,duplicate:e.$root.labels.confirm_duplicate_package}}},on:{validationFailCallback:e.validationFailCallback}})],1)},staticRenderFns:[]}},1025:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"am-wrap"},[i("div",{staticClass:"am-body",attrs:{id:"am-services"}},[i("page-header",{attrs:{bookableType:e.typeTab,servicesTotal:e.services.length,categoriesTotal:e.categories.length,packagesTotal:e.packages.length},on:{newServiceBtnClicked:function(t){return e.showDialogNewService()},newPackageBtnClicked:function(t){return e.showDialogNewPackage()}}}),e._v(" "),i("div",{staticClass:"am-section"},[e.$root.licence.isPro||e.$root.licence.isDeveloper?i("el-tabs",{model:{value:e.typeTab,callback:function(t){e.typeTab=t},expression:"typeTab"}},[i("el-tab-pane",{key:0,attrs:{label:e.$root.labels.services,name:"services"}}),e._v(" "),i("el-tab-pane",{key:1,attrs:{label:e.$root.labels.packages,name:"packages"}})],1):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"services"===e.typeTab||!e.$root.licence.isPro&&!e.$root.licence.isDeveloper,expression:"typeTab === 'services' || (!$root.licence.isPro && !$root.licence.isDeveloper)"}],key:0,staticClass:"am-services-categories"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.fetched,expression:"!fetched"}],staticClass:"am-spinner am-section"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/spinner.svg"}})]),e._v(" "),e.fetched?i("el-row",{staticClass:"am-flexed am-side-bar-category"},[i("el-col",{attrs:{md:8}},[i("div",{staticClass:"am-categories-column am-section"},[i("h2",[e._v(e._s(e.$root.labels.categories))]),e._v(" "),i("div",{staticClass:"am-category-item",class:{active:0===Object.keys(e.activeCategory).length},on:{click:function(t){return e.filterServices({})}}},[i("h3",[i("span",{staticClass:"am-category-title"},[e._v("\n                  "+e._s(e.$root.labels.all_services)+"\n                ")])])]),e._v(" "),i("draggable",{attrs:{options:e.draggableOptions},on:{end:e.dropCategory},model:{value:e.categories,callback:function(t){e.categories=t},expression:"categories"}},[i("transition-group",{attrs:{name:"list-complete"}},e._l(e.categories,function(t){return i("div",{key:t.id,staticClass:"am-category-item",class:{active:e.activeCategory.id===t.id},on:{click:function(i){return e.filterServices(t)}}},[i("h3",{staticClass:"am-three-dots"},[i("span",{staticClass:"am-drag-handle"},[i("img",{staticClass:"svg",attrs:{width:"20px",src:e.$root.getUrl+"public/img/burger-menu.svg"}})]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedCategoryName,expression:"editedCategoryName"}],ref:"input",refInFor:!0,staticClass:"am-category-title",class:{hidden:e.editedCategoryId!==t.id},style:{border:""===this.editedCategoryName?"3px solid red":""},domProps:{value:e.editedCategoryName},on:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.editCategoryName(t,i)},input:function(t){t.target.composing||(e.editedCategoryName=t.target.value)}}}),e._v(" "),i("span",{staticClass:"am-category-title",class:{hidden:e.editedCategoryId===t.id},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"category.name"}},[e._v("\n                      "+e._s(t.name)+"\n                      "),i("span",{staticClass:"am-category-title-id"},[e._v(" ("+e._s(e.$root.labels.id)+": "+e._s(t.id)+")")])])]),e._v(" "),i("div",{staticClass:"am-category-item-footer"},[i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{md:12,sm:12}},[i("span",{staticClass:"service-count"},[e._v(" "+e._s(t.serviceList.length)+" "+e._s(1===t.serviceList.length?e.$root.labels.service:e.$root.labels.services))])]),e._v(" "),i("el-col",{staticClass:"align-right category-actions",attrs:{md:12,sm:12}},[i("span",{class:{active:e.editedCategoryId===t.id},on:{click:function(i){return e.showDialogTranslateCategory(t)}}},[i("img",{staticClass:"svg edit gray",attrs:{width:"16px",src:e.$root.getUrl+"public/img/translate.svg"}})]),e._v(" "),i("span",{class:{active:e.editedCategoryId===t.id},on:{click:function(i){return e.editCategoryName(t,i)}}},[i("img",{staticClass:"svg edit",attrs:{width:"16px",src:e.$root.getUrl+"public/img/edit.svg"}}),e._v(" "),i("i",{staticClass:"el-icon-success done"})]),e._v(" "),i("span",{on:{click:function(i){return e.duplicateCategory(t)}}},[i("img",{staticClass:"svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/copy.svg"}})]),e._v(" "),!0===e.$root.settings.capabilities.canDelete?i("span",{on:{click:function(i){return e.handleCategoryDeleteConfirmation(t)}}},[i("img",{staticClass:"svg",attrs:{width:"16px",src:e.$root.getUrl+"public/img/delete.svg"}})]):e._e()])],1),e._v(" "),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.deleteConfirmation&&e.categoryToDeleteId===t.id,expression:"deleteConfirmation && categoryToDeleteId === category.id"}],staticClass:"am-confirmation"},[i("p",[e._v(e._s(e.$root.labels.delete_category_confirmation)+"?")]),e._v(" "),i("el-alert",{attrs:{title:"",type:"warning",description:"",closable:!1}}),e._v(" "),i("div",{staticClass:"align-right"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.hideDeleteCategoryDialog()}}},[e._v("\n                            "+e._s(e.$root.labels.cancel)+"\n                          ")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",loading:e.loadingDeleteCategory},on:{click:function(i){return e.deleteCategory(t)}}},[e._v("\n                            "+e._s(e.$root.labels.delete)+"\n                          ")])],1)],1)])],1)])}),0)],1),e._v(" "),i("el-button",{staticClass:"am-dialog-create",attrs:{size:"large",type:"primary",loading:e.loadingAddCategory},on:{click:e.addCategory}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_category))])])],1)]),e._v(" "),i("el-col",{attrs:{md:16}},[i("div",{staticClass:"am-services-column am-section"},[i("el-row",{attrs:{gutter:16}},[i("el-col",{attrs:{md:12}},[i("h2",{directives:[{name:"show",rawName:"v-show",value:0===Object.keys(e.activeCategory).length,expression:"Object.keys(activeCategory).length === 0"}]},[e._v("\n                  "+e._s(e.$root.labels.all_services)+"\n                ")]),e._v(" "),i("h2",{directives:[{name:"show",rawName:"v-show",value:0!==Object.keys(e.activeCategory).length,expression:"Object.keys(activeCategory).length !== 0"}]},[e._v("\n                  "+e._s(e.activeCategory.name)+"\n\n                ")])]),e._v(" "),i("el-col",{staticClass:"am-align-right",attrs:{md:12}},[i("span",{staticClass:"am-sort-services-label"},[e._v(e._s(e.$root.labels.services_sorting))]),e._v(" "),i("el-select",{staticClass:"am-sort-services",attrs:{clearable:"",placeholder:"Sort Services"},on:{change:e.changeServiceSorting},model:{value:e.sortingServices,callback:function(t){e.sortingServices=t},expression:"sortingServices"}},e._l(e.sortingSelection,function(e){return i("el-option",{key:e.sortValue,attrs:{label:e.sortName,value:e.sortValue}})}),1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fetched&&0===e.categories.length,expression:"fetched && categories.length === 0"}],staticClass:"am-empty-state am-section"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/emptystate.svg"}}),e._v(" "),i("h2",[e._v(e._s(e.$root.labels.no_categories_yet))]),e._v(" "),i("p",[e._v(e._s(e.$root.labels.click_add_category))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fetched&&0!==e.categories.length&&0===e.services.filter(function(e){return e.visible}).length,expression:"fetched && categories.length !== 0 && services.filter(item => item.visible).length === 0"}],staticClass:"am-empty-state am-section"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/emptystate.svg"}}),e._v(" "),i("h2",[e._v(e._s(e.$root.labels.no_services_yet))]),e._v(" "),i("p",[e._v(e._s(e.$root.labels.click_add_service))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fetched&&!e.fetchedFiltered,expression:"fetched && !fetchedFiltered"}],staticClass:"am-spinner am-section"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/spinner.svg"}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fetchedFiltered&&e.fetched&&0!==e.categories.length,expression:"fetchedFiltered && fetched && categories.length !== 0"}],staticClass:"am-services-grid"},[i("el-row",{attrs:{gutter:16}},[i("el-col",{attrs:{md:24}},[i("draggable",{attrs:{options:e.draggableOptions},on:{end:e.dropService},model:{value:e.services,callback:function(t){e.services=t},expression:"services"}},e._l(e.services,function(t,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"service.visible"}],staticClass:"am-service-card",class:{"am-hidden-entity":"hidden"===t.status},on:{click:function(i){return e.showDialogEditService(t.id)}}},[i("span",{staticClass:"am-drag-handle"},[i("img",{staticClass:"svg",attrs:{width:"20px",src:e.$root.getUrl+"public/img/burger-menu.svg"}})]),e._v(" "),i("div",{staticClass:"am-service-photo"},[i("img",{attrs:{src:e.pictureLoad(t,!1)},on:{error:function(i){return e.imageLoadError(t,!1)}}}),e._v(" "),i("span",{staticClass:"am-service-color",style:e.bgColor(t.color)})]),e._v(" "),i("div",{staticClass:"am-service-data"},[i("el-row",{attrs:{gutter:16}},[i("el-col",{attrs:{md:12}},[i("h4",[e._v("\n                              "+e._s(t.name)+"\n                              "),i("span",{staticClass:"am-service-data-id"},[e._v(" ("+e._s(e.$root.labels.id)+": "+e._s(t.id)+")")])])]),e._v(" "),i("el-col",{attrs:{md:6}},[i("p",[e._v(e._s(e.$root.labels.duration)+": "+e._s(e.secondsToNiceDuration(t.duration)))])]),e._v(" "),i("el-col",{attrs:{md:6}},[i("p",[e._v(e._s(e.$root.labels.price)+": "+e._s(e.getFormattedPrice(t.price)))])])],1)],1)])}),0)],1)],1)],1),e._v(" "),i("pagination-block",{attrs:{params:e.paginationParams,show:e.paginationParams.show,count:e.countFiltered,label:e.$root.labels.services.toLowerCase(),visible:e.fetched&&e.fetchedFiltered&&0!==e.services.length&&e.countTotal>e.paginationParams.show},on:{change:e.getServices}})],1)])],1):e._e()],1),e._v(" "),e.$root.licence.isPro||e.$root.licence.isDeveloper?i("div",{directives:[{name:"show",rawName:"v-show",value:"packages"===e.typeTab,expression:"typeTab === 'packages'"}],key:1,staticClass:"am-services-categories am-packages-feature"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.fetched,expression:"!fetched"}],staticClass:"am-spinner am-section"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/spinner.svg"}})]),e._v(" "),e.fetched?i("el-row",{staticClass:"am-flexed"},[i("el-col",{attrs:{md:24}},[i("div",{staticClass:"am-services-column am-section"},[i("el-row",{attrs:{gutter:16}},[i("el-col",{attrs:{md:12}},[i("h2"),e._v(" "),i("h2")]),e._v(" "),i("el-col",{staticClass:"am-align-right",attrs:{md:12}},[i("span",{staticClass:"am-sort-services-label"},[e._v(e._s(e.$root.labels.packages_sorting))]),e._v(" "),i("el-select",{staticClass:"am-sort-services",attrs:{clearable:"",placeholder:"Sort Packages"},on:{change:e.changePackagesSorting},model:{value:e.sortingPackages,callback:function(t){e.sortingPackages=t},expression:"sortingPackages"}},e._l(e.sortingSelection,function(e){return i("el-option",{key:e.sortValue,attrs:{label:e.sortName,value:e.sortValue}})}),1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fetched&&0===e.packages.length,expression:"fetched && packages.length === 0"}],staticClass:"am-empty-state am-section"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/emptystate.svg"}}),e._v(" "),i("h2",[e._v(e._s(e.$root.labels.no_packages_yet))]),e._v(" "),i("p",[e._v(e._s(e.$root.labels.click_add_package))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fetched&&0!==e.packages.length,expression:"fetched && packages.length !== 0"}],staticClass:"am-services-grid"},[i("el-row",{attrs:{gutter:16}},[i("el-col",{attrs:{md:24}},[i("draggable",{attrs:{options:e.draggableOptions},on:{end:e.dropPackage},model:{value:e.packages,callback:function(t){e.packages=t},expression:"packages"}},e._l(e.packages,function(t,n){return i("div",{staticClass:"am-service-card",class:{"am-hidden-entity":"hidden"===t.status},on:{click:function(t){return e.showDialogEditPackage(n)}}},[i("span",{staticClass:"am-drag-handle"},[i("img",{staticClass:"svg",attrs:{width:"20px",src:e.$root.getUrl+"public/img/burger-menu.svg"}})]),e._v(" "),i("div",{staticClass:"am-service-photo"},[i("img",{attrs:{src:e.pictureLoad(t,!1)},on:{error:function(i){return e.imageLoadError(t,!1)}}}),e._v(" "),i("span",{staticClass:"am-service-color",style:e.bgColor(t.color)})]),e._v(" "),i("div",{staticClass:"am-service-data"},[i("el-row",{attrs:{gutter:16}},[i("el-col",{attrs:{md:12}},[i("h4",[e._v("\n                              "+e._s(t.name)+"\n                              "),i("span",{staticClass:"am-service-data-id"},[e._v(" ("+e._s(e.$root.labels.id)+": "+e._s(t.id)+")")])])]),e._v(" "),i("el-col",{attrs:{md:6}},[i("p",[e._v(e._s(e.$root.labels.services)+": "+e._s(t.bookable.length))])]),e._v(" "),i("el-col",{attrs:{md:6}},[i("p",[e._v(e._s(e.$root.labels.price)+": "+e._s(e.getFormattedPrice(t.calculatedPrice?t.price:t.price-t.price/100*t.discount)))])])],1)],1)])}),0)],1)],1)],1)],1)])],1):e._e()],1):e._e()],1),e._v(" "),e.categories.length>0&&!0===e.$root.settings.capabilities.canWrite?i("div",{staticClass:"am-button-new",attrs:{id:"am-button-new"}},[i("el-button",{attrs:{id:"am-plus-symbol",type:"primary",icon:"el-icon-plus"},on:{click:function(t){"services"===e.typeTab?e.showDialogNewService():e.showDialogNewPackage()}}})],1):e._e(),e._v(" "),i("transition",{attrs:{name:"slide"}},[e.dialogService?i("el-dialog",{staticClass:"am-side-dialog am-dialog-service",attrs:{visible:e.dialogService,"show-close":!1},on:{"update:visible":function(t){e.dialogService=t}}},[i("dialog-service",{attrs:{categories:e.categories,passedService:e.service,employees:e.options.employees,settings:e.options.settings,futureAppointments:e.futureAppointments,newExtraTranslations:e.newExtraTranslations},on:{saveCallback:e.saveServiceCallback,duplicateCallback:e.duplicateServiceCallback,closeDialog:function(t){e.dialogService=!1},showDialogTranslate:e.showDialogTranslate,extraSaved:e.extraSaved}})],1):e._e()],1),e._v(" "),i("transition",{attrs:{name:"slide"}},[e.dialogTranslate?i("el-dialog",{staticClass:"am-side-dialog am-dialog-translate am-edit",attrs:{"show-close":!0,visible:e.dialogTranslate,service:e.service},on:{"update:visible":function(t){e.dialogTranslate=t}}},[i("dialog-translate",{attrs:{"passed-translations":e.dialogTranslateData,name:e.dialogTranslateName,allLanguagesData:e.languagesData,"used-languages":e.options.settings.general.usedLanguages,type:e.dialogTranslateType,tab:e.dialogTranslateTab},on:{saveDialogTranslate:e.saveDialogTranslate,closeDialogTranslate:function(t){e.dialogTranslate=!1}}})],1):e._e()],1),e._v(" "),i("transition",{attrs:{name:"slide"}},[e.dialogPackage?i("el-dialog",{staticClass:"am-side-dialog am-dialog-service",attrs:{visible:e.dialogPackage,"show-close":!1},on:{"update:visible":function(t){e.dialogPackage=t}}},[i("dialog-package",{attrs:{categories:e.categories,passedPackage:e.package,options:{entitiesRelations:e.options.entitiesRelations,entities:{employees:e.options.employees,locations:e.options.locations}},settings:e.options.settings},on:{saveCallback:e.savePackageCallback,duplicateCallback:e.duplicatePackageCallback,closeDialog:function(t){e.dialogPackage=!1},showDialogTranslate:e.showDialogTranslate}})],1):e._e()],1),e._v(" "),i("el-col",{attrs:{md:6}},[i("a",{staticClass:"am-help-button",attrs:{href:"https://wpamelia.com/services-and-categories/",target:"_blank"}},[i("i",{staticClass:"el-icon-question"}),e._v(" "+e._s(e.$root.labels.need_help)+"?\n      ")])])],1)])},staticRenderFns:[]}},666:function(e,t,i){var n=i(685)(i(1018),i(1025),!1,null,null,null);e.exports=n.exports},685:function(e,t){e.exports=function(e,t,i,n,a,o){var s,r=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,r=e.default);var c,u="function"==typeof r?r.options:r;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId=a),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=n),c){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:s,exports:r,options:u}}},686:function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a={data:function(){return{}},methods:{replaceExistingObjectProperties:function(e,t){var i=this;Object.keys(e).forEach(function(a){null!==e[a]&&"object"===n(e[a])&&a in t?i.replaceExistingObjectProperties(e[a],t[a]):a in t&&(e[a]=t[a])})},addMissingObjectProperties:function(e,t){var i=this;Object.keys(t).forEach(function(a){var o=!1;a in e||("object"===n(t[a])?(e[a]={},o=!0):(e[a]=null,o=!0)),null===t[a]||"object"!==n(t[a])?o&&(e[a]=t[a]):i.addMissingObjectProperties(e[a],t[a])})},scrollView:function(e,t,i){"undefined"!=typeof jQuery&&(void 0!==i&&i||jQuery(window).width()<=600)&&document.getElementById(e).scrollIntoView({behavior:"smooth",block:t,inline:"nearest"})},scrollViewInModal:function(e){this.$nextTick(function(){document.getElementById(e)&&(document.querySelectorAll(".am-dialog-scrollable")[0].scrollTop=document.getElementById(e).offsetTop)})},getUrlQueryParams:function(e){var t=e.indexOf("#")>0?e.substring(0,e.indexOf("#")).split("?")[1]:e.split("?")[1];if(t){var i=[],n={};return t.split("&").forEach(function(e){i=e.split("="),n[i[0]]=decodeURIComponent(i[1]).replace(/\+/g," ")}),n}},getUrlParams:function(e){var t={};if(-1!==e.indexOf("?")){var i=[];e.split("?")[1].split("&").forEach(function(e){i=e.split("="),t[i[0]]=decodeURIComponent(i[1]).replace(/\+/g," ")})}return t},removeURLParameter:function(e,t){var i=e.split("?");if(i.length>=2){for(var n=encodeURIComponent(t)+"=",a=i[1].split(/[&;]/g),o=a.length;o-- >0;)-1!==a[o].lastIndexOf(n,0)&&a.splice(o,1);return e=i[0]+(a.length>0?"?"+a.join("&"):"")}return e},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},trimProperty:function(e,t){e[t]=e[t].trim()}}}},687:function(e,t,i){"use strict";t.a={data:function(){return{colors:["1788FB","4BBEC6","FBC22D","FA3C52","D696B8","689BCA","26CC2B","FD7E35","E38587","774DFB","31CDF3","6AB76C","FD5FA1","A697C5"],usedColors:[]}},methods:{inlineSVG:function(){var e=i(693);e.init({svgSelector:"img.svg",initClass:"js-inlinesvg"})},inlineSVGCabinet:function(){setTimeout(function(){i(693).init({svgSelector:"img.svg-cabinet",initClass:"js-inlinesvg"})},100)},imageFromText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getNameInitials(e),a=Math.floor(Math.random()*this.colors.length),o=this.colors[a];return this.usedColors.push(this.colors[a]),this.colors.splice(a,1),0===this.colors.length&&(this.colors=this.usedColors,this.usedColors=[]),i?t.firstName?this.$root.getUrl+"public/img/default-employee.svg":t.latitude?this.$root.getUrl+"public/img/default-location.svg":this.$root.getUrl+"public/img/default-service.svg":location.protocol+"//via.placeholder.com/120/"+o+"/fff?text="+n},pictureLoad:function(e,t){if(null!==e){var i=!0===t?e.firstName+" "+e.lastName:e.name;if(void 0!==i)return e.pictureThumbPath=e.pictureThumbPath||this.imageFromText(i),e.pictureThumbPath}},imageLoadError:function(e,t){var i=!0===t?e.firstName+" "+e.lastName:e.name;void 0!==i&&(e.pictureThumbPath=this.imageFromText(i,e,!0))},getNameInitials:function(e){return e.split(" ").map(function(e){return e.charAt(0)}).join("").toUpperCase().substring(0,3).replace(/[^\w\s]/g,"")}}}},688:function(e,t,i){"use strict";var n=i(707),a=i(343),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function r(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||s(e)||(e=[e]),s(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:r,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return r(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function i(i,n){"object"==typeof t[n]&&"object"==typeof i?t[n]=e(t[n],i):t[n]=i}for(var n=0,a=arguments.length;n<a;n++)c(arguments[n],i);return t},extend:function(e,t,i){return c(t,function(t,a){e[a]=i&&"function"==typeof t?n(t,i):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},689:function(e,t,i){"use strict";t.a={data:function(){return{currencies:[{symbol:"$",name:"US Dollar",symbol_native:"$",code:"USD",iso:"us"},{symbol:"",name:"Euro",symbol_native:"",code:"EUR",iso:"eu"},{symbol:"",name:"British Pound Sterling",symbol_native:"",code:"GBP",iso:"gb"},{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",code:"CAD",iso:"ca"},{symbol:"FCFP",name:"CFP Franc",symbol_native:"FCFP",code:"XPF",iso:"fr"},{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",code:"CHF",iso:"ch"},{symbol:"RUB",name:"Russian Ruble",symbol_native:".",code:"RUB",iso:"ru"},{symbol:"",name:"Japanese Yen",symbol_native:"",code:"JPY",iso:"jp"},{symbol:"Af",name:"Afghan Afghani",symbol_native:"",code:"AFN",iso:"af"},{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",code:"ALL",iso:"al"},{symbol:"DA",name:"Algerian Dinar",symbol_native:"..",code:"DZD",iso:"dz"},{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",code:"ARS",iso:"ar"},{symbol:"AMD",name:"Armenian Dram",symbol_native:".",code:"AMD",iso:"am"},{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",code:"AUD",iso:"au"},{symbol:"man.",name:"Azerbaijani Manat",symbol_native:".",code:"AZN",iso:"az"},{symbol:"BD",name:"Bahraini Dinar",symbol_native:"..",code:"BHD",iso:"bh"},{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"",code:"BDT",iso:"bd"},{symbol:"BYR",name:"Belarusian Ruble",symbol_native:"BYR",code:"BYR",iso:"by"},{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",code:"BZD",iso:"bz"},{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",code:"BOB",iso:"bo"},{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",code:"BAM",iso:"ba"},{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",code:"BWP",iso:"bw"},{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",code:"BRL",iso:"br"},{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",code:"BND",iso:"bn"},{symbol:"BGN",name:"Bulgarian Lev",symbol_native:".",code:"BGN",iso:"bg"},{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",code:"BIF",iso:"bi"},{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",code:"XOF",iso:"auto"},{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",code:"XAF",iso:"auto"},{symbol:"KHR",name:"Cambodian Riel",symbol_native:"",code:"KHR",iso:"kh"},{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",code:"CVE",iso:"cv"},{symbol:"CLP",name:"Chilean Peso",symbol_native:"$",code:"CLP",iso:"cl"},{symbol:"CN",name:"Chinese Yuan",symbol_native:"CN",code:"CNY",iso:"cn"},{symbol:"COP",name:"Colombian Peso",symbol_native:"$",code:"COP",iso:"co"},{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",code:"KMF",iso:"km"},{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",code:"CDF",iso:"cd"},{symbol:"",name:"Costa Rican Coln",symbol_native:"",code:"CRC",iso:"cr"},{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",code:"HRK",iso:"hr"},{symbol:"K",name:"Czech Republic Koruna",symbol_native:"K",code:"CZK",iso:"cz"},{symbol:"Dkk",name:"Danish Krone",symbol_native:"kr",code:"DKK",iso:"dk"},{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",code:"DJF",iso:"dj"},{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",code:"DOP",iso:"do"},{symbol:"EGP",name:"Egyptian Pound",symbol_native:"..",code:"EGP",iso:"eg"},{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",code:"ERN",iso:"er"},{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",code:"EEK",iso:"ee"},{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",code:"ETB",iso:"et"},{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",code:"GEL",iso:"ge"},{symbol:"GH",name:"Ghanaian Cedi",symbol_native:"GH",code:"GHS",iso:"gh"},{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",code:"GTQ",iso:"gt"},{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",code:"GNF",iso:"gn"},{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",code:"HNL",iso:"hn"},{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",code:"HKD",iso:"hk"},{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",code:"HUF",iso:"hu"},{symbol:"kr",name:"Icelandic Krna",symbol_native:"kr",code:"ISK",iso:"is"},{symbol:"INR",name:"Indian Rupee",symbol_native:"",code:"INR",iso:"in"},{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",code:"IDR",iso:"id"},{symbol:"IRR",name:"Iranian Rial",symbol_native:"",code:"IRR",iso:"ir"},{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"..",code:"IQD",iso:"iq"},{symbol:"",name:"Israeli New Sheqel",symbol_native:"",code:"ILS",iso:"il"},{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",code:"JMD",iso:"jm"},{symbol:"JD",name:"Jordanian Dinar",symbol_native:"..",code:"JOD",iso:"jo"},{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:".",code:"KZT",iso:"kz"},{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",code:"KES",iso:"ke"},{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"..",code:"KWD",iso:"kw"},{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",code:"LVL",iso:"lv"},{symbol:"LB",name:"Lebanese Pound",symbol_native:"..",code:"LBP",iso:"lb"},{symbol:"LD",name:"Libyan Dinar",symbol_native:"..",code:"LYD",iso:"ly"},{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",code:"LTL",iso:"lt"},{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",code:"MOP",iso:"mo"},{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",code:"MKD",iso:"mk"},{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",code:"MGA",iso:"mg"},{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",code:"MYR",iso:"my"},{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",code:"MUR",iso:"mu"},{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",code:"MXN",iso:"mx"},{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",code:"MDL",iso:"md"},{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"..",code:"MAD",iso:"ma"},{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",code:"MZN",iso:"mz"},{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",code:"MMK",iso:"mm"},{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",code:"NAD",iso:"na"},{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"",code:"NPR",iso:"np"},{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",code:"TWD",iso:"tw"},{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",code:"NZD",iso:"nz"},{symbol:"C$",name:"Nicaraguan Crdoba",symbol_native:"C$",code:"NIO",iso:"ni"},{symbol:"",name:"Nigerian Naira",symbol_native:"",code:"NGN",iso:"ng"},{symbol:"kr",name:"Norwegian Krone",symbol_native:"kr",code:"NOK",iso:"no"},{symbol:"OMR",name:"Omani Rial",symbol_native:"..",code:"OMR",iso:"om"},{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"",code:"PKR",iso:"pk"},{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",code:"PAB",iso:"pa"},{symbol:"",name:"Paraguayan Guarani",symbol_native:"",code:"PYG",iso:"py"},{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",code:"PEN",iso:"pe"},{symbol:"",name:"Philippine Peso",symbol_native:"",code:"PHP",iso:"ph"},{symbol:"z",name:"Polish Zloty",symbol_native:"z",code:"PLN",iso:"pl"},{symbol:"QR",name:"Qatari Rial",symbol_native:"..",code:"QAR",iso:"qa"},{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",code:"RON",iso:"ro"},{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",code:"RWF",iso:"rw"},{symbol:"SR",name:"Saudi Riyal",symbol_native:"..",code:"SAR",iso:"sa"},{symbol:"rsd.",name:"Serbian Dinar",symbol_native:".",code:"RSD",iso:"rs"},{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",code:"SGD",iso:"sg"},{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",code:"SOS",iso:"so"},{symbol:"R",name:"South African Rand",symbol_native:"R",code:"ZAR",iso:"za"},{symbol:"",name:"South Korean Won",symbol_native:"",code:"KRW",iso:"kr"},{symbol:"",name:"Lao kip",symbol_native:"",code:"LAK",iso:"la"},{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",code:"LKR",iso:"lk"},{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",code:"SDG",iso:"sd"},{symbol:"kr",name:"Swedish Krona",symbol_native:"kr",code:"SEK",iso:"se"},{symbol:"SY",name:"Syrian Pound",symbol_native:"..",code:"SYP",iso:"sy"},{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",code:"TZS",iso:"tz"},{symbol:"",name:"Thai Baht",symbol_native:"",code:"THB",iso:"th"},{symbol:"T$",name:"Tongan Paanga",symbol_native:"T$",code:"TOP",iso:"to"},{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",code:"TTD",iso:"tt"},{symbol:"DT",name:"Tunisian Dinar",symbol_native:"..",code:"TND",iso:"tn"},{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",code:"TRY",iso:"tr"},{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",code:"UGX",iso:"ug"},{symbol:"",name:"Ukrainian Hryvnia",symbol_native:"",code:"UAH",iso:"ua"},{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"..",code:"AED",iso:"ae"},{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",code:"UYU",iso:"uy"},{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",code:"UZS",iso:"uz"},{symbol:"Bs.S.",name:"Venezuelan Bolvar",symbol_native:"Bs.S.",code:"VES",iso:"ve"},{symbol:"",name:"Vietnamese Dong",symbol_native:"",code:"VND",iso:"vn"},{symbol:"YR",name:"Yemeni Rial",symbol_native:"..",code:"YER",iso:"ye"},{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",code:"ZMK",iso:"zm"}],thousandSeparatorMap:{1:",",2:".",3:" ",4:" "},decimalSeparatorMap:{1:".",2:",",3:".",4:","}}},methods:{getCurrencySymbol:function(){var e=this;return this.currencies.find(function(t){return t.code===e.$root.settings.payments.currency}).symbol},getPriceThousandSeparator:function(){return this.thousandSeparatorMap[this.$root.settings.payments.priceSeparator]},getPriceDecimalSeparator:function(){return this.decimalSeparatorMap[this.$root.settings.payments.priceSeparator]},getPriceNumberOfDecimalPlaces:function(){return this.$root.settings.payments.priceNumberOfDecimals},getPricePrefix:function(){return"after"===this.$root.settings.payments.priceSymbolPosition||"afterWithSpace"===this.$root.settings.payments.priceSymbolPosition?"":"before"===this.$root.settings.payments.priceSymbolPosition?this.getCurrencySymbol():this.getCurrencySymbol()+" "},getPriceSuffix:function(){return"before"===this.$root.settings.payments.priceSymbolPosition||"beforeWithSpace"===this.$root.settings.payments.priceSymbolPosition?"":"after"===this.$root.settings.payments.priceSymbolPosition?this.getCurrencySymbol():" "+this.getCurrencySymbol()},getFormattedPrice:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getPriceNumberOfDecimalPlaces(),n=this.getPriceThousandSeparator(),a=this.getPriceDecimalSeparator(),o=this.getPricePrefix(),s=this.getPriceSuffix(),r=parseInt(e=Math.abs(+e||0).toFixed(i))+"",l=r.length>3?r.length%3:0;return(t?o:"")+(l?r.substr(0,l)+n:"")+r.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+n)+(i?a+Math.abs(e-r).toFixed(i).slice(2):"")+(t?s:"")}},computed:{moneyComponentData:function(){return{decimal:this.getPriceDecimalSeparator(),thousands:this.getPriceThousandSeparator(),prefix:this.getPricePrefix(),suffix:this.getPriceSuffix(),precision:this.getPriceNumberOfDecimalPlaces(),masked:!1}}}}},690:function(e,t,i){"use strict";var n=i(705);t.a={mixins:[n.a],data:function(){return{}},methods:{getLocationById:function(e){return this.options.entities.locations.find(function(t){return t.id===e})||null},getCustomerById:function(e){return this.options.entities.customers.find(function(t){return t.id===e})||null},getProviderById:function(e){return this.options.entities.employees.find(function(t){return t.id===e})||null},getServiceById:function(e){return this.options.entities.services.find(function(t){return t.id===e})||null},getPackageById:function(e){return this.options.entities.packages.find(function(t){return t.id===e})||null},getProviderService:function(e,t){var i=this.getProviderById(e).serviceList.find(function(e){return e.id===parseInt(t)});return i?Object.assign(this.getServiceById(t),i):null},getServiceProviders:function(e,t){var i=this;return void 0!==t&&t?this.options.entities.employees.filter(function(t){return-1!==t.serviceList.map(function(e){return e.id}).indexOf(e)}):this.options.entities.employees.filter(function(t){return-1!==t.serviceList.filter(function(e){return i.isEmployeeService(t.id,e.id)}).map(function(e){return e.id}).indexOf(e)})},getServiceLocations:function(e,t){var i=this,n=[];return this.options.entities.employees.filter(function(t){return-1!==t.serviceList.map(function(e){return e.id}).indexOf(e)}).forEach(function(e){n=i.getProviderLocations(e.id,t).map(function(e){return e.id}).concat(n)}),this.options.entities.locations.filter(function(e){return-1!==n.indexOf(e.id)})},getProviderLocations:function(e,t){var i=this,n=[this.getProviderById(e).locationId];if(e in this.options.entitiesRelations)for(var a in this.options.entitiesRelations[e])this.options.entitiesRelations[e].hasOwnProperty(a)&&(n=n.concat(this.options.entitiesRelations[e][a]));return n=n.filter(function(e,t,i){return i.indexOf(e)===t}),(void 0!==t&&t?this.options.entities.locations:this.options.entities.locations.filter(function(t){return i.isEmployeeLocation(e,t.id)})).filter(function(e){return-1!==n.indexOf(e.id)})},getLocationProviders:function(e,t){var i=this,n=[];return this.options.entities.employees.forEach(function(a){-1!==(void 0!==t&&t?i.getProviderLocations(a.id).filter(function(e){return i.isEmployeeLocation(a.id,e.id)}):i.getProviderLocations(a.id)).map(function(e){return e.id}).indexOf(e)&&n.push(a.id)}),n=n.filter(function(e,t,i){return i.indexOf(e)===t}),this.options.entities.employees.filter(function(e){return-1!==n.indexOf(e.id)})},getServicesFromCategories:function(e){var t=[];return e.map(function(e){return e.serviceList}).forEach(function(e){t=t.concat(e)}),t.sort(this.sortWithNull)},getCategoryServices:function(e){return this.options.entities.categories.find(function(t){return t.id===e}).serviceList},getCustomerInfo:function(e){return"info"in e&&e.info?JSON.parse(e.info):this.getCustomerById(e.customerId)},isEmployeeServiceLocation:function(e,t,i){return e in this.options.entitiesRelations&&t in this.options.entitiesRelations[e]&&-1!==this.options.entitiesRelations[e][t].indexOf(i)},isEmployeeService:function(e,t){return e in this.options.entitiesRelations&&t in this.options.entitiesRelations[e]},isEmployeeLocation:function(e,t){var i=!1;if(e in this.options.entitiesRelations)for(var n in this.options.entitiesRelations[e])this.options.entitiesRelations[e].hasOwnProperty(n)&&-1!==this.options.entitiesRelations[e][n].indexOf(t)&&(i=!0);return i},getAvailableEntitiesIds:function(e,t){var i=this,n=[],a=[],o=[],s=null!==t.categoryId?e.categories.find(function(e){return e.id===t.categoryId}).serviceList.map(function(e){return e.id}):[];if(null!==t.categoryId&&0===s.length||null!==t.serviceId&&null!==t.employeeId&&!this.isEmployeeService(t.employeeId,t.serviceId)||null!==t.serviceId&&null!==t.employeeId&&null!==t.locationId&&!this.isEmployeeServiceLocation(t.employeeId,t.serviceId,t.locationId))return{services:[],locations:[],employees:[],categories:[]};var r=function(e){if(!i.options.entitiesRelations.hasOwnProperty(e))return"continue";var r=parseInt(e);if(null!==t.employeeId&&t.employeeId!==r||null!==t.locationId&&!i.isEmployeeLocation(r,t.locationId)||null!==t.serviceId&&!i.isEmployeeService(r,t.serviceId)||null!==t.categoryId&&0===s.filter(function(e){return i.isEmployeeService(r,e)}).length||null!==t.categoryId&&null!==t.locationId&&0===s.filter(function(e){return i.isEmployeeServiceLocation(r,e,t.locationId)}).length||null!==t.serviceId&&null!==t.locationId&&!i.isEmployeeServiceLocation(r,t.serviceId,t.locationId))return"continue";for(var l in-1===a.indexOf(r)&&a.push(r),i.options.entitiesRelations[r])if(i.options.entitiesRelations[r].hasOwnProperty(l)){var c=parseInt(l);null!==t.serviceId&&t.serviceId!==c||null!==t.categoryId&&-1===s.indexOf(c)||null!==t.locationId&&!i.isEmployeeServiceLocation(r,c,t.locationId)||(-1===n.indexOf(c)&&n.push(c),i.options.entitiesRelations[r][c].length&&i.options.entitiesRelations[r][c].forEach(function(e){null!==t.locationId&&t.locationId!==e||-1===o.indexOf(e)&&o.push(e)}))}};for(var l in this.options.entitiesRelations)r(l);return{services:n,locations:o,employees:a,categories:e.categories.filter(function(e){return e.serviceList.map(function(e){return e.id}).filter(function(e){return-1!==n.indexOf(e)}).length>0}).map(function(e){return e.id})}},filterEntities:function(e,t){var i=this,n=this.getAvailableEntitiesIds(e,t);if(this.options.entities.employees=e.employees.filter(function(e){return-1!==n.employees.indexOf(e.id)&&e.serviceList.filter(function(e){return-1!==n.services.indexOf(e.id)}).length>0}),this.options.entities.categories=e.categories,this.options.entities.services=this.getServicesFromCategories(this.options.entities.categories).filter(function(e){return e.show&&-1!==n.services.indexOf(e.id)}),this.options.entities.services.forEach(function(e){e.extras.forEach(function(e){e.extraId=e.id})}),this.options.entities.locations=e.locations.filter(function(e){return-1!==n.locations.indexOf(e.id)}),this.options.entities.customFields=e.customFields,"packages"in e&&(!("show"in t)||"services"!==t.show)){var a=e.packages.filter(function(e){return"visible"===e.status}).filter(function(e){return e.bookable.filter(function(e){return-1!==i.options.entities.services.map(function(e){return e.id}).indexOf(e.service.id)}).length>0}),o=this.options.entities.locations.map(function(e){return e.id}),s=this.options.entities.employees.map(function(e){return e.id}),r=[];if(a.forEach(function(t){var n=!1;t.bookable.forEach(function(a){(0===a.minimumScheduled&&a.maximumScheduled>0||a.minimumScheduled>0&&0===a.maximumScheduled||a.minimumScheduled>0&&a.maximumScheduled>0)&&(n=!0);var l=a.providers.length;if(!e.locations.length||i.options.entities.locations.length){var c=a.locations.length;!l||(a.providers=a.providers.filter(function(e){return-1!==s.indexOf(e.id)&&c?a.locations.filter(function(t){return i.isEmployeeServiceLocation(e.id,a.service.id,t.id)}).length:!i.options.entities.locations.length||i.options.entities.locations.filter(function(t){return i.isEmployeeServiceLocation(e.id,a.service.id,t.id)}).length}),a.providers.length)?c&&(a.locations=a.locations.filter(function(e){return-1!==o.indexOf(e.id)&&(l?a.providers.filter(function(t){return i.isEmployeeServiceLocation(t.id,a.service.id,e.id)}).length:i.options.entities.employees.filter(function(t){return i.isEmployeeServiceLocation(t.id,a.service.id,e.id)}).length)}),a.locations.length||r.push(t.id)):r.push(t.id)}else r.push(t.id)}),t.hasSlots=n}),this.options.entities.packages=a.filter(function(e){return-1===r.indexOf(e.id)}),"show"in t&&"packages"===t.show){var l=[];this.options.entities.packages.forEach(function(e){e.bookable.forEach(function(e){l.push(e.service.categoryId)})}),this.options.entities.categories=this.options.entities.categories.filter(function(e){return-1!==l.indexOf(e.id)})}}},processEntities:function(e){this.options.entitiesRelations=e.entitiesRelations,this.options.isFrontEnd?("packages"in e&&e.packages.length&&(this.responseEntities.employees=e.employees,this.responseEntities.categories=e.categories,this.responseEntities.locations=e.locations,this.responseEntities.customFields=e.customFields,this.responseEntities.services=this.getServicesFromCategories(this.responseEntities.categories),this.responseEntities.packages=e.packages?e.packages.filter(function(e){return e.available}):[],e.packages=e.packages.filter(function(e){return e.available})),this.filterEntities(e,this.getShortCodeEntityIds())):(this.options.entities.employees=e.employees,this.options.entities.categories=e.categories,this.options.entities.locations=e.locations,this.options.entities.customers=e.customers,this.options.entities.services=this.getServicesFromCategories(this.options.entities.categories),this.options.entities.packages=e.packages,this.options.entities.customFields=e.customFields,this.options.entities.coupons=e.coupons,this.options.entities.services.forEach(function(e){e.extras.forEach(function(e){e.extraId=e.id})}),this.options.availableEntitiesIds=this.getAvailableEntitiesIds(e,{categoryId:null,serviceId:null,employeeId:null,locationId:null})),"settings"in e&&(this.options.entities.settings=e.settings),this.options.entities.tags="tags"in e?e.tags:[]},getShortCodeEntityIds:function(){return this.$root.shortcodeData.booking?{categoryId:"category"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.category:null,serviceId:"service"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.service:null,employeeId:"employee"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.employee:null,locationId:"location"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.location:null,show:"show"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.show:null}:{categoryId:null,serviceId:null,employeeId:null,locationId:null,show:null}},entitiesLoaded:function(){return"ameliaAppointmentEntities"in window||"ameliaEntities"in window},fillCachedEntities:function(e){var t=this.getServicesFromCategories(e.categories);e.employees.forEach(function(e){e.serviceList.forEach(function(e){Object.assign(e,t.find(function(t){return t.id===e.id}),{price:e.price,minCapacity:e.minCapacity,maxCapacity:e.maxCapacity})})}),"packages"in e&&e.packages.forEach(function(e){e.bookable.forEach(function(e){e.service=JSON.parse(JSON.stringify(t.find(function(t){return t.id===e.service.id})))})})},fetchEntities:function(e,t){var i=this,n={params:{types:t.types}};if(t.page?n.params.page=t.page:"isFrontEnd"in t&&t.isFrontEnd&&(n.params.page="booking"),void 0!==this.$store&&void 0!==this.$store.state.cabinet&&"provider"===this.$store.state.cabinet.cabinetType&&(n=Object.assign(n,this.getAuthorizationHeaderObject()),Object.assign(n.params,{source:"cabinet-"+this.$store.state.cabinet.cabinetType})),t.isPanel||this.$root.hasApiCall&&!this.entitiesLoaded())this.$http.get(this.$root.getAjaxUrl+"/entities",n).then(function(n){i.options.isFrontEnd=t.isFrontEnd,window.ameliaAppointmentEntities=JSON.parse(JSON.stringify(n.data.data)),i.fillCachedEntities(window.ameliaAppointmentEntities),i.processEntities(window.ameliaAppointmentEntities),i.$root.useTranslations&&i.translateEntities(window.ameliaAppointmentEntities);e(!0)}).catch(function(t){console.log(t);e(!1)});else var a=setInterval(function(){if(i.entitiesLoaded()){if(clearInterval(a),i.options.isFrontEnd=t.isFrontEnd,"ameliaEntities"in window){var n=JSON.parse(JSON.stringify(window.ameliaEntities));i.fillCachedEntities(n),i.processEntities(n),i.$root.useTranslations&&i.translateEntities(n)}else{var o=JSON.parse(JSON.stringify(window.ameliaAppointmentEntities));i.fillCachedEntities(o),i.processEntities(o)}e(!0)}},1e3)},getFilteredEntities:function(e,t,i){var n=this,a=this.appointment&&this.appointment.id&&this.appointment[i]?this.appointment[i]:null;return this.options.entities[t].forEach(function(t){t.disabled=-1===e.indexOf(t.id)}),this.options.entities[t].filter(function(e){return-1!==n.options.availableEntitiesIds[t].indexOf(e.id)||null!==a&&a===e.id})}},computed:{visibleLocations:function(){return this.options.entities.locations.filter(function(e){return"visible"===e.status})},visibleEmployees:function(){return this.options.entities.employees.filter(function(e){return"visible"===e.status})},visibleCustomers:function(){return this.options.entities.customers.filter(function(e){return"visible"===e.status})},visibleServices:function(){return this.options.entities.services.filter(function(e){return"visible"===e.status}).sort(this.sortWithNull)},employeesFiltered:function(){var e=this,t=void 0!==this.appointment&&"bookings"in this.appointment&&this.appointment.bookings.length?this.appointment.bookings[0].persons:null,i=this.visibleEmployees.filter(function(i){return i.serviceList.filter(function(n){return"visible"===n.status&&(null===t||n.maxCapacity>=t)&&(!e.appointment.serviceId||e.isEmployeeService(i.id,n.id)&&n.id===e.appointment.serviceId)&&(!e.appointment.locationId||e.isEmployeeServiceLocation(i.id,n.id,e.appointment.locationId))&&(!e.appointment.categoryId||i.serviceList.filter(function(t){return"visible"===t.status&&t.categoryId===e.appointment.categoryId}).length>0)}).length>0});return this.options.isFrontEnd?i:this.getFilteredEntities(i.map(function(e){return e.id}),"employees","providerId")},servicesFiltered:function(){var e=this,t=[];if(this.appointment.providerId){var i=this.employeesFiltered.find(function(t){return t.id===e.appointment.providerId});t=void 0!==i?i.serviceList.filter(function(e){return"visible"===e.status}).map(function(e){return e.id}):[]}var n=this.visibleServices.filter(function(i){return!(e.appointment.providerId&&-1===t.indexOf(i.id)||e.appointment.locationId&&!(e.employeesFiltered.filter(function(t){return e.isEmployeeServiceLocation(t.id,i.id,e.appointment.locationId)}).length>0)||e.appointment.categoryId&&i.categoryId!==e.appointment.categoryId)});return this.options.isFrontEnd?n:this.getFilteredEntities(n.map(function(e){return e.id}),"services","serviceId")},sortWithNull:function(){return function(e,t){return e.position===t.position?0:null===e.position?1:null===t.position?-1:e.position<t.position?-1:1}},sortNotifications:function(){return function(e,t){return e.customName===t.customName?0:null===e.customName?1:null===t.customName?-1:e.id>t.id?-1:1}},locationsFiltered:function(){var e=this,t=[];if(this.appointment.providerId){var i=this.employeesFiltered.find(function(t){return t.id===e.appointment.providerId});t=void 0!==i?i.serviceList.filter(function(e){return"visible"===e.status}):[]}var n=null;this.appointment.categoryId&&(n=this.categoriesFiltered.find(function(t){return t.id===e.appointment.categoryId}));var a=this.visibleLocations.filter(function(i){return(!e.appointment.providerId||t.filter(function(t){return e.isEmployeeServiceLocation(e.appointment.providerId,t.id,i.id)}).length>0)&&(!e.appointment.serviceId||e.employeesFiltered.filter(function(t){return e.isEmployeeServiceLocation(t.id,e.appointment.serviceId,i.id)}).length>0)&&(!e.appointment.categoryId||void 0!==n&&e.employeesFiltered.filter(function(t){return t.serviceList.filter(function(a){return"visible"===a.status&&a.categoryId===n.id&&e.isEmployeeServiceLocation(t.id,a.id,i.id)}).length>0}).length>0)});return this.options.isFrontEnd?a:this.getFilteredEntities(a.map(function(e){return e.id}),"locations","locationId")},couponsFilteredService:function(){var e=this,t=[];return this.options.entities.coupons&&(t=this.options.entities.coupons.filter(function(e){return e.serviceList.length>0}),this.appointment.serviceId)?t.filter(function(t){return t.serviceList.find(function(t){return t.id===e.appointment.serviceId})}):t},couponsFilteredEvent:function(){var e=this,t=[];return this.options.entities.coupons&&(t=this.options.entities.coupons.filter(function(e){return e.eventList.length>0}),this.eventId)?t.filter(function(t){return t.eventList.find(function(t){return t.id===e.eventId})}):t},categoriesFiltered:function(){var e=this,t=null;this.appointment.providerId&&(t=this.employeesFiltered.find(function(t){return t.id===e.appointment.providerId}));var i=null;this.appointment.serviceId&&(i=this.servicesFiltered.find(function(t){return t.id===e.appointment.serviceId}));var n=this.options.entities.categories.filter(function(n){return(!e.appointment.serviceId||void 0!==i&&i.categoryId===n.id)&&(!e.appointment.locationId||n.serviceList.filter(function(t){return"visible"===t.status&&e.employeesFiltered.filter(function(i){return e.isEmployeeServiceLocation(i.id,t.id,e.appointment.locationId)}).length>0}).length>0)&&(!e.appointment.providerId||void 0!==t&&-1!==t.serviceList.filter(function(t){return"visible"===t.status&&e.isEmployeeService(e.appointment.providerId,t.id)}).map(function(e){return e.categoryId}).indexOf(n.id))});return this.options.isFrontEnd?n:this.getFilteredEntities(n.map(function(e){return e.id}),"categories","categoryId")}}}},691:function(e,t,i){"use strict";t.a={methods:{notify:function(e,t,i,n){var a=this;void 0===n&&(n=""),setTimeout(function(){a.$notify({customClass:n,title:e,message:t,type:i,offset:50})},700)}}}},692:function(e,t,i){"use strict";var n=i(0),a=i.n(n);t.a={data:function(){return{timeSelectOptions:{start:"00:00",end:"23:59",step:this.secondsToTimeSelectStep(this.getTimeSlotLength())}}},methods:{convertDateTimeRangeDifferenceToMomentDuration:function(e,t){return a.a.duration(a()(t).diff(a()(e)))},convertSecondsToMomentDuration:function(e){return a.a.duration(e,"seconds")},momentDurationToNiceDurationWithUnit:function(e){var t=Math.floor(e.asMinutes()/60),i=e.asMinutes()%60;return(t?t+this.$root.labels.h+" ":"")+" "+(i?i+this.$root.labels.min:"")},secondsToNiceDuration:function(e){var t=Math.floor(e/3600),i=e/60%60;return(t?t+this.$root.labels.h+" ":"")+" "+(i?i+this.$root.labels.min:"")},secondsToTimeSelectStep:function(e){var t=Math.floor(e/3600),i=Math.floor(e/60)-60*t;return e<0?(t||"00")+":"+((i<9?"0"+i:i)||"00"):((t<=9?"0"+t:t)||"00")+":"+((i<=9?"0"+i:i)||"00")},getTimeSlotLength:function(){return this.$root.settings.general.timeSlotLength},getPossibleDurationsInSeconds:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:84600,i=[],n=this.getTimeSlotLength();n<=t;n+=this.getTimeSlotLength())i.push(n);return e&&-1===i.indexOf(e)&&(i.push(e),i.sort(function(e,t){return e-t})),i},getTimeSelectOptionsWithLimits:function(e,t){return{start:"00:00",end:"24:00",step:this.secondsToTimeSelectStep(this.getTimeSlotLength()),minTime:e,maxTime:t}},getStringTimeInSeconds:function(e){return a()(e,"HH:mm").diff(a()().startOf("day"),"seconds")}}}},693:function(e,t,i){(function(i){var n,a,o,s;s=void 0!==i?i:this.window||this.global,a=[],n=function(e){var t,i={},n=!!document.querySelector&&!!e.addEventListener,a={initClass:"js-inlinesvg",svgSelector:"img.svg"},o=function(){var e={},t=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var a=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&"[object Object]"===Object.prototype.toString.call(i[n])?e[n]=o(!0,e[n],i[n]):e[n]=i[n])};n>i;i++){a(arguments[i])}return e},s=function(e){var i=document.querySelectorAll(t.svgSelector),n=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}}(i.length,e);Array.prototype.forEach.call(i,function(e,i){var a=e.src||e.getAttribute("data-src"),o=e.attributes,s=new XMLHttpRequest;s.open("GET",a,!0),s.onload=function(){if(s.status>=200&&s.status<400){var i=(new DOMParser).parseFromString(s.responseText,"text/xml").getElementsByTagName("svg")[0];if(i.removeAttribute("xmlns:a"),i.removeAttribute("width"),i.removeAttribute("height"),i.removeAttribute("x"),i.removeAttribute("y"),i.removeAttribute("enable-background"),i.removeAttribute("xmlns:xlink"),i.removeAttribute("xml:space"),i.removeAttribute("version"),Array.prototype.slice.call(o).forEach(function(e){"src"!==e.name&&"alt"!==e.name&&i.setAttribute(e.name,e.value)}),i.classList?i.classList.add("inlined-svg"):i.className+=" inlined-svg",i.setAttribute("role","img"),o.longdesc){var a=document.createElementNS("http://www.w3.org/2000/svg","desc"),r=document.createTextNode(o.longdesc.value);a.appendChild(r),i.insertBefore(a,i.firstChild)}if(o.alt){i.setAttribute("aria-labelledby","title");var l=document.createElementNS("http://www.w3.org/2000/svg","title"),c=document.createTextNode(o.alt.value);l.appendChild(c),i.insertBefore(l,i.firstChild)}e.parentNode.replaceChild(i,e),n(t.svgSelector)}else console.error("There was an error retrieving the source of the SVG.")},s.onerror=function(){console.error("There was an error connecting to the origin server.")},s.send()})};return i.init=function(e,i){n&&(t=o(a,e||{}),s(i||function(){}),document.documentElement.className+=" "+t.initClass)},i}(s),void 0===(o="function"==typeof n?n.apply(t,a):n)||(e.exports=o)}).call(t,i(39))},697:function(e,t,i){"use strict";(function(t){var n=i(688),a=i(725),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r,l={adapter:("undefined"!=typeof XMLHttpRequest?r=i(708):void 0!==t&&(r=i(708)),r),transformRequest:[function(e,t){return a(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){l.headers[e]={}}),n.forEach(["post","put","patch"],function(e){l.headers[e]=n.merge(o)}),e.exports=l}).call(t,i(142))},701:function(e,t,i){"use strict";t.a={data:function(){return{timeZone:"",statusesCabinet:[{value:"approved",label:this.$root.labels.approved},{value:"pending",label:this.$root.labels.pending},{value:"canceled",label:this.$root.labels.canceled},{value:"rejected",label:this.$root.labels.rejected}]}},methods:{isPanelActive:function(e){return!this.$root.shortcodeData.cabinet||!this.$root.shortcodeData.cabinet.appointments&&!this.$root.shortcodeData.cabinet.events||(!("appointments"!==e||!this.$root.shortcodeData.cabinet||!this.$root.shortcodeData.cabinet.appointments)||"events"===e&&this.$root.shortcodeData.cabinet&&this.$root.shortcodeData.cabinet.events)},changeRange:function(e){this.$store.commit("cabinet/setParams",{dates:e}),this.setDatePickerSelectedDaysCount(this.$store.state.cabinet.params.dates.start,this.$store.state.cabinet.params.dates.end),this.$emit("refreshReservations")},isBookingCancelable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.cancelable&&!("canceled"===e.bookings[t].status||"rejected"===e.bookings[t].status)},isBookingReschedulable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.reschedulable&&!("canceled"===e.bookings[t].status||"rejected"===e.bookings[t].status)},disableAuthorizationHeader:function(){return"ameliaBooking"in window&&"cabinet"in window.ameliaBooking&&"disableAuthorizationHeader"in window.ameliaBooking.cabinet&&window.ameliaBooking.cabinet.disableAuthorizationHeader},getAuthorizationHeaderObject:function(){return this.$store.state.cabinet.ameliaToken&&!this.disableAuthorizationHeader()?{headers:{Authorization:"Bearer "+this.$store.state.cabinet.ameliaToken}}:{}}}}},702:function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=r(i(722)),o=r(i(740)),s=r(i(741));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.progress=0,this.isPending=!1,this.errors=new o.default,["post","patch","put","delete"].forEach(function(e){t[e]=function(i,n){return t.submit(e,i,n)}})}return n(e,[{key:"submit",value:function(t,i){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.toLowerCase(),this.hasFiles(a)&&(a=(0,s.default)(a),"post"!==t&&(a.append("_method",t.toUpperCase()),t="post")),this.progress=0,this.errors.clear(),this.isPending=!0,new Promise(function(o,s){e.defaults.axios[t](i,a,n.config()).then(function(e){o(e.data)}).catch(function(e){n.handleError(e),s(e)}).then(function(){return n.isPending=!1})})}},{key:"hasFiles",value:function(e){for(var t in e)if(this.fileIsPresent(e[t]))return!0;return!1}},{key:"fileIsPresent",value:function(e){return e instanceof File||e instanceof Array&&e.some(function(e){return e instanceof File})}},{key:"save",value:function(e,t){var i="post";return t.hasOwnProperty("id")&&(i="patch",e=this.urlToPatchResource(e,t)),this[i](e,t)}},{key:"urlToPatchResource",value:function(e,t){return e.replace(/\/+$/,"")+"/"+t.id}},{key:"config",value:function(){var e=this;return{onUploadProgress:function(t){e.progress=Math.round(100*t.loaded/t.total)}}}},{key:"handleError",value:function(e){if(e.response&&422===e.response.status){var t=e.response.data.hasOwnProperty("errors")?e.response.data.errors:e.response.data;this.errors.set(t)}}}]),e}();l.defaults={axios:a.default},e.exports=l},705:function(e,t,i){"use strict";t.a={data:function(){return{}},methods:{getNameTranslated:function(e){if(e.translations&&JSON.parse(e.translations).name){var t=JSON.parse(e.translations).name[window.localeLanguage[0]];if(t&&""!==t)return t}return e.name},getCfLabelTranslated:function(e){if(e.translations){var t=JSON.parse(e.translations).name[window.localeLanguage[0]];if(t&&""!==t)return t}return e.label},getCfOptionTranslated:function(e){if(e.translations){var t=JSON.parse(e.translations)[window.localeLanguage[0]];if(t&&""!==t)return t}return e.label},getDescriptionTranslated:function(e){if(e.translations&&JSON.parse(e.translations).description){var t=JSON.parse(e.translations).description;if(t[window.localeLanguage[0]])return t[window.localeLanguage[0]]}return e.description},translateEntities:function(e){var t=this;e.services&&e.services.length&&e.services.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e),e.extras.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e)})}),e.packages&&e.packages.length&&e.packages.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e),e.bookable.forEach(function(e){e.service.name=t.getNameTranslated(e.service),e.service.description=t.getDescriptionTranslated(e.service),e.service.extras.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e)})})}),e.categories&&e.categories.length&&e.categories.forEach(function(e){e.name=t.getNameTranslated(e),e.serviceList.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e),e.extras.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e)})})}),e.events&&e.events.length&&e.events.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e),e.extras.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e)})}),e.customFields&&e.customFields.length&&e.customFields.forEach(function(e){e.label=t.getCfLabelTranslated(e),e.options.forEach(function(e){e.label=t.getCfOptionTranslated(e)})}),e.employees&&e.employees.length&&e.employees.forEach(function(e){e.serviceList.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e),e.extras.forEach(function(e){e.name=t.getNameTranslated(e),e.description=t.getDescriptionTranslated(e)})})})}},computed:{}}},707:function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},708:function(e,t,i){"use strict";var n=i(688),a=i(726),o=i(728),s=i(729),r=i(730),l=i(709),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(731);e.exports=function(e){return new Promise(function(t,u){var d=e.data,p=e.headers;n.isFormData(d)&&delete p["Content-Type"];var m=new XMLHttpRequest,g="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||r(e.url)||(m=new window.XDomainRequest,g="onload",v=!0,m.onprogress=function(){},m.ontimeout=function(){}),e.auth){var f=e.auth.username||"",h=e.auth.password||"";p.Authorization="Basic "+c(f+":"+h)}if(m.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m[g]=function(){if(m&&(4===m.readyState||v)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in m?s(m.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:i,config:e,request:m};a(t,u,n),m=null}},m.onerror=function(){u(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",m)),m=null},n.isStandardBrowserEnv()){var b=i(732),y=(e.withCredentials||r(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in m&&n.forEach(p,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:m.setRequestHeader(t,e)}),e.withCredentials&&(m.withCredentials=!0),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),u(e),m=null)}),void 0===d&&(d=null),m.send(d)})}},709:function(e,t,i){"use strict";var n=i(727);e.exports=function(e,t,i,a,o){var s=new Error(e);return n(s,t,i,a,o)}},710:function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},711:function(e,t,i){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},713:function(e,t,i){var n=i(685)(i(744),i(745),!1,null,null,null);e.exports=n.exports},714:function(e,t,i){"use strict";var n=i(686);t.a={mixins:[n.a],data:function(){return{}},methods:{getInitEntitySettings:function(e){var t={payments:{onSite:this.$root.settings.payments.onSite,wc:{productId:this.$root.settings.payments.wc.productId},payPal:{enabled:this.$root.settings.payments.payPal.enabled},stripe:{enabled:this.$root.settings.payments.stripe.enabled},mollie:{enabled:this.$root.settings.payments.mollie.enabled}}};switch(e){case"service":t.general={minimumTimeRequirementPriorToCanceling:null,minimumTimeRequirementPriorToRescheduling:null,redirectUrlAfterAppointment:null},t.general.defaultAppointmentStatus=null,t.general.numberOfDaysAvailableForBooking=0,t.general.minimumTimeRequirementPriorToBooking=null,t.zoom={enabled:this.$root.settings.zoom.enabled};break;case"event":t.general={minimumTimeRequirementPriorToCanceling:null,redirectUrlAfterAppointment:null},t.zoom={enabled:this.$root.settings.zoom.enabled}}return t},setEntitySettings:function(e,t){e.settings=null!==e.settings?JSON.parse(e.settings):this.getInitEntitySettings(t),this.addMissingObjectProperties(e.settings,this.getInitEntitySettings(t))},updateSettings:function(e){if(!this.$root.clonedSettings.payments.onSite||this.$root.clonedSettings.payments.stripe.enabled||this.$root.clonedSettings.payments.payPal.enabled||this.$root.clonedSettings.payments.wc.enabled||this.$root.clonedSettings.payments.mollie.enabled){if(!1===this.$root.clonedSettings.payments.wc.enabled&&!1===this.$root.clonedSettings.payments.mollie.enabled&&null!==e){var t=JSON.parse(e);t.payments.wc=this.$root.clonedSettings.payments.wc,t.payments.mollie=this.$root.clonedSettings.payments.mollie,this.$root.clonedSettings.payments.onSite||(t.payments.onSite=this.$root.clonedSettings.payments.onSite),this.$root.clonedSettings.payments.payPal.enabled||(t.payments.payPal=this.$root.clonedSettings.payments.payPal),this.$root.clonedSettings.payments.stripe.enabled||(t.payments.stripe=this.$root.clonedSettings.payments.stripe),t.payments.onSite||t.payments.payPal.enabled||t.payments.stripe.enabled||t.payments.mollie.enabled||(t.payments=this.$root.clonedSettings.payments),e=JSON.stringify(t)}if(!0===this.$root.clonedSettings.payments.wc.enabled&&null!==e){var i=JSON.parse(e);"payments"in i||(i.payments={}),i.payments.onSite=this.$root.clonedSettings.payments.onSite,i.payments.stripe=this.$root.clonedSettings.payments.stripe,i.payments.payPal=this.$root.clonedSettings.payments.payPal,i.payments.mollie=this.$root.clonedSettings.payments.mollie,e=JSON.stringify(i)}if(!0===this.$root.clonedSettings.payments.mollie.enabled&&null!==e){var n=JSON.parse(e);"payments"in n||(n.payments={}),this.$root.clonedSettings.payments.onSite||(n.payments.onSite=this.$root.clonedSettings.payments.onSite,n.payments.mollie=this.$root.clonedSettings.payments.mollie),n.payments.stripe=this.$root.clonedSettings.payments.stripe,n.payments.payPal=this.$root.clonedSettings.payments.payPal,e=JSON.stringify(n)}this.replaceExistingObjectProperties(this.$root.settings,null!==e?JSON.parse(e):this.$root.clonedSettings)}},prepareEntitySettingsForSave:function(e){var t=JSON.parse(JSON.stringify(e.settings));return t.payments.wc.productId===this.$root.settings.payments.wc.productId&&delete t.payments.wc,"general"in t&&(t.general.redirectUrlAfterAppointment||delete t.general.redirectUrlAfterAppointment,t.general.defaultAppointmentStatus||delete t.general.defaultAppointmentStatus,(t.general.minimumTimeRequirementPriorToBooking||this.$root.settings.general.minimumTimeRequirementPriorToBooking)&&""!==t.general.minimumTimeRequirementPriorToBooking||delete t.general.minimumTimeRequirementPriorToBooking,(t.general.minimumTimeRequirementPriorToCanceling||this.$root.settings.general.minimumTimeRequirementPriorToCanceling)&&""!==t.general.minimumTimeRequirementPriorToCanceling||delete t.general.minimumTimeRequirementPriorToCanceling,(t.general.minimumTimeRequirementPriorToRescheduling||this.$root.settings.general.minimumTimeRequirementPriorToRescheduling)&&""!==t.general.minimumTimeRequirementPriorToRescheduling||delete t.general.minimumTimeRequirementPriorToRescheduling,t.general.numberOfDaysAvailableForBooking||delete t.general.numberOfDaysAvailableForBooking,0===Object.keys(t.general).length&&delete t.general),0===Object.keys(t).length&&(t=null),t}},computed:{}}},716:function(e,t,i){"use strict";t.a={data:function(){return{}},methods:{updateStashEntities:function(e){this.$root.settings.activation.stash&&this.$http.post(this.$root.getAjaxUrl+"/stash",e).then(function(e){})}}}},718:function(e,t,i){var n=i(685)(i(719),i(720),!1,null,null,null);e.exports=n.exports},719:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(337);t.default={mixins:[n.a],props:["appointmentsApproved","appointmentsPending","employeesTotal","customersTotal","locationsTotal","packagesTotal","servicesTotal","categoriesTotal","financeTotal","addNewCouponBtnDisplay","addNewCustomFieldBtnDisplay","locations","categories","bookableType","params","fetched"],methods:{showDialogCustomer:function(){this.$emit("newCustomerBtnClicked",null)},showDialogAppointment:function(){this.$emit("newAppointmentBtnClicked",null)},showDialogEvent:function(){this.$emit("newEventBtnClicked",null)},showDialogEmployee:function(){this.$emit("newEmployeeBtnClicked")},showDialogLocation:function(){this.$emit("newLocationBtnClicked")},showDialogService:function(){this.$emit("newServiceBtnClicked")},showDialogPackage:function(){this.$emit("newPackageBtnClicked")},showDialogCoupon:function(){this.$emit("newCouponBtnClicked")},showDialogCustomFields:function(){this.$emit("newCustomFieldBtnClicked")},selectAllInCategory:function(e){this.$emit("selectAllInCategory",e)},changeFilter:function(){this.$emit("changeFilter")}}}},720:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"am-page-header am-section"},[i("el-row",{attrs:{type:"wpamelia-calendar"===e.$router.currentRoute.name?"":"flex",align:"middle"}},[i("el-col",{attrs:{span:"wpamelia-calendar"===e.$router.currentRoute.name?6:18}},[i("div",{staticClass:"am-logo"},[i("img",{staticClass:"logo-big",attrs:{width:"92",src:e.$root.getUrl+"public/img/amelia-logo-horizontal.svg"}}),e._v(" "),i("img",{staticClass:"logo-small",attrs:{width:"28",src:e.$root.getUrl+"public/img/amelia-logo-symbol.svg"}})]),e._v(" "),i("h1",{staticClass:"am-page-title"},[e._v("\n        "+e._s("packages"!==e.bookableType?e.$router.currentRoute.meta.title:e.$root.labels.packages)+"\n\n        "),e._v(" "),e.appointmentsApproved>=0?i("span",{staticClass:"am-appointments-number approved"},[e._v("\n          "+e._s(e.appointmentsApproved)+"\n        ")]):e._e(),e._v(" "),e.appointmentsPending>=0?i("span",{staticClass:"am-appointments-number pending"},[e._v("\n          "+e._s(e.appointmentsPending)+"\n        ")]):e._e(),e._v(" "),e.employeesTotal>=0&&!0===e.$root.settings.capabilities.canReadOthers?i("span",[i("span",{staticClass:"total-number"},[e._v(e._s(e.employeesTotal))]),e._v(" "+e._s(e.$root.labels.total)+"\n        ")]):e._e(),e._v(" "),e.customersTotal>=0?i("span",[i("span",{staticClass:"total-number"},[e._v(e._s(e.customersTotal))]),e._v(" "+e._s(e.$root.labels.total)+"\n        ")]):e._e(),e._v(" "),e.locationsTotal>=0?i("span",[i("span",{staticClass:"total-number"},[e._v(e._s(e.locationsTotal))]),e._v(" "+e._s(e.$root.labels.total)+"\n        ")]):e._e(),e._v(" "),e.servicesTotal>=0&&"services"===e.bookableType?i("span",[i("span",{staticClass:"total-number"},[e._v(e._s(e.servicesTotal))]),e._v(" "+e._s(e.$root.labels.total)+"\n        ")]):e._e(),e._v(" "),e.packagesTotal>=0&&"packages"===e.bookableType?i("span",[i("span",{staticClass:"total-number"},[e._v(e._s(e.packagesTotal))]),e._v(" "+e._s(e.$root.labels.total)+"\n        ")]):e._e(),e._v(" "),e.financeTotal>=0?i("span",[i("span",{staticClass:"total-number"},[e._v(e._s(e.financeTotal))]),e._v(" "+e._s(e.$root.labels.total)+"\n        ")]):e._e()])]),e._v(" "),i("el-col",{staticClass:"align-right v-calendar-column",attrs:{span:"wpamelia-calendar"===e.$router.currentRoute.name?18:6}},["wpamelia-appointments"===e.$router.currentRoute.name&&(!0===e.$root.settings.capabilities.canWriteOthers||"provider"===this.$root.settings.role&&this.$root.settings.roles.allowWriteAppointments)?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogAppointment}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.new_appointment))])]):e._e(),e._v(" "),"wpamelia-events"===e.$router.currentRoute.name&&(!0===e.$root.settings.capabilities.canWriteOthers||"provider"===this.$root.settings.role&&this.$root.settings.roles.allowWriteEvents)?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogEvent}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.new_event))])]):e._e(),e._v(" "),"wpamelia-employees"===e.$router.currentRoute.name&&!0===e.$root.settings.capabilities.canWrite&&!0===e.$root.settings.capabilities.canWriteOthers?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogEmployee}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_employee))])]):e._e(),e._v(" "),"wpamelia-customers"===e.$router.currentRoute.name&&!0===e.$root.settings.capabilities.canWrite?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogCustomer}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_customer))])]):e._e(),e._v(" "),"wpamelia-locations"===e.$router.currentRoute.name&&!0===e.$root.settings.capabilities.canWrite?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogLocation}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_location))])]):e._e(),e._v(" "),"wpamelia-services"===e.$router.currentRoute.name&&e.categoriesTotal>0&&!0===e.$root.settings.capabilities.canWrite&&"services"===e.bookableType?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogService}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_service))])]):e._e(),e._v(" "),"wpamelia-services"===e.$router.currentRoute.name&&e.servicesTotal>0&&!0===e.$root.settings.capabilities.canWrite&&"packages"===e.bookableType?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogPackage}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_package))])]):e._e(),e._v(" "),i("transition",{attrs:{name:"fade"}},["wpamelia-finance"===e.$router.currentRoute.name&&e.addNewCouponBtnDisplay&&!0===e.$root.settings.capabilities.canWrite?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogCoupon}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.new_coupon))])]):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade"}},["wpamelia-customize"===e.$router.currentRoute.name&&e.addNewCustomFieldBtnDisplay&&!0===e.$root.settings.capabilities.canWrite?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogCustomFields}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.add_custom_field))])]):e._e()],1),e._v(" "),"wpamelia-dashboard"===e.$router.currentRoute.name?i("div",{staticClass:"v-calendar-column"},[i("div",{staticClass:"el-form-item__content"},[i("v-date-picker",{attrs:{mode:"range","popover-visibility":"focus","popover-direction":"bottom","popover-align":"right","tint-color":"#1A84EE","show-day-popover":!1,"input-props":{class:"el-input__inner"},"is-expanded":!1,"is-required":!0,"input-class":"el-input__inner",formats:e.vCalendarFormats,"is-double-paned":!0},on:{input:e.changeFilter},model:{value:e.params.dates,callback:function(t){e.$set(e.params,"dates",t)},expression:"params.dates"}})],1)]):e._e(),e._v(" "),"wpamelia-calendar"===e.$router.currentRoute.name?i("div",{staticClass:"am-calendar-header-filters"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:e.$root.labels.services+":"}},[i("el-select",{attrs:{multiple:"",filterable:"","collapse-tags":"",loading:!e.fetched,placeholder:e.$root.labels.all_services},on:{change:e.changeFilter},model:{value:e.params.services,callback:function(t){e.$set(e.params,"services",t)},expression:"params.services"}},e._l(e.categories,function(t){return i("div",{key:t.id},[i("div",{staticClass:"am-drop-parent",on:{click:function(i){return e.selectAllInCategory(t.id)}}},[i("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.serviceList,function(e){return i("el-option",{key:e.id,staticClass:"am-drop-child",attrs:{label:e.name,value:e.id}})})],2)}),0)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.locations.length,expression:"locations.length"}],attrs:{label:e.$root.labels.locations+":"}},[i("el-select",{attrs:{multiple:"",clearable:"","collapse-tags":"",placeholder:e.$root.labels.all_locations,loading:!e.fetched},on:{change:e.changeFilter},model:{value:e.params.locations,callback:function(t){e.$set(e.params,"locations",t)},expression:"params.locations"}},e._l(e.locations,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),"wpamelia-calendar"===e.$router.currentRoute.name&&("admin"===e.$root.settings.role||"manager"===e.$root.settings.role||"provider"===e.$root.settings.role&&e.$root.settings.roles.allowWriteAppointments)?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.showDialogAppointment}},[i("i",{staticClass:"el-icon-plus"}),e._v(" "),i("span",{staticClass:"button-text"},[e._v(e._s(e.$root.labels.new_appointment))])]):e._e()],1):e._e()],1)],1)],1)},staticRenderFns:[]}},722:function(e,t,i){e.exports=i(723)},723:function(e,t,i){"use strict";var n=i(688),a=i(707),o=i(724),s=i(697);function r(e){var t=new o(e),i=a(o.prototype.request,t);return n.extend(i,o.prototype,t),n.extend(i,t),i}var l=r(s);l.Axios=o,l.create=function(e){return r(n.merge(s,e))},l.Cancel=i(711),l.CancelToken=i(738),l.isCancel=i(710),l.all=function(e){return Promise.all(e)},l.spread=i(739),e.exports=l,e.exports.default=l},724:function(e,t,i){"use strict";var n=i(697),a=i(688),o=i(733),s=i(734),r=i(736),l=i(737);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),(e=a.merge(n,this.defaults,{method:"get"},e)).method=e.method.toLowerCase(),e.baseURL&&!r(e.url)&&(e.url=l(e.baseURL,e.url));var t=[s,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)i=i.then(t.shift(),t.shift());return i},a.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,i){return this.request(a.merge(i||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,i,n){return this.request(a.merge(n||{},{method:e,url:t,data:i}))}}),e.exports=c},725:function(e,t,i){"use strict";var n=i(688);e.exports=function(e,t){n.forEach(e,function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])})}},726:function(e,t,i){"use strict";var n=i(709);e.exports=function(e,t,i){var a=i.config.validateStatus;i.status&&a&&!a(i.status)?t(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},727:function(e,t,i){"use strict";e.exports=function(e,t,i,n,a){return e.config=t,i&&(e.code=i),e.request=n,e.response=a,e}},728:function(e,t,i){"use strict";var n=i(688);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(a(t)+"="+a(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},729:function(e,t,i){"use strict";var n=i(688);e.exports=function(e){var t,i,a,o={};return e?(n.forEach(e.split("\n"),function(e){a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),i=n.trim(e.substr(a+1)),t&&(o[t]=o[t]?o[t]+", "+i:i)}),o):o}},730:function(e,t,i){"use strict";var n=i(688);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function a(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=a(window.location.href),function(t){var i=n.isString(t)?a(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},731:function(e,t,i){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(){this.message="String contains an invalid character"}a.prototype=new Error,a.prototype.code=5,a.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,i,o=String(e),s="",r=0,l=n;o.charAt(0|r)||(l="=",r%1);s+=l.charAt(63&t>>8-r%1*8)){if((i=o.charCodeAt(r+=.75))>255)throw new a;t=t<<8|i}return s}},732:function(e,t,i){"use strict";var n=i(688);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,a,o,s){var r=[];r.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),n.isString(a)&&r.push("path="+a),n.isString(o)&&r.push("domain="+o),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},733:function(e,t,i){"use strict";var n=i(688);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},734:function(e,t,i){"use strict";var n=i(688),a=i(735),o=i(710),s=i(697);function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=a(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(r(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},735:function(e,t,i){"use strict";var n=i(688);e.exports=function(e,t,i){return n.forEach(i,function(i){e=i(e,t)}),e}},736:function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},737:function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},738:function(e,t,i){"use strict";var n=i(711);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new n(e),t(i.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},739:function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},740:function(e,t,i){"use strict";var n,a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(13),s=(n=o)&&n.__esModule?n:{default:n};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}return a(e,[{key:"set",value:function(e){this.errors=e}},{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e))return this.errors[e][0]}},{key:"getAll",value:function(e){if(this.has(e))return this.errors[e]}},{key:"clear",value:function(e){e?s.default.delete(this.errors,e):this.errors={}}},{key:"any",value:function(){return Object.keys(this.errors).length>0}}]),e}()},741:function(e,t,i){"use strict";function n(e){return void 0===e}function a(e){return Array.isArray(e)}function o(e){return e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}e.exports=function e(t,i,s,r){if(i instanceof FormData&&(r=s,s=i,i=null),(i=i||{}).indices=!n(i.indices)&&i.indices,i.nulls=!!n(i.nulls)||i.nulls,s=s||new FormData,n(t))return s;if(function(e){return null===e}(t))i.nulls&&s.append(r,"");else if(a(t))if(t.length)t.forEach(function(t,n){var a=r+"["+(i.indices?n:"")+"]";e(t,i,s,a)});else{var l=r+"[]";s.append(l,"")}else!function(e){return e instanceof Date}(t)?!function(e){return e===Object(e)}(t)||function(e){return o(e)&&("object"==typeof e.lastModifiedDate||"number"==typeof e.lastModified)&&"string"==typeof e.name}(t)||o(t)?s.append(r,t):Object.keys(t).forEach(function(n){var o=t[n];if(a(o))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);e(o,i,s,r?r+"["+n+"]":n)}):s.append(r,t.toISOString());return s}},744:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(702),a=i.n(n),o=i(691),s=i(337),r=i(701),l=i(716);t.default={mixins:[o.a,s.a,r.a,l.a],props:{formName:"",urlName:null,isNew:null,entity:null,getParsedEntity:null,updateStash:!1,haveSaveConfirmation:null,hasApplyGloballyVisibility:!1,hasApplyGloballyDeletion:!1,hasIcons:!0,status:null,buttonType:{status:"primary",remove:"danger"},action:{haveAdd:!1,haveEdit:!1,haveStatus:!1,haveRemove:!1,haveRemoveEffect:!1,ignoreDeleteEffect:!1,haveDuplicate:!1,haveSaveWarning:!1},message:{success:{save:null,remove:null,show:null,hide:null},confirm:{remove:null,show:null,hide:null,duplicate:null,save:null}},buttonText:null},data:function(){return{form:new a.a,allowedDelete:!0,showDeleteConfirmation:!1,showVisibilityConfirmation:!1,showDuplicateConfirmation:!1,showSaveConfirmation:!1,showAddHoursDialog:!1,deleteEffectMessage:null,dialogLoading:!1}},methods:{getButtonType:function(e){switch(e){case"status":return this.hasIcons?null:this.buttonType.status;case"remove":return this.hasIcons?null:this.buttonType.remove;case"duplicate":return this.hasIcons?null:this.buttonType.duplicate}},closeDialog:function(){this.$parent.$emit("closeDialog")},onSubmit:function(e){var t=this,i=this.$root;this.$parent.$refs[this.formName].validate(function(n,a){if(!n)return"appointment"===t.formName&&t.handleAppointmentDialogTabChange(a),t.$emit("validationFailCallback"),!1;t.dialogLoading=!0,t.isNew?t.addEntity(e):t.editEntity(e),t.$root=i})},onSuccess:function(e,t,i){var n=this;this.$parent.$emit("saveCallback",i),setTimeout(function(){n.dialogLoading=!1,n.$parent.$emit("closeDialog")},300),this.notify(e,t,"success")},onError:function(e,t){this.dialogLoading=!1,this.$emit("errorCallback",t)},addEntity:function(e){var t=this,i=null;void 0!==this.$store&&void 0!==this.$store.state.cabinet&&"provider"===this.$store.state.cabinet.cabinetType&&(i=Object.assign(this.getAuthorizationHeaderObject(),{params:{source:"cabinet-"+this.$store.state.cabinet.cabinetType}})),this.$http.post(this.$root.getAjaxUrl+"/"+this.urlName,this.getParsedEntity(e),i).then(function(e){t.onSuccess(t.$root.labels.success,t.message.success.save,e.data.data),t.updateStash&&t.updateStashEntities({})}).catch(function(e){e.response&&t.onError("",e.response.data.data)})},editEntity:function(e){var t=this,i=null;void 0!==this.$store&&void 0!==this.$store.state.cabinet&&"provider"===this.$store.state.cabinet.cabinetType&&(i=Object.assign(this.getAuthorizationHeaderObject(),{params:{source:"cabinet-"+this.$store.state.cabinet.cabinetType}})),this.$http.post(this.$root.getAjaxUrl+"/"+this.urlName+"/"+this.entity.id,this.getParsedEntity(e),i).then(function(e){t.onSuccess(t.$root.labels.success,t.message.success.save,e.data.data),t.updateStash&&t.updateStashEntities({})}).catch(function(e){e.response&&t.onError("",e.response.data.data)})},deleteEntity:function(e){var t=this;this.dialogLoading=!0,this.form.post(this.$root.getAjaxUrl+"/"+this.urlName+"/delete/"+this.entity.id,{status:this.status.on,applyGlobally:e}).then(function(e){t.onSuccess(t.$root.labels.success,t.message.success.remove,e.data.data),t.updateStash&&t.updateStashEntities({})}).catch(function(e){e.response&&t.onError("",e.response.data.data.message)})},showEntity:function(e){var t=this;this.dialogLoading=!0,this.form.post(this.$root.getAjaxUrl+"/"+this.urlName+"/status/"+this.entity.id,{status:this.status.on,applyGlobally:e}).then(function(e){t.onSuccess(t.$root.labels.success,t.message.success.show,null),t.updateStash&&t.updateStashEntities({})}).catch(function(e){e.response&&t.onError("",e.response.data.data.message)})},hideEntity:function(e){var t=this;this.dialogLoading=!0,this.form.post(this.$root.getAjaxUrl+"/"+this.urlName+"/status/"+this.entity.id,{status:this.status.off,applyGlobally:e}).then(function(){t.onSuccess(t.$root.labels.success,t.message.success.hide,null),t.updateStash&&t.updateStashEntities({})}).catch(function(e){e.response&&t.onError("",e.response.data.data.message)})},duplicateEntity:function(){var e=this;this.dialogLoading=!0,this.$parent.$emit("closeDialog",!0),this.$parent.$emit("duplicateCallback",this.entity),setTimeout(function(){e.showDuplicateConfirmation=!1,e.dialogLoading=!1},600)},handleSaveConfirmation:function(){this.showSaveConfirmation=!this.showSaveConfirmation,this.showVisibilityConfirmation=!1,this.showDeleteConfirmation=!1,this.showDuplicateConfirmation=!1},handleDuplicateConfirmation:function(){this.showDuplicateConfirmation=!this.showDuplicateConfirmation,this.showSaveConfirmation=!1,this.showDeleteConfirmation=!1,this.showVisibilityConfirmation=!1},handleVisibilityConfirmation:function(){this.showVisibilityConfirmation=!this.showVisibilityConfirmation,this.showSaveConfirmation=!1,this.showDeleteConfirmation=!1,this.showDuplicateConfirmation=!1},handleDeleteConfirmation:function(){var e=this;this.showVisibilityConfirmation=!1,this.showDuplicateConfirmation=!1,this.showSaveConfirmation=!1,this.action.haveRemoveEffect?!1===this.showDeleteConfirmation&&this.$http.get(this.$root.getAjaxUrl+"/"+this.urlName+"/effect/"+this.entity.id).then(function(t){e.allowedDelete=t.data.data.valid||e.ignoreDeleteEffect,e.deleteEffectMessage=t.data.data.message,e.showDeleteConfirmation=!e.showDeleteConfirmation}).catch(function(t){e.showDeleteConfirmation=!e.showDeleteConfirmation,e.deleteEffectMessage=""}):this.showDeleteConfirmation=!this.showDeleteConfirmation},handleSaveClick:function(){this.haveSaveConfirmation&&this.haveSaveConfirmation()?this.handleSaveConfirmation():this.onSubmit(!1)},getConfirmSaveButtonText:function(){return null!==this.buttonText&&this.buttonText.confirm&&this.buttonText.confirm.save?{yes:this.buttonText.confirm.save.yes,no:this.buttonText.confirm.save.no}:{yes:this.$root.labels.yes,no:this.$root.labels.no}},getConfirmDeleteButtonText:function(){return null!==this.buttonText&&this.buttonText.confirm&&this.buttonText.confirm.remove?{yes:this.buttonText.confirm.remove.yes,no:this.buttonText.confirm.remove.no}:{yes:this.$root.labels.yes,no:this.$root.labels.no}},getConfirmStatusButtonText:function(){return null!==this.buttonText&&this.buttonText.confirm&&this.buttonText.confirm.status?{yes:this.buttonText.confirm.status.yes,no:this.buttonText.confirm.status.no}:{yes:this.$root.labels.yes,no:this.$root.labels.no}},getActionStatusButtonText:function(){return null!==this.buttonText&&this.buttonText.action?this.buttonText.action.status:""},getActionRemoveButtonText:function(){return null!==this.buttonText&&this.buttonText.action?this.buttonText.action.remove:""},getActionDuplicateButtonText:function(){return null!==this.buttonText&&this.buttonText.action?this.buttonText.action.duplicate:""},handleAppointmentDialogTabChange:function(e){for(var t=Object.keys(e),i=0,n=0;n<t.length;n++)i=t[n].startsWith("bookings.")?i+1:i;i===t.length&&this.$emit("validationBookingsFailCallback")},isStatusOn:function(){return this.entity.status===this.status.on},isStatusOff:function(){return this.entity.status===this.status.off}},computed:{},components:{}}},745:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"am-dialog-footer"},[i("div",{staticClass:"am-dialog-footer-actions"},[i("transition",{attrs:{name:"slide-vertical"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDeleteConfirmation,expression:"showDeleteConfirmation"}],staticClass:"am-dialog-confirmation"},[i("h3",{directives:[{name:"show",rawName:"v-show",value:e.allowedDelete,expression:"allowedDelete"}]},[e._v(e._s(e.message.confirm.remove))]),e._v(" "),e.action.haveRemoveEffect&&e.deleteEffectMessage?i("el-alert",{attrs:{title:"",type:"warning",description:e.deleteEffectMessage,"show-icon":"",closable:!1}}):e._e(),e._v(" "),e.hasApplyGloballyDeletion?i("div",{staticClass:"align-left"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.deleteEntity(!1)}}},[e._v("\n              "+e._s(e.getConfirmDeleteButtonText().no)+"\n            ")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.deleteEntity(!0)}}},[e._v("\n              "+e._s(e.getConfirmDeleteButtonText().yes)+"\n            ")])],1):i("div",{staticClass:"align-left"},[e.allowedDelete?i("el-button",{attrs:{size:"small"},on:{click:function(t){e.showDeleteConfirmation=!e.showDeleteConfirmation}}},[e._v("\n              "+e._s(e.$root.labels.cancel)+"\n            ")]):e._e(),e._v(" "),e.allowedDelete?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.deleteEntity(!1)}}},[e._v("\n              "+e._s(e.$root.labels.delete)+"\n            ")]):e._e(),e._v(" "),e.allowedDelete?e._e():i("el-button",{attrs:{size:"small"},on:{click:function(t){e.showDeleteConfirmation=!e.showDeleteConfirmation}}},[e._v("\n              "+e._s(e.$root.labels.close)+"\n            ")])],1)],1)]),e._v(" "),i("transition",{attrs:{name:"slide-vertical"}},[e.status?i("div",{directives:[{name:"show",rawName:"v-show",value:e.showVisibilityConfirmation,expression:"showVisibilityConfirmation"}],staticClass:"am-dialog-confirmation"},[e.isStatusOn()?i("h3",[e._v(e._s(e.message.confirm.hide))]):e.isStatusOff()?i("h3",[e._v(e._s(e.message.confirm.show))]):e._e(),e._v(" "),e.hasApplyGloballyVisibility?i("div",{staticClass:"align-left"},[e.isStatusOn()?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.hideEntity(!1)}}},[e._v("\n              "+e._s(e.getConfirmStatusButtonText().no)+"\n            ")]):e._e(),e._v(" "),e.isStatusOn()?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.hideEntity(!0)}}},[e._v("\n              "+e._s(e.getConfirmStatusButtonText().yes)+"\n            ")]):e._e(),e._v(" "),e.isStatusOff()?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.showEntity(!1)}}},[e._v("\n              "+e._s(e.getConfirmStatusButtonText().no)+"\n            ")]):e._e(),e._v(" "),e.isStatusOff()?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.showEntity(!0)}}},[e._v("\n              "+e._s(e.getConfirmStatusButtonText().yes)+"\n            ")]):e._e()],1):i("div",{staticClass:"align-left"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.showVisibilityConfirmation=!e.showVisibilityConfirmation}}},[e._v("\n              "+e._s(e.$root.labels.cancel)+"\n            ")]),e._v(" "),e.isStatusOn()?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.hideEntity(!1)}}},[e._v("\n              "+e._s(e.getConfirmStatusButtonText().yes)+"\n            ")]):e._e(),e._v(" "),e.isStatusOff()?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.showEntity(!1)}}},[e._v("\n              "+e._s(e.getConfirmStatusButtonText().yes)+"\n            ")]):e._e()],1)]):e._e()]),e._v(" "),i("transition",{attrs:{name:"slide-vertical"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDuplicateConfirmation,expression:"showDuplicateConfirmation"}],staticClass:"am-dialog-confirmation"},[i("h3",[e._v(e._s(e.message.confirm.duplicate))]),e._v(" "),i("div",{staticClass:"align-left"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.showDuplicateConfirmation=!e.showDuplicateConfirmation}}},[e._v("\n              "+e._s(e.$root.labels.cancel)+"\n            ")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.duplicateEntity}},[e._v("\n              "+e._s(e.$root.labels.duplicate)+"\n            ")])],1)])]),e._v(" "),i("transition",{attrs:{name:"slide-vertical"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSaveConfirmation,expression:"showSaveConfirmation"}],staticClass:"am-dialog-confirmation"},[e.buttonText?i("h3",[e._v(e._s(e.message.confirm.save))]):e._e(),e._v(" "),e.buttonText?i("div",{staticClass:"align-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.onSubmit(!1)}}},[e._v("\n              "+e._s(e.getConfirmSaveButtonText().no)+"\n            ")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.onSubmit(!0)}}},[e._v("\n              "+e._s(e.getConfirmSaveButtonText().yes)+"\n            ")])],1):e._e(),e._v(" "),e.action.haveSaveWarning?i("el-alert",{staticStyle:{"word-break":"break-word"},attrs:{title:"",type:"warning",description:e.message.confirm.save,"show-icon":"",closable:!1}}):e._e()],1)]),e._v(" "),e.isNew?i("el-row",[i("el-col",{staticClass:"align-right",attrs:{sm:24}},[i("el-button",{attrs:{type:""},on:{click:e.closeDialog}},[e._v("\n            "+e._s(e.$root.labels.cancel)+"\n          ")]),e._v(" "),e.action.haveAdd&&e.action.haveEdit?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.handleSaveClick}},[e._v("\n            "+e._s(e.$root.labels.save)+"\n          ")]):e._e()],1)],1):i("el-row",[i("el-col",{staticClass:"align-left",attrs:{sm:16}},[e.action.haveDuplicate?i("el-button",{class:{"am-button-icon":e.hasIcons,"am-dialog-create":!e.hasIcons},attrs:{type:e.getButtonType("duplicate")},on:{click:e.handleDuplicateConfirmation}},[e.hasIcons?i("img",{staticClass:"svg",attrs:{alt:e.$root.labels.duplicate,src:e.$root.getUrl+"public/img/copy.svg"}}):i("span",[e._v(e._s(e.getActionDuplicateButtonText()))])]):e._e(),e._v(" "),e.action.haveStatus?i("el-button",{class:{"am-button-icon":e.hasIcons,"am-dialog-create":!e.hasIcons},attrs:{type:e.getButtonType("status")},on:{click:e.handleVisibilityConfirmation}},[e.hasIcons?i("img",{staticClass:"svg",attrs:{alt:e.$root.labels.hide,src:e.$root.getUrl+(e.isStatusOff()?"public/img/unhide.svg":"public/img/hide.svg")}}):i("span",[e._v(e._s(e.getActionStatusButtonText()))])]):e._e(),e._v(" "),e.action.haveRemove?i("el-button",{class:{"am-button-icon":e.hasIcons,"am-dialog-create":!e.hasIcons},attrs:{type:e.getButtonType("remove")},on:{click:e.handleDeleteConfirmation}},[e.hasIcons?i("img",{staticClass:"svg",attrs:{alt:e.$root.labels.delete,src:e.$root.getUrl+"public/img/delete.svg"}}):i("span",[e._v(e._s(e.getActionRemoveButtonText()))])]):e._e()],1),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{sm:!1===e.action.haveRemove&&!1===e.action.haveStatus&&!1===e.action.haveDuplicate?24:8}},[e.action.haveAdd&&e.action.haveEdit?i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.handleSaveClick}},[e._v("\n            "+e._s(e.$root.labels.save)+"\n          ")]):e._e()],1)],1)],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogLoading,expression:"dialogLoading"}],staticClass:"am-dialog-loader"},[i("div",{staticClass:"am-dialog-loader-content"},[i("img",{attrs:{src:e.$root.getUrl+"public/img/spinner.svg"}}),e._v(" "),i("p",[e._v(e._s(e.$root.labels.loader_message))])])])])},staticRenderFns:[]}},755:function(e,t,i){var n;n=function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=9)}([function(e,t,i){"use strict";t.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(e,t,i){"use strict";var n=i(2),a=i(5),o=i(0);t.a=function(e,t){if(t.value){var s=i.i(a.a)(o.a,t.value);if("INPUT"!==e.tagName.toLocaleUpperCase()){var r=e.getElementsByTagName("input");1!==r.length||(e=r[0])}e.oninput=function(){var t=e.value.length-e.selectionEnd;e.value=i.i(n.a)(e.value,s),t=Math.max(t,s.suffix.length),t=e.value.length-t,t=Math.max(t,s.prefix.length+1),i.i(n.b)(e,t),e.dispatchEvent(i.i(n.c)("change"))},e.onfocus=function(){i.i(n.b)(e,e.value.length-s.suffix.length)},e.oninput(),e.dispatchEvent(i.i(n.c)("input"))}}},function(e,t,i){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a;"number"==typeof e&&(e=e.toFixed(s(t.precision)));var i=e.indexOf("-")>=0?"-":"",n=l(r(o(e),t.precision)).split("."),a=n[0],c=n[1];return a=function(e,t){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+t)}(a,t.thousands),t.prefix+i+function(e,t,i){return t?e+i+t:e}(a,c,t.decimal)+t.suffix}function a(e,t){var i=e.indexOf("-")>=0?-1:1,n=r(o(e),t);return parseFloat(n)*i}function o(e){return l(e).replace(/\D+/g,"")||"0"}function s(e){return function(e,t,i){return Math.max(e,Math.min(t,i))}(0,e,20)}function r(e,t){var i=Math.pow(10,t);return(parseFloat(e)/i).toFixed(s(t))}function l(e){return e?e.toString():""}function c(e,t){var i=function(){e.setSelectionRange(t,t)};e===document.activeElement&&(i(),setTimeout(i,1))}function u(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var d=i(0);i.d(t,"a",function(){return n}),i.d(t,"d",function(){return a}),i.d(t,"b",function(){return c}),i.d(t,"c",function(){return u})},function(e,t,i){"use strict";function n(e,t){t&&Object.keys(t).map(function(e){r.a[e]=t[e]}),e.directive("money",s.a),e.component("money",o.a)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(6),o=i.n(a),s=i(1),r=i(0);i.d(t,"Money",function(){return o.a}),i.d(t,"VMoney",function(){return s.a}),i.d(t,"options",function(){return r.a}),i.d(t,"VERSION",function(){return l});var l="0.8.1";t.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),a=i(0),o=i(2);t.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return a.a.precision}},decimal:{type:String,default:function(){return a.a.decimal}},thousands:{type:String,default:function(){return a.a.thousands}},prefix:{type:String,default:function(){return a.a.prefix}},suffix:{type:String,default:function(){return a.a.suffix}}},directives:{money:n.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(e,t){var n=i.i(o.a)(e,this.$props);n!==this.formattedValue&&(this.formattedValue=n)}}},methods:{change:function(e){this.$emit("input",this.masked?e.target.value:i.i(o.d)(e.target.value,this.precision))}}}},function(e,t,i){"use strict";t.a=function(e,t){return e=e||{},t=t||{},Object.keys(e).concat(Object.keys(t)).reduce(function(i,n){return i[n]=void 0===t[n]?e[n]:t[n],i},{})}},function(e,t,i){var n=i(7)(i(4),i(8),null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,i,n){var a,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,o=e.default);var r="function"==typeof o?o.options:o;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),i&&(r._scopeId=i),n){var l=r.computed||(r.computed={});Object.keys(n).forEach(function(e){var t=n[e];l[e]=function(){return t}})}return{esModule:a,exports:o,options:r}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,t,i){e.exports=i(3)}])},e.exports=n()},756:function(e,t,i){var n=i(685)(i(759),i(760),!1,null,null,null);e.exports=n.exports},759:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixins:[],props:{params:null,visible:!1,label:"",count:0,show:null},data:function(){return{currentPage:null}},methods:{change:function(){this.$emit("change")}},computed:{paginationMessage:function(){return this.$root.labels.showing+" "+(this.params.page*this.getItemsPerPage-this.getItemsPerPage+1)+" "+this.$root.labels.to+" "+(this.params.page*this.getItemsPerPage>this.count?this.count:this.params.page*this.getItemsPerPage)+" "+this.$root.labels.of+" "+this.count+" "+this.label},getItemsPerPage:function(){return void 0===this.show||null===this.show?this.$root.settings.general.itemsPerPage:this.show}}}},760:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"am-pagination am-section"},[i("el-row",[i("el-col",{attrs:{sm:8}},[i("p",[e._v(e._s(e.paginationMessage))])]),e._v(" "),i("el-col",{attrs:{sm:16}},[i("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.getItemsPerPage,total:e.count,"current-page":e.params.page},on:{"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"current-change":e.change}})],1)],1)],1)},staticRenderFns:[]}},793:function(e,t,i){var n;"undefined"!=typeof self&&self,n=function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({"02f4":function(e,t,i){var n=i("4588"),a=i("be13");e.exports=function(e){return function(t,i){var o,s,r=String(a(t)),l=n(i),c=r.length;return l<0||l>=c?e?"":void 0:(o=r.charCodeAt(l))<55296||o>56319||l+1===c||(s=r.charCodeAt(l+1))<56320||s>57343?e?r.charAt(l):o:e?r.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},"0390":function(e,t,i){"use strict";var n=i("02f4")(!0);e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},"07e3":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"0bfb":function(e,t,i){"use strict";var n=i("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0fc9":function(e,t,i){var n=i("3a38"),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):o(e,t)}},1654:function(e,t,i){"use strict";var n=i("71c1")(!0);i("30f1")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},1691:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(e,t,i){var n=i("63b6");n(n.S,"Array",{isArray:i("9003")})},"1bc3":function(e,t,i){var n=i("f772");e.exports=function(e,t){if(!n(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!n(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,i){var n=i("f772"),a=i("e53d").document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},"20fd":function(e,t,i){"use strict";var n=i("d9f6"),a=i("aebd");e.exports=function(e,t,i){t in e?n.f(e,t,a(0,i)):e[t]=i}},"214f":function(e,t,i){"use strict";i("b0c5");var n=i("2aba"),a=i("32e9"),o=i("79e5"),s=i("be13"),r=i("2b4c"),l=i("520a"),c=r("species"),u=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var p=r(e),m=!o(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),g=m?!o(function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[c]=function(){return i}),i[p](""),!t}):void 0;if(!m||!g||"replace"===e&&!u||"split"===e&&!d){var v=/./[p],f=i(s,p,""[e],function(e,t,i,n,a){return t.exec===l?m&&!a?{done:!0,value:v.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),h=f[0],b=f[1];n(String.prototype,e,h),a(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"230e":function(e,t,i){var n=i("d3f4"),a=i("7726").document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},"23c6":function(e,t,i){var n=i("2d95"),a=i("2b4c")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},"241e":function(e,t,i){var n=i("25eb");e.exports=function(e){return Object(n(e))}},"25eb":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"2aba":function(e,t,i){var n=i("7726"),a=i("32e9"),o=i("69a8"),s=i("ca5a")("src"),r=i("fa5b"),l="toString",c=(""+r).split(l);i("8378").inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,i,r){var l="function"==typeof i;l&&(o(i,"name")||a(i,"name",t)),e[t]!==i&&(l&&(o(i,s)||a(i,s,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=i:r?e[t]?e[t]=i:a(e,t,i):(delete e[t],a(e,t,i)))})(Function.prototype,l,function(){return"function"==typeof this&&this[s]||r.call(this)})},"2b4c":function(e,t,i){var n=i("5537")("wks"),a=i("ca5a"),o=i("7726").Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:a)("Symbol."+e))}).store=n},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"2fdb":function(e,t,i){"use strict";var n=i("5ca1"),a=i("d2c8"),o="includes";n(n.P+n.F*i("5147")(o),"String",{includes:function(e){return!!~a(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(e,t,i){"use strict";var n=i("b8e3"),a=i("63b6"),o=i("9138"),s=i("35e8"),r=i("481b"),l=i("8f60"),c=i("45f2"),u=i("53e2"),d=i("5168")("iterator"),p=!([].keys&&"next"in[].keys()),m="keys",g="values",v=function(){return this};e.exports=function(e,t,i,f,h,b,y){l(i,t,f);var _,x,C,w=function(e){if(!p&&e in T)return T[e];switch(e){case m:case g:return function(){return new i(this,e)}}return function(){return new i(this,e)}},k=t+" Iterator",S=h==g,$=!1,T=e.prototype,E=T[d]||T["@@iterator"]||h&&T[h],P=E||w(h),D=h?S?w("entries"):P:void 0,O="Array"==t&&T.entries||E;if(O&&((C=u(O.call(new e)))!==Object.prototype&&C.next&&(c(C,k,!0),n||"function"==typeof C[d]||s(C,d,v))),S&&E&&E.name!==g&&($=!0,P=function(){return E.call(this)}),n&&!y||!p&&!$&&T[d]||s(T,d,P),r[t]=P,r[k]=v,h)if(_={values:S?P:w(g),keys:b?P:w(m),entries:D},y)for(x in _)x in T||o(T,x,_[x]);else a(a.P+a.F*(p||$),t,_);return _}},"32a6":function(e,t,i){var n=i("241e"),a=i("c3a1");i("ce7e")("keys",function(){return function(e){return a(n(e))}})},"32e9":function(e,t,i){var n=i("86cc"),a=i("4630");e.exports=i("9e1e")?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},"32fc":function(e,t,i){var n=i("e53d").document;e.exports=n&&n.documentElement},"335c":function(e,t,i){var n=i("6b4c");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"355d":function(e,t){t.f={}.propertyIsEnumerable},"35e8":function(e,t,i){var n=i("d9f6"),a=i("aebd");e.exports=i("8e60")?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},"36c3":function(e,t,i){var n=i("335c"),a=i("25eb");e.exports=function(e){return n(a(e))}},3702:function(e,t,i){var n=i("481b"),a=i("5168")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[a]===e)}},"3a38":function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},"40c3":function(e,t,i){var n=i("6b4c"),a=i("5168")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},4588:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},"45f2":function(e,t,i){var n=i("d9f6").f,a=i("07e3"),o=i("5168")("toStringTag");e.exports=function(e,t,i){e&&!a(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"469f":function(e,t,i){i("6c1c"),i("1654"),e.exports=i("7d7b")},"481b":function(e,t){e.exports={}},"4aa6":function(e,t,i){e.exports=i("dc62")},"4bf8":function(e,t,i){var n=i("be13");e.exports=function(e){return Object(n(e))}},"4ee1":function(e,t,i){var n=i("5168")("iterator"),a=!1;try{var o=[7][n]();o.return=function(){a=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var i=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:i=!0}},o[n]=function(){return s},e(o)}catch(e){}return i}},"50ed":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},5147:function(e,t,i){var n=i("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},5168:function(e,t,i){var n=i("dbdb")("wks"),a=i("62a0"),o=i("e53d").Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:a)("Symbol."+e))}).store=n},5176:function(e,t,i){e.exports=i("51b6")},"51b6":function(e,t,i){i("a3c3"),e.exports=i("584a").Object.assign},"520a":function(e,t,i){"use strict";var n=i("0bfb"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,r="lastIndex",l=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[r]||0!==t[r]}(),c=void 0!==/()??/.exec("")[1];(l||c)&&(s=function(e){var t,i,s,u,d=this;return c&&(i=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),l&&(t=d[r]),s=a.call(d,e),l&&s&&(d[r]=d.global?s.index+s[0].length:t),c&&s&&s.length>1&&o.call(s[0],i,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)}),s}),e.exports=s},"53e2":function(e,t,i){var n=i("07e3"),a=i("241e"),o=i("5559")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"549b":function(e,t,i){"use strict";var n=i("d864"),a=i("63b6"),o=i("241e"),s=i("b0dc"),r=i("3702"),l=i("b447"),c=i("20fd"),u=i("7cd6");a(a.S+a.F*!i("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,a,d,p=o(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,f=void 0!==v,h=0,b=u(p);if(f&&(v=n(v,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&r(b))for(i=new m(t=l(p.length));t>h;h++)c(i,h,f?v(p[h],h):p[h]);else for(d=b.call(p),i=new m;!(a=d.next()).done;h++)c(i,h,f?s(d,v,[a.value,h],!0):a.value);return i.length=h,i}})},"54a1":function(e,t,i){i("6c1c"),i("1654"),e.exports=i("95d5")},5537:function(e,t,i){var n=i("8378"),a=i("7726"),o="__core-js_shared__",s=a[o]||(a[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(e,t,i){var n=i("dbdb")("keys"),a=i("62a0");e.exports=function(e){return n[e]||(n[e]=a(e))}},"584a":function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},"5b4e":function(e,t,i){var n=i("36c3"),a=i("b447"),o=i("0fc9");e.exports=function(e){return function(t,i,s){var r,l=n(t),c=a(l.length),u=o(s,c);if(e&&i!=i){for(;c>u;)if((r=l[u++])!=r)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},"5ca1":function(e,t,i){var n=i("7726"),a=i("8378"),o=i("32e9"),s=i("2aba"),r=i("9b43"),l="prototype",c=function(e,t,i){var u,d,p,m,g=e&c.F,v=e&c.G,f=e&c.S,h=e&c.P,b=e&c.B,y=v?n:f?n[t]||(n[t]={}):(n[t]||{})[l],_=v?a:a[t]||(a[t]={}),x=_[l]||(_[l]={});for(u in v&&(i=t),i)p=((d=!g&&y&&void 0!==y[u])?y:i)[u],m=b&&d?r(p,n):h&&"function"==typeof p?r(Function.call,p):p,y&&s(y,u,p,e&c.U),_[u]!=p&&o(_,u,m),h&&x[u]!=p&&(x[u]=p)};n.core=a,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5d73":function(e,t,i){e.exports=i("469f")},"5f1b":function(e,t,i){"use strict";var n=i("23c6"),a=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var o=i.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"626a":function(e,t,i){var n=i("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"62a0":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},"63b6":function(e,t,i){var n=i("e53d"),a=i("584a"),o=i("d864"),s=i("35e8"),r=i("07e3"),l="prototype",c=function(e,t,i){var u,d,p,m=e&c.F,g=e&c.G,v=e&c.S,f=e&c.P,h=e&c.B,b=e&c.W,y=g?a:a[t]||(a[t]={}),_=y[l],x=g?n:v?n[t]:(n[t]||{})[l];for(u in g&&(i=t),i)(d=!m&&x&&void 0!==x[u])&&r(y,u)||(p=d?x[u]:i[u],y[u]=g&&"function"!=typeof x[u]?i[u]:h&&d?o(p,n):b&&x[u]==p?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t[l]=e[l],t}(p):f&&"function"==typeof p?o(Function.call,p):p,f&&((y.virtual||(y.virtual={}))[u]=p,e&c.R&&_&&!_[u]&&s(_,u,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},6762:function(e,t,i){"use strict";var n=i("5ca1"),a=i("c366")(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},6821:function(e,t,i){var n=i("626a"),a=i("be13");e.exports=function(e){return n(a(e))}},"69a8":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"6a99":function(e,t,i){var n=i("d3f4");e.exports=function(e,t){if(!n(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!n(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"6c1c":function(e,t,i){i("c367");for(var n=i("e53d"),a=i("35e8"),o=i("481b"),s=i("5168")("toStringTag"),r="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<r.length;l++){var c=r[l],u=n[c],d=u&&u.prototype;d&&!d[s]&&a(d,s,c),o[c]=o.Array}},"71c1":function(e,t,i){var n=i("3a38"),a=i("25eb");e.exports=function(e){return function(t,i){var o,s,r=String(a(t)),l=n(i),c=r.length;return l<0||l>=c?e?"":void 0:(o=r.charCodeAt(l))<55296||o>56319||l+1===c||(s=r.charCodeAt(l+1))<56320||s>57343?e?r.charAt(l):o:e?r.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},7726:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"774e":function(e,t,i){e.exports=i("d2d5")},"77f1":function(e,t,i){var n=i("4588"),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):o(e,t)}},"794b":function(e,t,i){e.exports=!i("8e60")&&!i("294c")(function(){return 7!=Object.defineProperty(i("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7cd6":function(e,t,i){var n=i("40c3"),a=i("5168")("iterator"),o=i("481b");e.exports=i("584a").getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||o[n(e)]}},"7d7b":function(e,t,i){var n=i("e4ae"),a=i("7cd6");e.exports=i("584a").getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"7e90":function(e,t,i){var n=i("d9f6"),a=i("e4ae"),o=i("c3a1");e.exports=i("8e60")?Object.defineProperties:function(e,t){a(e);for(var i,s=o(t),r=s.length,l=0;r>l;)n.f(e,i=s[l++],t[i]);return e}},8378:function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},8436:function(e,t){e.exports=function(){}},"86cc":function(e,t,i){var n=i("cb7c"),a=i("c69a"),o=i("6a99"),s=Object.defineProperty;t.f=i("9e1e")?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),a)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},"8aae":function(e,t,i){i("32a6"),e.exports=i("584a").Object.keys},"8e60":function(e,t,i){e.exports=!i("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(e,t,i){"use strict";var n=i("a159"),a=i("aebd"),o=i("45f2"),s={};i("35e8")(s,i("5168")("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(s,{next:a(1,i)}),o(e,t+" Iterator")}},9003:function(e,t,i){var n=i("6b4c");e.exports=Array.isArray||function(e){return"Array"==n(e)}},9138:function(e,t,i){e.exports=i("35e8")},9306:function(e,t,i){"use strict";var n=i("c3a1"),a=i("9aa9"),o=i("355d"),s=i("241e"),r=i("335c"),l=Object.assign;e.exports=!l||i("294c")(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=s(e),l=arguments.length,c=1,u=a.f,d=o.f;l>c;)for(var p,m=r(arguments[c++]),g=u?n(m).concat(u(m)):n(m),v=g.length,f=0;v>f;)d.call(m,p=g[f++])&&(i[p]=m[p]);return i}:l},9427:function(e,t,i){var n=i("63b6");n(n.S,"Object",{create:i("a159")})},"95d5":function(e,t,i){var n=i("40c3"),a=i("5168")("iterator"),o=i("481b");e.exports=i("584a").isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||o.hasOwnProperty(n(t))}},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},"9b43":function(e,t,i){var n=i("d8e8");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,i){var n=i("2b4c")("unscopables"),a=Array.prototype;void 0==a[n]&&i("32e9")(a,n,{}),e.exports=function(e){a[n][e]=!0}},"9def":function(e,t,i){var n=i("4588"),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},"9e1e":function(e,t,i){e.exports=!i("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(e,t,i){var n=i("e4ae"),a=i("7e90"),o=i("1691"),s=i("5559")("IE_PROTO"),r=function(){},l="prototype",c=function(){var e,t=i("1ec9")("iframe"),n=o.length;for(t.style.display="none",i("32fc").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c[l][o[n]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(r[l]=n(e),i=new r,r[l]=null,i[s]=e):i=c(),void 0===t?i:a(i,t)}},a352:function(t,i){t.exports=e},a3c3:function(e,t,i){var n=i("63b6");n(n.S+n.F,"Object",{assign:i("9306")})},a481:function(e,t,i){"use strict";var n=i("cb7c"),a=i("4bf8"),o=i("9def"),s=i("4588"),r=i("0390"),l=i("5f1b"),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};i("214f")("replace",2,function(e,t,i,v){return[function(n,a){var o=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,o,a):i.call(String(o),n,a)},function(e,t){var a=v(i,e,this,t);if(a.done)return a.value;var d=n(e),p=String(this),m="function"==typeof t;m||(t=String(t));var h=d.global;if(h){var b=d.unicode;d.lastIndex=0}for(var y=[];;){var _=l(d,p);if(null===_)break;if(y.push(_),!h)break;""===String(_[0])&&(d.lastIndex=r(p,o(d.lastIndex),b))}for(var x="",C=0,w=0;w<y.length;w++){_=y[w];for(var k=String(_[0]),S=c(u(s(_.index),p.length),0),$=[],T=1;T<_.length;T++)$.push(g(_[T]));var E=_.groups;if(m){var P=[k].concat($,S,p);void 0!==E&&P.push(E);var D=String(t.apply(void 0,P))}else D=f(k,p,S,$,E,t);S>=C&&(x+=p.slice(C,S)+D,C=S+k.length)}return x+p.slice(C)}];function f(e,t,n,o,s,r){var l=n+e.length,c=o.length,u=m;return void 0!==s&&(s=a(s),u=p),i.call(r,u,function(i,a){var r;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":r=s[a.slice(1,-1)];break;default:var u=+a;if(0===u)return i;if(u>c){var p=d(u/10);return 0===p?i:p<=c?void 0===o[p-1]?a.charAt(1):o[p-1]+a.charAt(1):i}r=o[u-1]}return void 0===r?"":r})}})},a4bb:function(e,t,i){e.exports=i("8aae")},a745:function(e,t,i){e.exports=i("f410")},aae3:function(e,t,i){var n=i("d3f4"),a=i("2d95"),o=i("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b0c5:function(e,t,i){"use strict";var n=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b0dc:function(e,t,i){var n=i("e4ae");e.exports=function(e,t,i,a){try{return a?t(n(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},b447:function(e,t,i){var n=i("3a38"),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},b8e3:function(e,t){e.exports=!0},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,i){var n=i("6821"),a=i("9def"),o=i("77f1");e.exports=function(e){return function(t,i,s){var r,l=n(t),c=a(l.length),u=o(s,c);if(e&&i!=i){for(;c>u;)if((r=l[u++])!=r)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},c367:function(e,t,i){"use strict";var n=i("8436"),a=i("50ed"),o=i("481b"),s=i("36c3");e.exports=i("30f1")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},c3a1:function(e,t,i){var n=i("e6f3"),a=i("1691");e.exports=Object.keys||function(e){return n(e,a)}},c649:function(e,t,i){"use strict";(function(e){i.d(t,"c",function(){return c}),i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o}),i.d(t,"d",function(){return l}),i("a481");var n=i("4aa6"),a=i.n(n);var o="undefined"!=typeof window?window.console:e.console;var s=/-(\w)/g,r=function(e){var t=a()(null);return function(i){return t[i]||(t[i]=e(i))}}(function(e){return e.replace(s,function(e,t){return t?t.toUpperCase():""})});function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function c(e,t,i){var n=0===i?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,n)}}).call(this,i("c8ba"))},c69a:function(e,t,i){e.exports=!i("9e1e")&&!i("79e5")(function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},c8bb:function(e,t,i){e.exports=i("54a1")},ca5a:function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},cb7c:function(e,t,i){var n=i("d3f4");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},ce7e:function(e,t,i){var n=i("63b6"),a=i("584a"),o=i("294c");e.exports=function(e,t){var i=(a.Object||{})[e]||Object[e],s={};s[e]=t(i),n(n.S+n.F*o(function(){i(1)}),"Object",s)}},d2c8:function(e,t,i){var n=i("aae3"),a=i("be13");e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(a(e))}},d2d5:function(e,t,i){i("1654"),i("549b"),e.exports=i("584a").Array.from},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d864:function(e,t,i){var n=i("79aa");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)}}return function(){return e.apply(t,arguments)}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d9f6:function(e,t,i){var n=i("e4ae"),a=i("794b"),o=i("1bc3"),s=Object.defineProperty;t.f=i("8e60")?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),a)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},dbdb:function(e,t,i){var n=i("584a"),a=i("e53d"),o="__core-js_shared__",s=a[o]||(a[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("b8e3")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(e,t,i){i("9427");var n=i("584a").Object;e.exports=function(e,t){return n.create(e,t)}},e4ae:function(e,t,i){var n=i("f772");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},e6f3:function(e,t,i){var n=i("07e3"),a=i("36c3"),o=i("5b4e")(!1),s=i("5559")("IE_PROTO");e.exports=function(e,t){var i,r=a(e),l=0,c=[];for(i in r)i!=s&&n(r,i)&&c.push(i);for(;t.length>l;)n(r,i=t[l++])&&(~o(c,i)||c.push(i));return c}},f410:function(e,t,i){i("1af6"),e.exports=i("584a").Array.isArray},f559:function(e,t,i){"use strict";var n=i("5ca1"),a=i("9def"),o=i("d2c8"),s="startsWith",r=""[s];n(n.P+n.F*i("5147")(s),"String",{startsWith:function(e){var t=o(this,e,s),i=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return r?r.call(t,n,i):t.slice(i,i+n.length)===n}})},f772:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},fa5b:function(e,t,i){e.exports=i("5537")("native-function-to-string",Function.toString)},fb15:function(e,t,i){"use strict";var n;i.r(t),"undefined"!=typeof window&&(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(i.p=n[1]);var a=i("5176"),o=i.n(a),s=(i("f559"),i("a4bb")),r=i.n(s),l=(i("6762"),i("2fdb"),i("a745")),c=i.n(l);var u=i("5d73"),d=i.n(u);function p(e,t){return function(e){if(c()(e))return e}(e)||function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var s,r=d()(e);!(n=(s=r.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=i("774e"),g=i.n(m),v=i("c8bb"),f=i.n(v);function h(e){return function(e){if(c()(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(f()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return g()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=i("a352"),y=i.n(b),_=i("c649");function x(e,t){var i=this;this.$nextTick(function(){return i.$emit(e.toLowerCase(),t)})}function C(e,t){var i=null,n=function(e,t){i=function(e,t,i){return void 0===i?e:((e=e||{})[t]=i,e)}(i,e,t)};if(n("attrs",r()(e).filter(function(e){return"id"===e||e.startsWith("data-")}).reduce(function(t,i){return t[i]=e[i],t},{})),!t)return i;var a=t.on,s=t.props,l=t.attrs;return n("on",a),n("props",s),o()(i.attrs,l),i}var w=["Start","Add","Remove","Update","End"],k=["Choose","Sort","Filter","Clone"],S=["Move"].concat(w,k).map(function(e){return"on"+e}),$=null,T={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=function(e){if(!e||1!==e.length)return!1;var t=p(e,1)[0].componentOptions;return!!t&&["transition-group","TransitionGroup"].includes(t.tag)}(t);var i=function(e,t){var i=t.header,n=t.footer,a=0,o=0;return i&&(a=i.length,e=e?[].concat(h(i),h(e)):h(i)),n&&(o=n.length,e=e?[].concat(h(e),h(n)):h(n)),{children:e,headerOffset:a,footerOffset:o}}(t,this.$slots),n=i.children,a=i.headerOffset,o=i.footerOffset;this.headerOffset=a,this.footerOffset=o;var s=C(this.$attrs,this.componentData);return e(this.getTag(),s,n)},created:function(){null!==this.list&&null!==this.value&&_.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&_.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&_.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};w.forEach(function(i){t["on"+i]=function(e){var t=this;return function(i){null!==t.realList&&t["onDrag"+e](i),x.call(t,e,i)}}.call(e,i)}),k.forEach(function(i){t["on"+i]=x.bind(e,i)});var i=r()(this.$attrs).reduce(function(t,i){return t[Object(_.a)(i)]=e.$attrs[i],t},{}),n=o()({},this.options,i,t,{onMove:function(t,i){return e.onDragMove(t,i)}});!("draggable"in n)&&(n.draggable=">*"),this._sortable=new y.a(this.rootContainer,n),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var i=Object(_.a)(t);-1===S.indexOf(i)&&this._sortable.option(i,e[t])}},getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1===this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=function(e,t,i,n){if(!e)return[];var a=e.map(function(e){return e.elm}),o=t.length-n,s=h(t).map(function(e,t){return t>=o?a.length:a.indexOf(e)});return i?s.filter(function(e){return-1!==e}):s}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)})},getUnderlyingVm:function(e){var t=function(e,t){return e.map(function(e){return e.elm}).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&"transition-group"===t.$options._componentTag?t.$parent:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=h(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments;this.alterList(function(t){return t.splice.apply(t,h(e))})},updatePosition:function(e,t){this.alterList(function(i){return i.splice(t,0,i.splice(e,1)[0])})},getRelatedContextFromMoveEvent:function(e){var t=e.to,i=e.related,n=this.getUnderlyingPotencialDraggableComponent(t);if(!n)return{component:n};var a=n.realList,s={list:a,component:n};if(t!==i&&a&&n.getUnderlyingVm){var r=n.getUnderlyingVm(i);if(r)return o()(r,s)}return s},getVmIndex:function(e){var t=this.visibleIndexes,i=t.length;return e>i-1?i:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),$=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(_.d)(e.item);var i=this.getVmIndex(e.newIndex);this.spliceList(i,0,t),this.computeIndexes();var n={element:t,newIndex:i};this.emitChanges({added:n})}},onDragRemove:function(e){if(Object(_.c)(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var i={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:i})}else Object(_.d)(e.clone)},onDragUpdate:function(e){Object(_.d)(e.item),Object(_.c)(e.from,e.item,e.oldIndex);var t=this.context.index,i=this.getVmIndex(e.newIndex);this.updatePosition(t,i);var n={element:this.context.element,oldIndex:t,newIndex:i};this.emitChanges({moved:n})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var i=h(t.to.children).filter(function(e){return"none"!==e.style.display}),n=i.indexOf(t.related),a=e.component.getVmIndex(n);return-1!==i.indexOf($)||!t.willInsertAfter?a:a+1},onDragMove:function(e,t){var i=this.move;if(!i||!this.realList)return!0;var n=this.getRelatedContextFromMoveEvent(e),a=this.context,s=this.computeFutureIndex(n,e);return o()(a,{futureIndex:s}),i(o()({},e,{relatedContext:n,draggedContext:a}),t)},onDragEnd:function(){this.computeIndexes(),$=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",T);var E=T;t.default=E}}).default},e.exports=n(i(832))},794:function(e,t,i){var n=i(685)(i(795),i(796),!1,null,null,null);e.exports=n.exports},795:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:"#picture-upload",props:{editedEntity:null,entityName:"",multiple:!1},data:function(){return{pictureFullPath:"",pictureThumbPath:""}},mounted:function(){},methods:{openMediaModal:function(){var e,t=this;e?e.open():((e=wp.media({title:"Select or Upload Profile Picture",button:{text:"Select picture"},multiple:this.multiple,library:{type:"image"}})).on("select",function(){var i=null;e.state().get("selection").forEach(function(e){i=e.toJSON(),t.pictureFullPath=i.url,t.pictureThumbPath=i.sizes.thumbnail?i.sizes.thumbnail.url:i.url,t.$emit("pictureSelected",t.pictureFullPath,t.pictureThumbPath)})}),e.open())}},computed:{getPictureSrc:function(){return null!==this.editedEntity&&!this.pictureThumbPath&&this.editedEntity.pictureThumbPath?this.editedEntity.pictureThumbPath:this.pictureThumbPath&&"gallery"!==this.entityName?this.pictureThumbPath:this.$root.getUrl+"public/img/default-"+this.entityName+".svg"}}}},796:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"am-profile-photo",on:{click:e.openMediaModal}},[i("i",{class:{"el-icon-plus":"gallery"===e.entityName,"el-icon-picture":"gallery"!==e.entityName}}),e._v(" "),"gallery"===e.entityName?i("span",[e._v(e._s(e.$root.labels.add_image))]):e._e(),e._v(" "),"gallery"!==e.entityName?i("img",{attrs:{src:e.getPictureSrc,alt:""}}):e._e()])},staticRenderFns:[]}},832:function(e,t,i){var n,a;!function(o){"use strict";void 0===(a="function"==typeof(n=o)?n.call(t,i,t,e):n)||(e.exports=a)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,i,n,a,o,s,r,l,c,u,d,p,m,g,v,f,h,b,y,_,x,C,w,k,S,$,T,E=[],P=!1,D=!1,O=!1,N=[],A=!1,L=!1,I=[],F=/\s+/g,R="Sortable"+(new Date).getTime(),M=window,B=M.document,j=M.parseInt,U=M.setTimeout,q=M.jQuery||M.Zepto,V=M.Polymer,z={capture:!1,passive:!1},H=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),J=!!navigator.userAgent.match(/Edge/i),G=!!navigator.userAgent.match(/firefox/i),K=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),W=!!navigator.userAgent.match(/iP(ad|od|hone)/i),Y=J||H?"cssFloat":"float",X="draggable"in B.createElement("div"),Z=function(){if(H)return!1;var e=B.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),Q=!1,ee=!1,te=Math.abs,ie=Math.min,ne=Math.max,ae=[],oe=function(e,t){var i=we(e),n=j(i.width)-j(i.paddingLeft)-j(i.paddingRight)-j(i.borderLeftWidth)-j(i.borderRightWidth),a=De(e,0,t),o=De(e,1,t),s=a&&we(a),r=o&&we(o),l=s&&j(s.marginLeft)+j(s.marginRight)+Ue(a).width,c=r&&j(r.marginLeft)+j(r.marginRight)+Ue(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==r.clear&&r.clear!==u?"horizontal":"vertical"}return a&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=n&&"none"===i[Y]||o&&"none"===i[Y]&&l+c>n)?"vertical":"horizontal"},se=function(e,t){if(!e||!e.getBoundingClientRect)return re();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var a=we(i);if(i.clientWidth<i.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!i||!i.getBoundingClientRect||i===B.body)return re();if(n||t)return i;n=!0}}}while(i=i.parentNode);return re()},re=function(){return H?B.documentElement:B.scrollingElement},le=function(e,t,i){e.scrollLeft+=t,e.scrollTop+=i},ce=Fe(function(e,t,i,n){if(t.scroll){var a=i?i[R]:window,o=t.scrollSensitivity,s=t.scrollSpeed,u=e.clientX,d=e.clientY,p=re(),m=!1;l!==i&&(ue(),r=t.scroll,c=t.scrollFn,!0===r&&(r=se(i,!0),l=r));var g=0,v=r;do{var f,h,b,y,x,C,w,k,S,$=v,T=Ue($),D=T.top,O=T.bottom,N=T.left,A=T.right,L=T.width,I=T.height;if(f=$.scrollWidth,h=$.scrollHeight,b=we($),k=$.scrollLeft,S=$.scrollTop,$===p?(C=L<f&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),w=I<h&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(C=L<f&&("auto"===b.overflowX||"scroll"===b.overflowX),w=I<h&&("auto"===b.overflowY||"scroll"===b.overflowY)),y=C&&(te(A-u)<=o&&k+L<f)-(te(N-u)<=o&&!!k),x=w&&(te(O-d)<=o&&S+I<h)-(te(D-d)<=o&&!!S),!E[g])for(var F=0;F<=g;F++)E[F]||(E[F]={});E[g].vx==y&&E[g].vy==x&&E[g].el===$||(E[g].el=$,E[g].vx=y,E[g].vy=x,clearInterval(E[g].pid),!$||0==y&&0==x||(m=!0,E[g].pid=setInterval(function(){n&&0===this.layer&&(he.active._emulateDragOver(!0),he.active._onTouchMove(_,!0));var t=E[this.layer].vy?E[this.layer].vy*s:0,i=E[this.layer].vx?E[this.layer].vx*s:0;"function"==typeof c&&"continue"!==c.call(a,i,t,e,_,E[this.layer].el)||le(E[this.layer].el,i,t)}.bind({layer:g}),24))),g++}while(t.bubbleScroll&&v!==p&&(v=se(v,!1)));P=m}},30),ue=function(){E.forEach(function(e){clearInterval(e.pid)}),E=[]},de=function(e){function t(e,i){return function(n,a,o,s){var r=n.options.group.name&&a.options.group.name&&n.options.group.name===a.options.group.name;if(null==e&&(i||r))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,a,o,s),i)(n,a,o,s);var l=(i?n:a).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},pe=function(t){e&&e.parentNode&&e.parentNode[R]&&e.parentNode[R]._computeIsAligned(t)},me=function(){!Z&&i&&we(i,"display","none")},ge=function(){!Z&&i&&we(i,"display","")};B.addEventListener("click",function(e){if(O)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),O=!1,!1},!0);var ve,fe=function(t){if(e){var i=function(e,t){for(var i=0;i<N.length;i++)if(!Oe(N[i])){var n=Ue(N[i]),a=N[i][R].options.emptyInsertThreshold,o=e>=n.left-a&&e<=n.right+a,s=t>=n.top-a&&t<=n.bottom+a;if(a&&o&&s)return N[i]}}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(i){var n={};for(var a in t)n[a]=t[a];n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[R]._onDragOver(n)}}};function he(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Re({},t),e[R]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return oe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:j(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==he.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in i)!(n in t)&&(t[n]=i[n]);for(var a in de(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&X,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?_e(e,"pointerdown",this._onTapStart):(_e(e,"mousedown",this._onTapStart),_e(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_e(e,"dragover",this),_e(e,"dragenter",this)),N.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function be(e,t,i,n){if(e){i=i||B;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&Ie(e,t):Ie(e,t))||n&&e===i)return e;if(e===i)break}while(e=ye(e))}return null}function ye(e){return e.host&&e!==B&&e.host.nodeType?e.host:e.parentNode}function _e(e,t,i){e.addEventListener(t,i,!H&&z)}function xe(e,t,i){e.removeEventListener(t,i,!H&&z)}function Ce(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(F," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(F," ")}}function we(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return B.defaultView&&B.defaultView.getComputedStyle?i=B.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function ke(e){var t="";do{var i=we(e,"transform");i&&"none"!==i&&(t=i+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function Se(e,t,i){if(e){var n=e.getElementsByTagName(t),a=0,o=n.length;if(i)for(;a<o;a++)i(n[a],a);return n}return[]}function $e(e,t,i,a,o,s,r,l,c,u,d){var p,m=(e=e||t[R]).options,g="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||H||J?(p=B.createEvent("Event")).initEvent(i,!0,!0):p=new CustomEvent(i,{bubbles:!0,cancelable:!0}),p.to=o||t,p.from=s||t,p.item=a||t,p.clone=n,p.oldIndex=r,p.newIndex=l,p.oldDraggableIndex=c,p.newDraggableIndex=u,p.originalEvent=d,p.pullMode=v?v.lastPutMode:void 0,t&&t.dispatchEvent(p),m[g]&&m[g].call(e,p)}function Te(e,t,i,n,a,o,s,r){var l,c,u=e[R],d=u.options.onMove;return!window.CustomEvent||H||J?(l=B.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=a||t,l.relatedRect=o||Ue(t),l.willInsertAfter=r,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function Ee(e){e.draggable=!1}function Pe(){Q=!1}function De(t,n,a){for(var o=0,s=0,r=t.children;s<r.length;){if("none"!==r[s].style.display&&r[s]!==i&&r[s]!==e&&be(r[s],a.draggable,t,!1)){if(o===n)return r[s];o++}s++}return null}function Oe(e){for(var t=e.lastElementChild;t&&(t===i||"none"===we(t,"display"));)t=t.previousElementSibling;return t||null}function Ne(t){return Le(e)<Le(t)?1:-1}function Ae(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Le(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||e===n||t&&!Ie(e,t)||i++;return i}function Ie(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Fe(e,t){return function(){if(!ve){var i=arguments,n=this;ve=U(function(){1===i.length?e.call(n,i[0]):e.apply(n,i),ve=void 0},t)}}}function Re(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function Me(e){return V&&V.dom?V.dom(e).cloneNode(!0):q?q(e).clone(!0)[0]:e.cloneNode(!0)}function Be(e){return U(e,0)}function je(e){return clearTimeout(e)}function Ue(e,t,i,n){if(e.getBoundingClientRect||e===M){var a,o,s,r,l,c,u;if(e!==M&&e!==re()?(o=(a=e.getBoundingClientRect()).top,s=a.left,r=a.bottom,l=a.right,c=a.height,u=a.width):(o=0,s=0,r=window.innerHeight,l=window.innerWidth,c=window.innerHeight,u=window.innerWidth),n&&e!==M&&(i=i||e.parentNode,!H))do{if(i&&i.getBoundingClientRect&&"none"!==we(i,"transform")){var d=i.getBoundingClientRect();o-=d.top+j(we(i,"border-top-width")),s-=d.left+j(we(i,"border-left-width")),r=o+a.height,l=s+a.width;break}}while(i=i.parentNode);if(t&&e!==M){var p=ke(i||e),m=p&&p.a,g=p&&p.d;p&&(r=(o/=g)+(c/=g),l=(s/=m)+(u/=m))}return{top:o,left:s,bottom:r,right:l,width:u,height:c}}}function qe(e,t){for(var i=se(e,!0),n=Ue(e)[t];i;){var a=Ue(i)[t];if(!("top"===t||"left"===t?n>=a:n<=a))return i;if(i===re())break;i=se(i,!1)}return!1}function Ve(e){var t=0,i=0,n=re();if(e)do{var a=ke(e),o=a.a,s=a.d;t+=e.scrollLeft*o,i+=e.scrollTop*s}while(e!==n&&(e=e.parentNode));return[t,i]}return he.prototype={constructor:he,_computeIsAligned:function(t){var n;if(i&&!Z?(me(),n=B.elementFromPoint(t.clientX,t.clientY),ge()):n=t.target,n=be(n,this.options.draggable,this.el,!1),!ee&&e&&e.parentNode===this.el){for(var a,o,s,r,l,c,u,d,p=this.el.children,m=0;m<p.length;m++)be(p[m],this.options.draggable,this.el,!1)&&p[m]!==n&&(p[m].sortableMouseAligned=(a=t.clientX,o=t.clientY,s=p[m],r=this._getDirection(t,null),this.options,void 0,void 0,void 0,void 0,l=Ue(s),c="vertical"===r?l.left:l.top,u="vertical"===r?l.right:l.bottom,c<(d="vertical"===r?a:o)&&d<u));be(n,this.options.draggable,this.el,!0)||(C=null),ee=!0,U(function(){ee=!1},30)}},_getDirection:function(t,i){return"function"==typeof this.options.direction?this.options.direction.call(this,t,i,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i,n,a=this,o=this.el,r=this.options,l=r.preventOnFilter,c=t.type,u=t.touches&&t.touches[0],d=(u||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,m=r.filter;if(function(e){ae.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&ae.push(n)}}(o),!e&&!(/mousedown|pointerdown/.test(c)&&0!==t.button||r.disabled||p.isContentEditable||(d=be(d,r.draggable,o,!1),s===d))){if(i=Le(d),n=Le(d,r.draggable),"function"==typeof m){if(m.call(this,t,d,this))return $e(a,p,"filter",d,o,o,i,void 0,n),void(l&&t.cancelable&&t.preventDefault())}else if(m&&(m=m.split(",").some(function(e){if(e=be(p,e.trim(),o,!1))return $e(a,e,"filter",d,o,o,i,void 0,n),!0})))return void(l&&t.cancelable&&t.preventDefault());r.handle&&!be(p,r.handle,o,!1)||this._prepareDragStart(t,u,d,i,n)}}},_handleAutoScroll:function(t,i){if(e&&this.options.scroll){var n=t.clientX,a=t.clientY,o=B.elementFromPoint(n,a),s=this;if(i||J||H||K){ce(t,s.options,o,i);var r=se(o,!0);!P||f&&n===h&&a===b||(f&&clearInterval(f),f=setInterval(function(){if(e){var o=se(B.elementFromPoint(n,a),!0);o!==r&&(r=o,ue(),ce(t,s.options,r,i))}},10),h=n,b=a)}else{if(!s.options.bubbleScroll||se(o,!0)===re())return void ue();ce(t,s.options,se(o,!1),!1)}}},_prepareDragStart:function(i,n,r,l,c){var d,m=this,v=m.el,f=m.options,h=v.ownerDocument;r&&!e&&r.parentNode===v&&(a=v,t=(e=r).parentNode,o=e.nextSibling,s=r,g=f.group,u=l,p=c,y={target:e,clientX:(n||i).clientX,clientY:(n||i).clientY},this._lastX=(n||i).clientX,this._lastY=(n||i).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",d=function(){m._disableDelayedDragEvents(),!G&&m.nativeDraggable&&(e.draggable=!0),m._triggerDragStart(i,n),$e(m,a,"choose",e,a,a,u,void 0,p),Ce(e,f.chosenClass,!0)},f.ignore.split(",").forEach(function(t){Se(e,t.trim(),Ee)}),_e(h,"dragover",fe),_e(h,"mousemove",fe),_e(h,"touchmove",fe),_e(h,"mouseup",m._onDrop),_e(h,"touchend",m._onDrop),_e(h,"touchcancel",m._onDrop),G&&this.nativeDraggable&&(this.options.touchStartThreshold=4,e.draggable=!0),!f.delay||f.delayOnTouchOnly&&!n||this.nativeDraggable&&(J||H)?d():(_e(h,"mouseup",m._disableDelayedDrag),_e(h,"touchend",m._disableDelayedDrag),_e(h,"touchcancel",m._disableDelayedDrag),_e(h,"mousemove",m._delayedDragTouchMoveHandler),_e(h,"touchmove",m._delayedDragTouchMoveHandler),f.supportPointer&&_e(h,"pointermove",m._delayedDragTouchMoveHandler),m._dragStartTimer=U(d,f.delay)))},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;ne(te(t.clientX-this._lastX),te(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){e&&Ee(e),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;xe(e,"mouseup",this._disableDelayedDrag),xe(e,"touchend",this._disableDelayedDrag),xe(e,"touchcancel",this._disableDelayedDrag),xe(e,"mousemove",this._delayedDragTouchMoveHandler),xe(e,"touchmove",this._delayedDragTouchMoveHandler),xe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||("touch"==t.pointerType?t:null),!this.nativeDraggable||i?this.options.supportPointer?_e(B,"pointermove",this._onTouchMove):_e(B,i?"touchmove":"mousemove",this._onTouchMove):(_e(e,"dragend",this),_e(a,"dragstart",this._onDragStart));try{B.selection?Be(function(){B.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t,i){if(D=!1,a&&e){this.nativeDraggable&&(_e(B,"dragover",this._handleAutoScroll),_e(B,"dragover",pe));var n=this.options;!t&&Ce(e,n.dragClass,!1),Ce(e,n.ghostClass,!0),we(e,"transform",""),he.active=this,t&&this._appendGhost(),$e(this,a,"start",e,a,a,u,void 0,p,void 0,i)}else this._nulling()},_emulateDragOver:function(t){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY&&!t)return;this._lastX=_.clientX,this._lastY=_.clientY,me();for(var i=B.elementFromPoint(_.clientX,_.clientY),n=i;i&&i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(_.clientX,_.clientY))!==n;)n=i;if(n)do{if(n[R])if(n[R]._onDragOver({clientX:_.clientX,clientY:_.clientY,target:i,rootEl:n})&&!this.options.dragoverBubble)break;i=n}while(n=n.parentNode);e.parentNode[R]._computeIsAligned(_),ge()}},_onTouchMove:function(e,t){if(y){var n=this.options,a=n.fallbackTolerance,o=n.fallbackOffset,s=e.touches?e.touches[0]:e,r=i&&ke(i),l=i&&r&&r.a,c=i&&r&&r.d,u=W&&$&&Ve($),d=(s.clientX-y.clientX+o.x)/(l||1)+(u?u[0]-I[0]:0)/(l||1),p=(s.clientY-y.clientY+o.y)/(c||1)+(u?u[1]-I[1]:0)/(c||1),m=e.touches?"translate3d("+d+"px,"+p+"px,0)":"translate("+d+"px,"+p+"px)";if(!he.active&&!D){if(a&&ie(te(s.clientX-this._lastX),te(s.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}!t&&this._handleAutoScroll(s,!0),x=!0,_=s,we(i,"webkitTransform",m),we(i,"mozTransform",m),we(i,"msTransform",m),we(i,"transform",m),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!i){var t=this.options.fallbackOnBody?B.body:a,n=Ue(e,!0,t,!W),o=(we(e),this.options);if(W){for($=t;"static"===we($,"position")&&"none"===we($,"transform")&&$!==B;)$=$.parentNode;if($!==B){var s=Ue($,!0);n.top-=s.top,n.left-=s.left}$!==B.body&&$!==B.documentElement?($===B&&($=re()),n.top+=$.scrollTop,n.left+=$.scrollLeft):$=re(),I=Ve($)}Ce(i=e.cloneNode(!0),o.ghostClass,!1),Ce(i,o.fallbackClass,!0),Ce(i,o.dragClass,!0),we(i,"box-sizing","border-box"),we(i,"margin",0),we(i,"top",n.top),we(i,"left",n.left),we(i,"width",n.width),we(i,"height",n.height),we(i,"opacity","0.8"),we(i,"position",W?"absolute":"fixed"),we(i,"zIndex","100000"),we(i,"pointerEvents","none"),t.appendChild(i)}},_onDragStart:function(t,i){var o=this,s=t.dataTransfer,r=o.options;(n=Me(e)).draggable=!1,n.style["will-change"]="",this._hideClone(),Ce(n,o.options.chosenClass,!1),o._cloneId=Be(function(){o.options.removeCloneOnHide||a.insertBefore(n,e),$e(o,a,"clone",e)}),!i&&Ce(e,r.dragClass,!0),i?(O=!0,o._loopId=setInterval(o._emulateDragOver,50)):(xe(B,"mouseup",o._onDrop),xe(B,"touchend",o._onDrop),xe(B,"touchcancel",o._onDrop),s&&(s.effectAllowed="move",r.setData&&r.setData.call(o,s,e)),_e(B,"drop",o),we(e,"transform","translateZ(0)")),D=!0,o._dragStartId=Be(o._dragStarted.bind(o,i,t)),_e(B,"selectstart",o),K&&we(B.body,"user-select","none")},_onDragOver:function(i){var n,s,r,l=this.el,c=i.target,d=this.options,m=d.group,f=he.active,h=g===m,b=d.sort,y=this;if(!Q){if(void 0!==i.preventDefault&&i.cancelable&&i.preventDefault(),x=!0,c=be(c,d.draggable,l,!0),e.contains(i.target)||c.animated)return z(!1);if(c!==e&&(O=!1),f&&!d.disabled&&(h?b||(r=!a.contains(e)):v===this||(this.lastPutMode=g.checkPull(this,f,e,i))&&m.checkPut(this,f,e,i))){var _=this._getDirection(i,c);if(n=Ue(e),r)return this._hideClone(),t=a,o?a.insertBefore(e,o):a.appendChild(e),z(!0);var $=Oe(l);if(!$||function(e,t,i){var n=Ue(Oe(i)),a="vertical"===t?e.clientY:e.clientX,o="vertical"===t?e.clientX:e.clientY,s="vertical"===t?n.bottom:n.right,r="vertical"===t?n.left:n.top,l="vertical"===t?n.right:n.bottom;return"vertical"===t?o>l+10||o<=l&&a>s&&o>=r:a>s&&o>r||a<=s&&o>l+10}(i,_,l)&&!$.animated){if($&&l===i.target&&(c=$),c&&(s=Ue(c)),h?f._hideClone():f._showClone(this),!1!==Te(a,l,e,n,c,s,i,!!c))return l.appendChild(e),t=l,T=null,H(),z(!0)}else if(c&&c!==e&&c.parentNode===l){var E,P=0,D=c.sortableMouseAligned,N=e.parentNode!==l,I="vertical"===_?"top":"left",F=qe(c,"top")||qe(e,"top"),M=F?F.scrollTop:void 0;if(C!==c&&(k=null,E=Ue(c)[I],A=!1),function(t,i,n){var a=t===e&&T||Ue(t),o=i===e&&T||Ue(i),s="vertical"===n?a.left:a.top,r="vertical"===n?a.right:a.bottom,l="vertical"===n?a.width:a.height,c="vertical"===n?o.left:o.top,u="vertical"===n?o.right:o.bottom,d="vertical"===n?o.width:o.height;return s===c||r===u||s+l/2===c+d/2}(e,c,_)&&D||N||F||d.invertSwap||"insert"===k||"swap"===k?("swap"!==k&&(L=d.invertSwap||N),P=function(t,i,n,a,o,s,r){var l=Ue(i),c="vertical"===n?t.clientY:t.clientX,u="vertical"===n?l.height:l.width,d="vertical"===n?l.top:l.left,p="vertical"===n?l.bottom:l.right,m=Ue(e),g=!1;if(!s)if(r&&S<u*a)if(!A&&(1===w?c>d+u*o/2:c<p-u*o/2)&&(A=!0),A)g=!0;else{"vertical"===n?m.top:m.left,"vertical"===n?m.bottom:m.right;if(1===w?c<d+S:c>p-S)return-1*w}else if(c>d+u*(1-a)/2&&c<p-u*(1-a)/2)return Ne(i);if((g=g||s)&&(c<d+u*o/2||c>p-u*o/2))return c>d+u/2?1:-1;return 0}(i,c,_,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,L,C===c),k="swap"):(P=Ne(c),k="insert"),0===P)return z(!1);T=null,C=c,w=P,s=Ue(c);var j=c.nextElementSibling,q=!1,V=Te(a,l,e,n,c,s,i,q=1===P);if(!1!==V)return 1!==V&&-1!==V||(q=1===V),Q=!0,U(Pe,30),h?f._hideClone():f._showClone(this),q&&!j?l.appendChild(e):c.parentNode.insertBefore(e,q?j:c),F&&le(F,0,M-F.scrollTop),t=e.parentNode,void 0===E||L||(S=te(E-Ue(c)[I])),H(),z(!0)}if(l.contains(e))return z(!1)}return!1}function z(t){return t&&(h?f._hideClone():f._showClone(y),f&&(Ce(e,v?v.options.ghostClass:f.options.ghostClass,!1),Ce(e,d.ghostClass,!0)),v!==y&&y!==he.active?v=y:y===he.active&&(v=null),n&&y._animate(n,e),c&&s&&y._animate(s,c)),(c===e&&!e.animated||c===l&&!c.animated)&&(C=null),d.dragoverBubble||i.rootEl||c===B||(y._handleAutoScroll(i),e.parentNode[R]._computeIsAligned(i),!t&&fe(i)),!d.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),!0}function H(){$e(y,a,"change",c,l,a,u,Le(e),p,Le(e,d.draggable),i)}},_animate:function(t,i){var n=this.options.animation;if(n){var a=Ue(i);if(i===e&&(T=a),1===t.nodeType&&(t=Ue(t)),t.left+t.width/2!==a.left+a.width/2||t.top+t.height/2!==a.top+a.height/2){var o=ke(this.el),s=o&&o.a,r=o&&o.d;we(i,"transition","none"),we(i,"transform","translate3d("+(t.left-a.left)/(s||1)+"px,"+(t.top-a.top)/(r||1)+"px,0)"),this._repaint(i),we(i,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),we(i,"transform","translate3d(0,0,0)")}"number"==typeof i.animated&&clearTimeout(i.animated),i.animated=U(function(){we(i,"transition",""),we(i,"transform",""),i.animated=!1},n)}},_repaint:function(e){return e.offsetWidth},_offMoveEvents:function(){xe(B,"touchmove",this._onTouchMove),xe(B,"pointermove",this._onTouchMove),xe(B,"dragover",fe),xe(B,"mousemove",fe),xe(B,"touchmove",fe)},_offUpEvents:function(){var e=this.el.ownerDocument;xe(e,"mouseup",this._onDrop),xe(e,"touchend",this._onDrop),xe(e,"pointerup",this._onDrop),xe(e,"touchcancel",this._onDrop),xe(B,"selectstart",this)},_onDrop:function(s){var r=this.el,l=this.options;D=!1,P=!1,L=!1,A=!1,clearInterval(this._loopId),clearInterval(f),ue(),clearTimeout(ve),ve=void 0,clearTimeout(this._dragStartTimer),je(this._cloneId),je(this._dragStartId),xe(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(xe(B,"drop",this),xe(r,"dragstart",this._onDragStart),xe(B,"dragover",this._handleAutoScroll),xe(B,"dragover",pe)),K&&we(B.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),s&&(x&&(s.cancelable&&s.preventDefault(),!l.dropBubble&&s.stopPropagation()),i&&i.parentNode&&i.parentNode.removeChild(i),(a===t||v&&"clone"!==v.lastPutMode)&&n&&n.parentNode&&n.parentNode.removeChild(n),e&&(this.nativeDraggable&&xe(e,"dragend",this),Ee(e),e.style["will-change"]="",Ce(e,v?v.options.ghostClass:this.options.ghostClass,!1),Ce(e,this.options.chosenClass,!1),$e(this,a,"unchoose",e,t,a,u,null,p,null,s),a!==t?(d=Le(e),m=Le(e,l.draggable),d>=0&&($e(null,t,"add",e,t,a,u,d,p,m,s),$e(this,a,"remove",e,t,a,u,d,p,m,s),$e(null,t,"sort",e,t,a,u,d,p,m,s),$e(this,a,"sort",e,t,a,u,d,p,m,s)),v&&v.save()):e.nextSibling!==o&&(d=Le(e),m=Le(e,l.draggable),d>=0&&($e(this,a,"update",e,t,a,u,d,p,m,s),$e(this,a,"sort",e,t,a,u,d,p,m,s))),he.active&&(null!=d&&-1!==d||(d=u,m=p),$e(this,a,"end",e,t,a,u,d,p,m,s),this.save()))),this._nulling()},_nulling:function(){a=e=t=i=o=n=s=r=l=E.length=f=h=b=y=_=x=d=u=C=w=T=v=g=he.active=null,ae.forEach(function(e){e.checked=!0}),ae.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,a=i.length,o=this.options;n<a;n++)be(e=i[n],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Ae(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var a=i.children[n];be(a,this.options.draggable,i,!1)&&(t[e]=a)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return be(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];i[e]=t,"group"===e&&de(i)},destroy:function(){var e=this.el;e[R]=null,xe(e,"mousedown",this._onTapStart),xe(e,"touchstart",this._onTapStart),xe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(xe(e,"dragover",this),xe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),N.splice(N.indexOf(this.el),1),this.el=e=null},_hideClone:function(){n.cloneHidden||(we(n,"display","none"),n.cloneHidden=!0,n.parentNode&&this.options.removeCloneOnHide&&n.parentNode.removeChild(n))},_showClone:function(t){"clone"===t.lastPutMode?n.cloneHidden&&(a.contains(e)&&!this.options.group.revertClone?a.insertBefore(n,e):o?a.insertBefore(n,o):a.appendChild(n),this.options.group.revertClone&&this._animate(e,n),we(n,"display",""),n.cloneHidden=!1):this._hideClone()}},_e(B,"touchmove",function(e){(he.active||D)&&e.cancelable&&e.preventDefault()}),he.utils={on:_e,off:xe,css:we,find:Se,is:function(e,t){return!!be(e,t,e,!1)},extend:Re,throttle:Fe,closest:be,toggleClass:Ce,clone:Me,index:Le,nextTick:Be,cancelNextTick:je,detectDirection:oe,getChild:De},he.create=function(e,t){return new he(e,t)},he.version="1.9.0",he})},881:function(e,t,i){var n=i(685)(i(896),i(897),!1,null,null,null);e.exports=n.exports},882:function(e,t,i){var n=i(685)(i(898),i(899),!1,null,null,null);e.exports=n.exports},896:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{zoomSettings:null,paymentsSettings:null,generalSettings:null,settings:null,providers:null},data:function(){var e=this;return{products:[],searchCounter:0,loadingProducts:!1,integrationsSettingsCollapse:null,paymentsSettingsCollapse:null,generalSettingsCollapse:null,rules:{redirectURLAfter:[{validator:function(t,i,n){e.clearValidation();var a=e.$refs.settings.model.redirectUrlAfterAppointment;""===a||/^((http|https):\/\/)/.test(a)?n():n(new Error(e.$root.labels.enter_valid_url_warning))},trigger:"submit"}]},errors:{redirectURLAfter:""},options:{defaultAppointmentStatus:[{label:this.$root.labels.pending,value:"pending"},{label:this.$root.labels.approved,value:"approved"}],minimumTime:[{label:this.$root.labels.disabled,value:0},{label:this.$root.labels.min10,value:600},{label:this.$root.labels.min12,value:720},{label:this.$root.labels.min15,value:900},{label:this.$root.labels.min30,value:1800},{label:this.$root.labels.min45,value:2700},{label:this.$root.labels.h1,value:3600},{label:this.$root.labels.h1min30,value:5400},{label:this.$root.labels.h2,value:7200},{label:this.$root.labels.h3,value:10800},{label:this.$root.labels.h4,value:14400},{label:this.$root.labels.h6,value:21600},{label:this.$root.labels.h8,value:28800},{label:this.$root.labels.h9,value:32400},{label:this.$root.labels.h10,value:36e3},{label:this.$root.labels.h11,value:39600},{label:this.$root.labels.h12,value:43200},{label:this.$root.labels.day1,value:86400},{label:this.$root.labels.days2,value:172800},{label:this.$root.labels.days3,value:259200},{label:this.$root.labels.days4,value:345600},{label:this.$root.labels.days5,value:432e3},{label:this.$root.labels.days6,value:518400},{label:this.$root.labels.week1,value:604800},{label:this.$root.labels.weeks2,value:1209600},{label:this.$root.labels.weeks3,value:1814400},{label:this.$root.labels.weeks4,value:2419200},{label:this.$root.labels.months3,value:7884e3},{label:this.$root.labels.months6,value:15768e3}]}}},mounted:function(){if(this.setProducts(),null!==this.generalSettings&&"numberOfDaysAvailableForBooking"in this.generalSettings&&!this.generalSettings.numberOfDaysAvailableForBooking)for(var e=document.getElementsByClassName("am-number-of-days"),t=0;t<e.length;t++)e[t].getElementsByClassName("el-input__inner")[0].value=""},computed:{isZoomProvidersConnected:function(){return null!==this.providers&&(!this.providers.map(function(e){return e.zoomUserId}).includes(null)&&0!==this.providers.length)}},methods:{setProducts:function(){var e=this;this.$root.settings.payments.wc.enabled&&(this.$root.settings.payments.wc.enabled&&this.paymentsSettings.wc.productId&&0===this.$root.wcProducts.filter(function(t){return t.id===e.paymentsSettings.wc.productId}).length&&this.fetchProducts({id:this.paymentsSettings.wc.productId},function(t){t.length&&e.products.push(t[0])}),this.products=this.$root.wcProducts)},selectedProduct:function(e){if(0===this.$root.wcProducts.filter(function(t){return t.id===e}).length){var t=this.products.find(function(t){return t.id===e});t&&this.$root.wcProducts.push(t)}},fetchProducts:function(e,t){var i=this;clearTimeout(this.searchProductsTimer),this.loadingProducts=!0,this.searchCounter++,this.searchProductsTimer=setTimeout(function(){var n=i.searchCounter;i.$http.get(i.$root.getAjaxUrl+"/payment/wc/products",{params:e}).then(function(e){n>=i.searchCounter&&t(e.data.data.products.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})),i.loadingProducts=!1}).catch(function(e){i.loadingProducts=!1})},500)},searchProducts:function(e){var t=this;e?this.fetchProducts({name:e},function(e){t.products=e}):this.products=this.$root.wcProducts},clearValidation:function(){}}}},897:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"am-entity-settings"},[null!==e.generalSettings?i("el-collapse",{model:{value:e.generalSettingsCollapse,callback:function(t){e.generalSettingsCollapse=t},expression:"generalSettingsCollapse"}},[i("el-collapse-item",{staticClass:"am-setting-box",attrs:{name:"generalSettings"}},[i("template",{slot:"title"},[i("img",{staticClass:"svg",staticStyle:{"margin-right":"10px"},attrs:{src:e.$root.getUrl+"public/img/setting.svg"}}),e._v(" "+e._s(e.$root.labels.general)+"\n      ")]),e._v(" "),null!==e.generalSettings&&"defaultAppointmentStatus"in e.generalSettings?i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.$root.labels.default_appointment_status)+":\n          "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.default_appointment_status)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{clearable:"",placeholder:e.options.defaultAppointmentStatus.find(function(t){return t.value===e.$root.settings.general.defaultAppointmentStatus}).label},model:{value:e.generalSettings.defaultAppointmentStatus,callback:function(t){e.$set(e.generalSettings,"defaultAppointmentStatus",t)},expression:"generalSettings.defaultAppointmentStatus"}},e._l(e.options.defaultAppointmentStatus,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),null!==e.generalSettings&&"minimumTimeRequirementPriorToBooking"in e.generalSettings?i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.$root.labels.minimum_time_before_booking)+":\n          "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.minimum_time_before_booking_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{clearable:"","collapse-tags":"",placeholder:"Select",placeholder:e.options.minimumTime.find(function(t){return t.value===e.$root.settings.general.minimumTimeRequirementPriorToBooking}).label},model:{value:e.generalSettings.minimumTimeRequirementPriorToBooking,callback:function(t){e.$set(e.generalSettings,"minimumTimeRequirementPriorToBooking",t)},expression:"generalSettings.minimumTimeRequirementPriorToBooking"}},e._l(e.options.minimumTime,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),null!==e.generalSettings&&"minimumTimeRequirementPriorToCanceling"in e.generalSettings?i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.$root.labels.minimum_time_before_canceling)+":\n          "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.minimum_time_before_canceling_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{clearable:"",placeholder:e.options.minimumTime.find(function(t){return t.value===e.$root.settings.general.minimumTimeRequirementPriorToCanceling}).label},model:{value:e.generalSettings.minimumTimeRequirementPriorToCanceling,callback:function(t){e.$set(e.generalSettings,"minimumTimeRequirementPriorToCanceling",t)},expression:"generalSettings.minimumTimeRequirementPriorToCanceling"}},e._l(e.options.minimumTime,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),null!==e.generalSettings&&"minimumTimeRequirementPriorToRescheduling"in e.generalSettings?i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.$root.labels.minimum_time_before_rescheduling)+":\n          "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.minimum_time_before_rescheduling_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{clearable:"",placeholder:e.options.minimumTime.find(function(t){return t.value===e.$root.settings.general.minimumTimeRequirementPriorToRescheduling}).label},model:{value:e.generalSettings.minimumTimeRequirementPriorToRescheduling,callback:function(t){e.$set(e.generalSettings,"minimumTimeRequirementPriorToRescheduling",t)},expression:"generalSettings.minimumTimeRequirementPriorToRescheduling"}},e._l(e.options.minimumTime,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),null!==e.generalSettings&&"numberOfDaysAvailableForBooking"in e.generalSettings?i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.$root.labels.period_available_for_booking)+":\n          "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.period_available_for_booking_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input-number",{staticClass:"am-number-of-days",attrs:{min:0,placeholder:e.$root.settings.general.numberOfDaysAvailableForBooking.toString()},model:{value:e.generalSettings.numberOfDaysAvailableForBooking,callback:function(t){e.$set(e.generalSettings,"numberOfDaysAvailableForBooking",t)},expression:"generalSettings.numberOfDaysAvailableForBooking"}})],1):e._e(),e._v(" "),null!==e.generalSettings&&"redirectUrlAfterAppointment"in e.generalSettings?i("el-form-item",{attrs:{label:"placeholder",prop:"redirectURLAfter",error:e.errors.redirectURLAfter}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.$root.labels.redirect_url_after_appointment)+":\n          "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.redirect_url_after_appointment_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-input",{attrs:{"auto-complete":"off",placeholder:e.$root.settings.general.redirectUrlAfterAppointment.toString()},on:{input:function(t){return e.clearValidation()}},model:{value:e.generalSettings.redirectUrlAfterAppointment,callback:function(t){e.$set(e.generalSettings,"redirectUrlAfterAppointment",t)},expression:"generalSettings.redirectUrlAfterAppointment"}})],1):e._e()],2)],1):e._e(),e._v(" "),null!==e.paymentsSettings?i("el-collapse",{staticClass:"am-entity-settings-payments",model:{value:e.paymentsSettingsCollapse,callback:function(t){e.paymentsSettingsCollapse=t},expression:"paymentsSettingsCollapse"}},[i("el-collapse-item",{staticClass:"am-setting-box",attrs:{name:"paymentsSettings"}},[i("template",{slot:"title"},[i("img",{staticClass:"svg",staticStyle:{"margin-right":"10px"},attrs:{src:e.$root.getUrl+"public/img/credit-card.svg"}}),e._v(" "+e._s(e.$root.labels.payments)+"\n      ")]),e._v(" "),e.$root.settings.payments.onSite?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:16}},[e._v("\n            "+e._s(e.$root.labels.on_site)+"\n          ")]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:8}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.paymentsSettings.onSite,callback:function(t){e.$set(e.paymentsSettings,"onSite",t)},expression:"paymentsSettings.onSite"}})],1)],1)],1):e._e(),e._v(" "),e.$root.settings.payments.wc.enabled?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"placeholder"}},[i("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n            "+e._s(e.$root.labels.wc_product)+":\n            "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.wc_product_tooltip)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-question am-tooltip-icon"})])],1),e._v(" "),i("el-select",{attrs:{filterable:"",remote:"","remote-method":e.searchProducts,loading:e.loadingProducts,placeholder:""},on:{change:e.selectedProduct},model:{value:e.paymentsSettings.wc.productId,callback:function(t){e.$set(e.paymentsSettings.wc,"productId",t)},expression:"paymentsSettings.wc.productId"}},e._l(e.products,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1):e._e(),e._v(" "),e.$root.settings.payments.payPal.enabled?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:16}},[i("img",{staticClass:"svg",attrs:{width:"60px",src:e.$root.getUrl+"public/img/payments/paypal-light.svg"}})]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:8}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.paymentsSettings.payPal.enabled,callback:function(t){e.$set(e.paymentsSettings.payPal,"enabled",t)},expression:"paymentsSettings.payPal.enabled"}})],1)],1)],1):e._e(),e._v(" "),e.$root.settings.payments.stripe.enabled?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:16}},[i("img",{staticClass:"svg",attrs:{width:"40px",src:e.$root.getUrl+"public/img/payments/stripe.svg"}})]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:8}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.paymentsSettings.stripe.enabled,callback:function(t){e.$set(e.paymentsSettings.stripe,"enabled",t)},expression:"paymentsSettings.stripe.enabled"}})],1)],1)],1):e._e(),e._v(" "),e.$root.settings.payments.mollie.enabled?i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:16}},[i("img",{staticClass:"svg",attrs:{width:"60px",src:e.$root.getUrl+"public/img/payments/mollie.svg"}})]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:8}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.paymentsSettings.mollie.enabled,callback:function(t){e.$set(e.paymentsSettings.mollie,"enabled",t)},expression:"paymentsSettings.mollie.enabled"}})],1)],1)],1):e._e(),e._v(" "),e.$root.settings.payments.wc.enabled||e.paymentsSettings.onSite&&(e.$root.settings.payments.onSite||!e.paymentsSettings.onSite)||e.paymentsSettings.payPal.enabled&&(e.$root.settings.payments.payPal.enabled||!e.paymentsSettings.payPal.enabled)||e.paymentsSettings.stripe.enabled&&(e.$root.settings.payments.stripe.enabled||!e.paymentsSettings.stripe.enabled)||e.paymentsSettings.mollie.enabled&&(e.$root.settings.payments.mollie.enabled||!e.paymentsSettings.mollie.enabled)?e._e():i("el-alert",{attrs:{type:"warning","show-icon":"",title:"",description:e.$root.labels.payment_warning,closable:!1}})],2)],1):e._e(),e._v(" "),e.zoomSettings?i("el-collapse",{model:{value:e.integrationsSettingsCollapse,callback:function(t){e.integrationsSettingsCollapse=t},expression:"integrationsSettingsCollapse"}},[i("el-collapse-item",{staticClass:"am-setting-box",attrs:{name:"integrationsSettings"}},[i("template",{slot:"title"},[i("img",{staticClass:"svg",staticStyle:{"margin-right":"10px"},attrs:{src:e.$root.getUrl+"public/img/web-hook.svg"}}),e._v(" "+e._s(e.$root.labels.integrations_settings)+"\n      ")]),e._v(" "),i("div",{staticClass:"am-setting-box am-switch-box"},[i("el-row",{attrs:{type:"flex",align:"middle",gutter:24}},[i("el-col",{attrs:{span:16}},[e._v("\n            "+e._s(e.$root.labels.zoom)+"\n          ")]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:8}},[i("el-switch",{attrs:{"active-text":"","inactive-text":""},model:{value:e.zoomSettings.enabled,callback:function(t){e.$set(e.zoomSettings,"enabled",t)},expression:"zoomSettings.enabled"}})],1)],1)],1),e._v(" "),e.zoomSettings.enabled&&!e.isZoomProvidersConnected?i("el-alert",{attrs:{type:"warning","show-icon":"",title:"",description:e.$root.labels.zoom_warning,closable:!1}}):e._e()],2)],1):e._e()],1)},staticRenderFns:[]}},898:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DialogTranslate",props:{passedTranslations:null,name:"",allLanguagesData:null,usedLanguages:null,type:{required:!1,default:"name",type:String},tab:"",cfOptions:{required:!1,default:function(){return[]},type:Array}},data:function(){return{translations:null,oldTranslations:null,newTranslations:[],settings:null,newLanguages:[],languageWidth:12,options:[],allLanguagesKeys:[]}},mounted:function(){var e=this;this.translations=this.passedTranslations?JSON.parse(this.passedTranslations):{},this.oldTranslations=this.translations[this.type]?this.translations[this.type]:{},(this.oldTranslations?this.usedLanguages.filter(function(t){return!Object.keys(e.oldTranslations).includes(t)}):this.usedLanguages).forEach(function(t){e.oldTranslations[t]=""}),_.isEmpty(this.oldTranslations)&&this.addLanguage(),this.oldTranslations=JSON.parse(JSON.stringify(this.oldTranslations)),"description"!==this.type&&"cf"!==this.tab&&"url"!==this.type||(this.languageWidth=24);var t=JSON.parse(JSON.stringify(this.cfOptions));t.forEach(function(t){t.translations?t.translations=JSON.parse(t.translations):t.translations={},e.usedLanguages.forEach(function(e){t.translations[e]||(t.translations[e]="")})}),this.options=t,this.allLanguagesKeys=Object.keys(this.allLanguagesData)},computed:{dialogStyle:function(){return"cf"!==this.tab&&"category"!==this.tab?"margin-bottom: 0":""}},methods:{saveDialog:function(){var e=this;this.newTranslations.forEach(function(t){t.lan&&(e.usedLanguages.includes(t.lan)||e.newLanguages.push(t.lan),e.oldTranslations[t.lan]=t.value)}),this.translations[this.type]=this.oldTranslations,this.options.forEach(function(e){e.edited=!0,e.translations=JSON.stringify(e.translations)}),this.$emit("saveDialogTranslate",JSON.stringify(this.translations),this.newLanguages,this.tab,this.options)},closeDialog:function(){this.$emit("closeDialogTranslate")},addLanguage:function(){this.newTranslations.push({lan:"",value:""})},getLanguageLabel:function(e,t){return t&&"name"===this.type&&"cf"!==this.tab?this.allLanguagesData[e].name.substring(0,21):this.allLanguagesData[e].name},getLanguageFlag:function(e){return e&&this.allLanguagesData[e]&&this.allLanguagesData[e].country_code?this.$root.getUrl+"public/img/flags/"+this.allLanguagesData[e].country_code+".png":this.$root.getUrl+"public/img/grey.svg"},goBack:function(){"cf"===this.tab||"category"===this.tab?this.closeDialog():this.saveDialog()},getHeaderTitle:function(){return"cf"===this.tab?this.$root.labels.translate+" "+this.$root.labels.custom_field:"description"===this.type?this.$root.labels.translate+" "+this.$root.labels.description:"url"===this.type?this.$root.labels.url:this.$root.labels.translate+" "+this.name}}}},899:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"am-dialog-translate"},[i("div",{staticClass:"am-dialog-scrollable",style:e.dialogStyle},[i("div",{staticClass:"am-dialog-header"},[i("el-row",[i("el-col",{attrs:{span:16}},[i("img",{staticClass:"am-dialog-translate-svg-back",attrs:{src:e.$root.getUrl+"public/img/arrow-back.svg"},on:{click:e.goBack}}),e._v(" "),i("h2",[e._v(e._s(e.getHeaderTitle()))])]),e._v(" "),i("el-col",{staticClass:"align-right",attrs:{span:8}},[i("el-button",{staticClass:"am-dialog-close",attrs:{size:"small",icon:"el-icon-close"},on:{click:e.closeDialog}})],1)],1)],1),e._v(" "),e._l(e.oldTranslations,function(t,n){return i("div",{key:n},[e.usedLanguages&&-1!==e.usedLanguages.indexOf(n)?i("el-row",{attrs:{gutter:28,type:"flex"}},[i("el-col",{staticStyle:{"padding-right":"0"},attrs:{xs:e.languageWidth,sm:e.languageWidth}},[i("div",{staticClass:"used-language"},[i("img",{staticClass:"am-dialog-translate-flag",attrs:{src:e.getLanguageFlag(n)}}),e._v("\n            "+e._s(e.getLanguageLabel(n,!0))+"\n          ")])]),e._v(" "),"name"===e.type&&"cf"!==e.tab?i("el-col",{staticStyle:{"padding-right":"0"},attrs:{xs:8,sm:14}},[i("el-input",{attrs:{type:"text",placeholder:e.$root.labels.translation},model:{value:e.oldTranslations[n],callback:function(t){e.$set(e.oldTranslations,n,t)},expression:"oldTranslations[key]"}})],1):e._e()],1):e._e(),e._v(" "),"description"===e.type&&e.usedLanguages&&-1!==e.usedLanguages.indexOf(n)?i("el-row",{staticClass:"am-dialog-translate-description",staticStyle:{"margin-bottom":"8px"},attrs:{gutter:24,type:"flex"}},[i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:24}},[i("el-input",{attrs:{value:t,type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.oldTranslations[n],callback:function(t){e.$set(e.oldTranslations,n,t)},expression:"oldTranslations[key]"}})],1)],1):e._e(),e._v(" "),"url"===e.type&&e.usedLanguages&&-1!==e.usedLanguages.indexOf(n)?i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:24,type:"flex"}},[i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:24}},[i("el-input",{attrs:{value:t},model:{value:e.oldTranslations[n],callback:function(t){e.$set(e.oldTranslations,n,t)},expression:"oldTranslations[key]"}})],1)],1):e._e(),e._v(" "),"cf"===e.tab&&e.usedLanguages&&-1!==e.usedLanguages.indexOf(n)?i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:26,type:"flex"}},[i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf"},[e._v(" "+e._s(e.$root.labels.label_name)+" ")])]),e._v(" "),i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf-label"},[i("i",[e._v(e._s(e.name))])])]),e._v(" "),i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:14}},[i("el-input",{attrs:{value:t,type:"text",placeholder:" "},model:{value:e.oldTranslations[n],callback:function(t){e.$set(e.oldTranslations,n,t)},expression:"oldTranslations[key]"}})],1)],1):e._e(),e._v(" "),e._l(e.options,function(t,a){return e.cfOptions.length&&e.usedLanguages&&-1!==e.usedLanguages.indexOf(n)?i("div",[i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:20,type:"flex"}},[i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf"},[e._v(" #"+e._s(a))])]),e._v(" "),i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf-label"},[i("i",[e._v(e._s(t.label))])])]),e._v(" "),i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:14}},[i("el-input",{attrs:{type:"text",placeholder:" "},model:{value:t.translations[n],callback:function(i){e.$set(t.translations,n,i)},expression:"option['translations'][key]"}})],1)],1)],1):e._e()})],2)}),e._v(" "),e._l(e.newTranslations,function(t,n){return i("div",{key:n},[i("el-row",{staticStyle:{"margin-right":"-15px"},attrs:{gutter:28,type:"flex"}},[i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:e.languageWidth}},[i("el-select",{attrs:{placeholder:e.$root.labels.language,clearable:"",filterable:""},model:{value:e.newTranslations[n].lan,callback:function(t){e.$set(e.newTranslations[n],"lan",t)},expression:"newTranslations[index].lan"}},[i("template",{slot:"prefix"},[i("img",{staticClass:"am-dialog-translate-flag-selected",attrs:{src:e.getLanguageFlag(e.newTranslations[n].lan)}})]),e._v(" "),e._l(e.allLanguagesKeys,function(t,n){return i("el-option",{key:n,attrs:{label:e.getLanguageLabel(t,!1),value:t,disabled:t in e.oldTranslations}},[i("span",[i("img",{staticClass:"am-dialog-translate-flag",attrs:{src:e.getLanguageFlag(t)}}),e._v("\n                "+e._s(e.getLanguageLabel(t,!1))+"\n              ")])])})],2)],1),e._v(" "),"name"===e.type&&"cf"!==e.tab?i("el-col",{staticStyle:{"padding-right":"0"},attrs:{xs:14,sm:18}},[i("el-input",{attrs:{type:"text",name:t.name,placeholder:e.$root.labels.translation},model:{value:e.newTranslations[n].value,callback:function(t){e.$set(e.newTranslations[n],"value",t)},expression:"newTranslations[index].value"}})],1):e._e()],1),e._v(" "),"description"===e.type?i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:24,type:"flex"}},[i("el-col",{attrs:{sm:24}},[i("el-input",{attrs:{value:t,type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.newTranslations[n].value,callback:function(t){e.$set(e.newTranslations[n],"value",t)},expression:"newTranslations[index].value"}})],1)],1):e._e(),e._v(" "),"url"===e.type?i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:24,type:"flex"}},[i("el-col",{attrs:{sm:24}},[i("el-input",{attrs:{value:t},model:{value:e.newTranslations[n].value,callback:function(t){e.$set(e.newTranslations[n],"value",t)},expression:"newTranslations[index].value"}})],1)],1):e._e(),e._v(" "),"cf"===e.tab?i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:20,type:"flex"}},[i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf"},[e._v(" "+e._s(e.$root.labels.label_name)+" ")])]),e._v(" "),i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf-label"},[i("i",[e._v(e._s(e.name))])])]),e._v(" "),i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:14}},[i("el-input",{attrs:{type:"text",name:t.name},model:{value:e.newTranslations[n].value,callback:function(t){e.$set(e.newTranslations[n],"value",t)},expression:"newTranslations[index].value"}})],1)],1):e._e(),e._v(" "),e._l(e.options,function(t,a){return e.cfOptions.length?i("div",[i("el-row",{staticClass:"am-dialog-translate-description",attrs:{gutter:24,type:"flex"}},[i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf"},[e._v(" #"+e._s(a))])]),e._v(" "),i("el-col",{attrs:{sm:5}},[i("div",{staticClass:"am-dialog-translate-cf-label"},[i("i",[e._v(e._s(t.label))])])]),e._v(" "),i("el-col",{staticStyle:{"padding-right":"0"},attrs:{sm:14}},[i("el-input",{attrs:{type:"text",placeholder:" "},model:{value:t.translations[e.newTranslations[n].lan],callback:function(i){e.$set(t.translations,e.newTranslations[n].lan,i)},expression:"option['translations'][newTranslations[index].lan]"}})],1)],1)],1):e._e()})],2)}),e._v(" "),i("div",[i("img",{staticClass:"am-dialog-translate-svg-plus",attrs:{src:e.$root.getUrl+"public/img/plus-circle.svg"},on:{click:e.addLanguage}}),e._v(" "),i("div",{staticClass:"add-language",on:{click:e.addLanguage}},[e._v(e._s(e.$root.labels.add_language))])])],2),e._v(" "),"category"===e.tab||"cf"===e.tab?i("div",{staticClass:"am-dialog-footer"},[i("div",{staticClass:"am-dialog-footer-actions"},[i("el-row",[i("el-col",{staticClass:"align-right",attrs:{sm:24}},[i("el-button",{attrs:{type:""},on:{click:e.closeDialog}},[e._v(e._s(e.$root.labels.cancel))]),e._v(" "),i("el-button",{staticClass:"am-dialog-create",attrs:{type:"primary"},on:{click:e.saveDialog}},[e._v(e._s(e.$root.labels.save))])],1)],1)],1)]):e._e()])},staticRenderFns:[]}}});